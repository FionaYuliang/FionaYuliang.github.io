<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>ä»Šæ—¥é˜…è¯»-ç”Ÿæ´»ç›¸å…³å†…å®¹</title>
    <link href="/2023/08/09/%E4%BB%8A%E6%97%A5%E9%98%85%E8%AF%BB-%E5%B7%A5%E4%BD%9C%E7%9B%B8%E5%85%B3%E5%86%85%E5%AE%B9%20copy/"/>
    <url>/2023/08/09/%E4%BB%8A%E6%97%A5%E9%98%85%E8%AF%BB-%E5%B7%A5%E4%BD%9C%E7%9B%B8%E5%85%B3%E5%86%85%E5%AE%B9%20copy/</url>
    
    <content type="html"><![CDATA[<h1 id="ç¼˜èµ·"><a href="#ç¼˜èµ·" class="headerlink" title="ç¼˜èµ·"></a>ç¼˜èµ·</h1><p>æ¯å¤©çš„ç”Ÿæ´»è¢«å„å¼å„æ ·çš„ç¢ç‰‡ä¿¡æ¯å……æ–¥ç€ï¼Œçœ‹è¿‡å¾ˆå¤šå¥½æ–‡ç« ï¼Œå¯èƒ½ä¹Ÿä¼šæ·¹æ²¡åœ¨ä¿¡æ¯æ´ªæµé‡Œäº†ã€‚åƒçŸ³å¢¨ã€è¯­é›€ç­‰è‡ªå·±ä¹Ÿåœ¨ç”¨ï¼Œä¸è¿‡æ¯”è¾ƒç§äººåŒ–ï¼Œäºæ˜¯å°±ä»¿ç…§æµè§ˆå™¨çš„åˆ†ç±»æ”¶è—å¤¹åŠŸèƒ½ï¼Œå»ºç«‹ä¸€ä¸ªå¯å…¬å¼€çš„ã€å¯æº¯æºæ—¶é—´çº¿çš„ã€å±äºè‡ªå·±çš„é˜…è¯»çŸ¥è¯†åº“ï¼ŒåŒæ—¶ï¼Œå’ŒåŒè¡Œã€åŒäº‹ã€æœ‹å‹å®šæœŸäº¤æµä¹Ÿæ–¹ä¾¿äº†å¾ˆå¤šã€‚</p><p>æ‰€ä»¥å°±æœ‰äº†ç½®é¡¶çš„è¿™ä¸¤ç¯‡ã€Œä»Šæ—¥é˜…è¯»ã€ï¼Œè¿™ç¯‡æ˜¯ç”Ÿæ´»ç›¸å…³ï¼Œå¦ä¸€ç¯‡å·¥ä½œç›¸å…³ã€‚</p><p>ç”Ÿæ´»ç›¸å…³é‡Œç•™å­˜çš„æ˜¯ï¼Œé™¤æŠ€æœ¯å¤–çš„ã€åŠè¡°æœŸè¾ƒé•¿çš„å¥½æ–‡ç« ï¼Œæˆ–æ˜¯æŸä¸ªå­¦ç§‘é¢†åŸŸçš„ä¸€ç¥ï¼Œæˆ–æ˜¯å¯¹ä¸–ç•Œä¸€äº›ç°è±¡å’Œè§„å¾‹çš„è§£é‡Šï¼Œæˆ–æ˜¯å•çº¯çš„æœ‰è¶£çš„çµæ„Ÿä¸€ç°ï¼Œç­‰ç­‰ç­‰ç­‰ã€‚</p><p>å®‡å®™é¨æ¸¸ï¼Œæ— éœ€æ‰“æã€‚</p><h1 id="2023å¹´5æœˆxæ—¥"><a href="#2023å¹´5æœˆxæ—¥" class="headerlink" title="2023å¹´5æœˆxæ—¥"></a>2023å¹´5æœˆxæ—¥</h1><ul><li>ã€Œç”µå­ä¹¦å¯¼å‡ºåŠ©æ‰‹ä¸‰å‰‘å®¢ã€<ul><li>çŸ¥ä¹ç”¨æˆ·å›ç­”å¯¼å‡ºï¼Œæœç´¢ã€ŒçŸ¥ä¹åŠ©æ‰‹ã€</li><li><a href="https://www.juyimv.cn/">å¾®ä¿¡å…¬ä¼—å·æ–‡ç« å¯¼å‡º</a><ul><li>ä»Šå¤©ç»™æœ‹å‹æ¨èçš„</li></ul></li><li><a href="https://www.onlinedown.net/soft/10079626.htm">ç¨³éƒ¨è½</a></li></ul></li></ul><h1 id="2023å¹´01æœˆ10æ—¥"><a href="#2023å¹´01æœˆ10æ—¥" class="headerlink" title="2023å¹´01æœˆ10æ—¥"></a>2023å¹´01æœˆ10æ—¥</h1><ul><li><a href="https://gb.goodux.cn/#l14">è®¤çŸ¥åå·®æ‰‹å†Œ</a><ul><li>åŒ…å«äº†67ç§è®¤çŸ¥åå·®è¿˜æœ‰å¯¹åº”çš„ç†è§£ã€‚</li><li>ã€Œè®¤çŸ¥è°¬è¯¯ã€è¿™ä¸ªè¯ï¼Œæ˜¯åˆšæ¯•ä¸šé‚£ä¸€å¹´ï¼ŒçŸ¥ä¹å¤§Vå¤©æ‰å°ç†ŠçŒ«çš„ä¸€ä¸ªé•¿å¸–å­é‡ŒçŸ¥é“çš„ï¼Œå†™çš„å¾ˆå…¨é¢ï¼Œæ˜¯æˆ‘ç¬¬ä¸€æ¬¡æ¯”è¾ƒç³»ç»Ÿçš„è®¤è¯†äº†è®¤çŸ¥è°¬è¯¯è¿™ä¸ªä¸œè¥¿ã€‚</li></ul></li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>what-read-today</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä»Šæ—¥é˜…è¯»-å·¥ä½œç›¸å…³å†…å®¹</title>
    <link href="/2023/08/09/%E4%BB%8A%E6%97%A5%E9%98%85%E8%AF%BB-%E5%B7%A5%E4%BD%9C%E7%9B%B8%E5%85%B3%E5%86%85%E5%AE%B9/"/>
    <url>/2023/08/09/%E4%BB%8A%E6%97%A5%E9%98%85%E8%AF%BB-%E5%B7%A5%E4%BD%9C%E7%9B%B8%E5%85%B3%E5%86%85%E5%AE%B9/</url>
    
    <content type="html"><![CDATA[<h1 id="ç¼˜èµ·"><a href="#ç¼˜èµ·" class="headerlink" title="ç¼˜èµ·"></a>ç¼˜èµ·</h1><p>æ¯å¤©çš„ç”Ÿæ´»è¢«å„å¼å„æ ·çš„ç¢ç‰‡ä¿¡æ¯å……æ–¥ç€ï¼Œçœ‹è¿‡å¾ˆå¤šå¥½æ–‡ç« ï¼Œå¯èƒ½ä¹Ÿä¼šæ·¹æ²¡åœ¨ä¿¡æ¯æ´ªæµé‡Œäº†ã€‚åƒçŸ³å¢¨ã€è¯­é›€ç­‰è‡ªå·±ä¹Ÿåœ¨ç”¨ï¼Œä¸è¿‡æ¯”è¾ƒç§äººåŒ–ï¼Œäºæ˜¯å°±ä»¿ç…§æµè§ˆå™¨çš„åˆ†ç±»æ”¶è—å¤¹åŠŸèƒ½ï¼Œå»ºç«‹ä¸€ä¸ªå¯å…¬å¼€çš„ã€å¯æº¯æºæ—¶é—´çº¿çš„ã€å±äºè‡ªå·±çš„é˜…è¯»çŸ¥è¯†åº“ï¼ŒåŒæ—¶ï¼Œå’ŒåŒè¡Œã€åŒäº‹ã€æœ‹å‹å®šæœŸäº¤æµä¹Ÿæ–¹ä¾¿äº†å¾ˆå¤šã€‚</p><p>æ‰€ä»¥å°±æœ‰äº†ç½®é¡¶çš„è¿™ä¸¤ç¯‡ã€Œä»Šæ—¥é˜…è¯»ã€ï¼Œè¿™ç¯‡æ˜¯å·¥ä½œç›¸å…³ï¼Œå¦ä¸€ç¯‡ç”Ÿæ´»ç›¸å…³ã€‚</p><p>å®‡å®™é¨æ¸¸ï¼Œå®šæœŸæ‰“æã€‚</p><h1 id="2023å¹´04æœˆ20æ—¥"><a href="#2023å¹´04æœˆ20æ—¥" class="headerlink" title="2023å¹´04æœˆ20æ—¥"></a>2023å¹´04æœˆ20æ—¥</h1><ul><li><a href="https://poke-holo.simey.me/">å®å¯æ¢¦å¡ç‰‡</a><ul><li>ä¸€ä¸ªå‡ ä¹æ˜¯çº¯cssçš„é¡¹ç›®ï¼ŒåªæŠŠjsç”¨äºè·å–é¼ æ ‡ä½ç½®å’Œç”Ÿæˆéšæœºå‚æ•°</li><li>é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/simeydotme/pokemon-cards-css">https://github.com/simeydotme/pokemon-cards-css</a></li></ul></li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>what-read-today</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Webpack é«˜çº§é…ç½®æ€»ç»“</title>
    <link href="/2022/11/24/Webpack%20%E9%AB%98%E7%BA%A7%E9%85%8D%E7%BD%AE%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/"/>
    <url>/2022/11/24/Webpack%20%E9%AB%98%E7%BA%A7%E9%85%8D%E7%BD%AE%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/</url>
    
    <content type="html"><![CDATA[<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>é«˜çº§é…ç½®çš„å­¦ä¹ ï¼Œä» 4 ä¸ªè§’åº¦å¯¹ webpack å’Œä»£ç è¿›è¡Œäº†ä¼˜åŒ–ï¼š</p><p><strong>1. æå‡å¼€å‘ä½“éªŒ enhance experince</strong></p><ul><li>ä½¿ç”¨ <code>Source Map</code> è®©å¼€å‘æˆ–ä¸Šçº¿æ—¶ä»£ç æŠ¥é”™èƒ½æœ‰æ›´åŠ å‡†ç¡®çš„é”™è¯¯æç¤ºã€‚</li></ul><p><strong>2. æå‡ webpack æå‡æ‰“åŒ…æ„å»ºé€Ÿåº¦ lifting speed</strong></p><ul><li>ä½¿ç”¨ <code>HotModuleReplacement</code> è®©å¼€å‘æ—¶åªé‡æ–°ç¼–è¯‘æ‰“åŒ…æ›´æ–°å˜åŒ–äº†çš„ä»£ç ï¼Œä¸å˜çš„ä»£ç ä½¿ç”¨ç¼“å­˜ï¼Œä»è€Œä½¿æ›´æ–°é€Ÿåº¦æ›´å¿«ã€‚</li><li>ä½¿ç”¨ <code>OneOf</code> è®©èµ„æºæ–‡ä»¶ä¸€æ—¦è¢«æŸä¸ª loader å¤„ç†äº†ï¼Œå°±ä¸ä¼šç»§ç»­éå†äº†ï¼Œæ‰“åŒ…é€Ÿåº¦æ›´å¿«ã€‚</li><li>ä½¿ç”¨ <code>Include/Exclude</code> æ’é™¤æˆ–åªæ£€æµ‹æŸäº›æ–‡ä»¶ï¼Œå¤„ç†çš„æ–‡ä»¶æ›´å°‘ï¼Œé€Ÿåº¦æ›´å¿«ã€‚</li><li>ä½¿ç”¨ <code>Cache</code> å¯¹ eslint å’Œ babel å¤„ç†çš„ç»“æœè¿›è¡Œç¼“å­˜ï¼Œè®©ç¬¬äºŒæ¬¡æ‰“åŒ…é€Ÿåº¦æ›´å¿«ã€‚</li><li>ä½¿ç”¨ <code>Thead</code> å¤šè¿›ç¨‹å¤„ç† eslint å’Œ babel ä»»åŠ¡ï¼Œé€Ÿåº¦æ›´å¿«ã€‚ï¼ˆéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿›ç¨‹å¯åŠ¨é€šä¿¡éƒ½æœ‰å¼€é”€çš„ï¼Œè¦åœ¨æ¯”è¾ƒå¤šä»£ç å¤„ç†æ—¶ä½¿ç”¨æ‰æœ‰æ•ˆæœ, æ‰€ä»¥å¼€å‘çš„æ—¶å€™ä¸è¦ä¸€ä¸Šæ¥å°±ç”¨å¤šè¿›ç¨‹ï¼Œç­‰é¡¹ç›®åºå¤§ç¡®å®æ„Ÿåˆ°æ‰“åŒ…é€Ÿåº¦å¾ˆæ…¢æ—¶æ‰ç”¨ï¼Œè¦æ˜¯æ²¡æœ‰æ˜æ˜¾æå‡ï¼Œå°±è¿‡æ®µæ—¶é—´å†ç”¨ï¼‰</li></ul><p><strong>3. å‡å°‘ä»£ç ä½“ç§¯ reduce volume</strong></p><ul><li>ğŸŒ² ä½¿ç”¨ <code>Tree Shaking</code> å‰”é™¤äº†æ²¡æœ‰ä½¿ç”¨çš„å¤šä½™ä»£ç ï¼Œè®©ä»£ç ä½“ç§¯æ›´å°ã€‚</li><li>ä½¿ç”¨ <code>@babel/plugin-transform-runtime</code> æ’ä»¶å¯¹ babel è¿›è¡Œå¤„ç†ï¼Œè®©è¾…åŠ©ä»£ç ä»ä¸­å¼•å…¥ï¼Œè€Œä¸æ˜¯æ¯ä¸ªæ–‡ä»¶éƒ½ç”Ÿæˆè¾…åŠ©ä»£ç ï¼Œä»è€Œä½“ç§¯æ›´å°ã€‚</li><li>ä½¿ç”¨ <code>Image Minimizer</code> å¯¹é¡¹ç›®ä¸­å›¾ç‰‡è¿›è¡Œå‹ç¼©ï¼Œä½“ç§¯æ›´å°ï¼Œè¯·æ±‚é€Ÿåº¦æ›´å¿«ã€‚ï¼ˆéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœé¡¹ç›®ä¸­å›¾ç‰‡éƒ½æ˜¯åœ¨çº¿é“¾æ¥ï¼Œé‚£ä¹ˆå°±ä¸éœ€è¦äº†ï¼›æœ¬åœ°é¡¹ç›®é™æ€å›¾ç‰‡æ‰éœ€è¦è¿›è¡Œå‹ç¼©ã€‚ï¼‰</li></ul><p><strong>4. ä¼˜åŒ–ä»£ç è¿è¡Œæ€§èƒ½ optimize performance</strong></p><ul><li>ä½¿ç”¨ <code>Code Split</code> å¯¹ä»£ç è¿›è¡Œåˆ†å‰²æˆå¤šä¸ª js æ–‡ä»¶ï¼Œä»è€Œä½¿å•ä¸ªæ–‡ä»¶ä½“ç§¯æ›´å°ï¼Œå¹¶è¡ŒåŠ è½½ js é€Ÿåº¦æ›´å¿«ã€‚å¹¶é€šè¿‡ import åŠ¨æ€å¯¼å…¥è¯­æ³•è¿›è¡ŒæŒ‰éœ€åŠ è½½ï¼Œè¿™é‡Œä¸»è¦ä½“ç°åœ¨è·¯ç”±æ‡’åŠ è½½ä¸Šï¼Œä»è€Œè¾¾åˆ°éœ€è¦ä½¿ç”¨æ—¶æ‰åŠ è½½è¯¥èµ„æºï¼Œä¸ç”¨æ—¶ä¸åŠ è½½èµ„æºã€‚</li><li>ä½¿ç”¨ <code>Preload / Prefetch</code> å¯¹ä»£ç è¿›è¡Œæå‰åŠ è½½ï¼Œç­‰æœªæ¥éœ€è¦ä½¿ç”¨æ—¶å°±èƒ½ç›´æ¥ä½¿ç”¨ï¼Œä»è€Œç”¨æˆ·ä½“éªŒæ›´å¥½ã€‚</li><li>ä½¿ç”¨ <code>Network Cache</code> èƒ½å¯¹è¾“å‡ºèµ„æºæ–‡ä»¶è¿›è¡Œæ›´å¥½çš„å‘½åï¼Œå°†æ¥å¥½åšç¼“å­˜ï¼Œä»è€Œç”¨æˆ·ä½“éªŒæ›´å¥½ã€‚</li><li>ä½¿ç”¨ <code>Core-js</code> å¯¹ js è¿›è¡Œå…¼å®¹æ€§å¤„ç†ï¼Œè®©æˆ‘ä»¬ä»£ç èƒ½è¿è¡Œåœ¨ä½ç‰ˆæœ¬æµè§ˆå™¨ã€‚</li><li>ä½¿ç”¨ <code>PWA</code> èƒ½è®©ä»£ç ç¦»çº¿ä¹Ÿèƒ½è®¿é—®ï¼Œä»è€Œæå‡ç”¨æˆ·ä½“éªŒã€‚ä¸è¿‡ PWA çš„å…¼å®¹æ€§ä¸å¤ªå¥½ï¼Œéœ€è¦æ–Ÿé…Œä½¿ç”¨ã€‚</li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>JavaScriptï¼ŒWebpack</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Webpack5 é«˜çº§é…ç½®4ï¼šå¦‚ä½•ä¼˜åŒ–ä»£ç è¿è¡Œæ€§èƒ½</title>
    <link href="/2022/11/24/Webpack%E9%AB%98%E7%BA%A7%E9%85%8D%E7%BD%AE4%EF%BC%9A%E5%A6%82%E4%BD%95%E4%BC%98%E5%8C%96%E4%BB%A3%E7%A0%81%E8%BF%90%E8%A1%8C%E6%80%A7%E8%83%BD/"/>
    <url>/2022/11/24/Webpack%E9%AB%98%E7%BA%A7%E9%85%8D%E7%BD%AE4%EF%BC%9A%E5%A6%82%E4%BD%95%E4%BC%98%E5%8C%96%E4%BB%A3%E7%A0%81%E8%BF%90%E8%A1%8C%E6%80%A7%E8%83%BD/</url>
    
    <content type="html"><![CDATA[<h1 id="ä¼˜åŒ–ä»£ç è¿è¡Œæ€§èƒ½-optimize-performance"><a href="#ä¼˜åŒ–ä»£ç è¿è¡Œæ€§èƒ½-optimize-performance" class="headerlink" title="ä¼˜åŒ–ä»£ç è¿è¡Œæ€§èƒ½ optimize performance"></a>ä¼˜åŒ–ä»£ç è¿è¡Œæ€§èƒ½ optimize performance</h1><h2 id="Code-Split"><a href="#Code-Split" class="headerlink" title="Code Split"></a>Code Split</h2><h3 id="é—®é¢˜èƒŒæ™¯"><a href="#é—®é¢˜èƒŒæ™¯" class="headerlink" title="é—®é¢˜èƒŒæ™¯"></a>é—®é¢˜èƒŒæ™¯</h3><p>æ‰“åŒ…ä»£ç æ—¶ä¼šå°†æ‰€æœ‰ js æ–‡ä»¶æ‰“åŒ…åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œä½“ç§¯å¤ªå¤§äº†ã€‚å¦‚æœåªè¦æ¸²æŸ“é¦–é¡µï¼Œå°±åº”è¯¥åªåŠ è½½é¦–é¡µçš„ js æ–‡ä»¶ï¼Œå…¶ä»–æ–‡ä»¶ä¸åº”è¯¥åŠ è½½ã€‚</p><p>æ‰€ä»¥éœ€è¦å°†æ‰“åŒ…ç”Ÿæˆçš„æ–‡ä»¶è¿›è¡Œä»£ç åˆ†å‰²ï¼Œç”Ÿæˆå¤šä¸ª js æ–‡ä»¶ï¼Œæ¸²æŸ“å“ªä¸ªé¡µé¢å°±åªåŠ è½½æŸä¸ª js æ–‡ä»¶ï¼Œè¿™æ ·åŠ è½½çš„èµ„æºå°±å°‘ï¼Œé€Ÿåº¦å°±æ›´å¿«ã€‚</p><h3 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h3><p>ä»£ç åˆ†å‰²ï¼ˆCode Splitï¼‰ä¸»è¦åšäº†ä¸¤ä»¶äº‹ï¼š</p><ol><li>åˆ†å‰²æ–‡ä»¶ï¼šå°†æ‰“åŒ…ç”Ÿæˆçš„æ–‡ä»¶è¿›è¡Œåˆ†å‰²ï¼Œç”Ÿæˆå¤šä¸ª js æ–‡ä»¶ã€‚</li><li>æŒ‰éœ€åŠ è½½ï¼šéœ€è¦å“ªä¸ªæ–‡ä»¶å°±åŠ è½½å“ªä¸ªæ–‡ä»¶ã€‚</li></ol><h3 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h3><p>ä»£ç åˆ†å‰²å®ç°æ–¹å¼æœ‰ä¸åŒçš„æ–¹å¼ï¼Œä¸ºäº†æ›´åŠ æ–¹ä¾¿ä½“ç°å®ƒä»¬ä¹‹é—´çš„å·®å¼‚ï¼Œåˆ›å»ºäº†æ–°çš„æ–‡ä»¶æ¥æ¼”ç¤ºå’ŒåŠ æ·±å­¦ä¹ å°è±¡</p><h5 id="1-å¤šå…¥å£"><a href="#1-å¤šå…¥å£" class="headerlink" title="1. å¤šå…¥å£"></a>1. å¤šå…¥å£</h5><ol><li>æ–°åˆ›å»ºçš„æ–‡ä»¶ç›®å½•å¦‚ä¸‹</li></ol><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs x86asm">â”œâ”€â”€ <span class="hljs-meta">public</span><br>|   â”œâ”€â”€ index<span class="hljs-number">.</span>html<br>â”œâ”€â”€ src<br>|   â”œâ”€â”€ app<span class="hljs-number">.</span><span class="hljs-keyword">js</span><br>|   â””â”€â”€ main<span class="hljs-number">.</span><span class="hljs-keyword">js</span><br>â”œâ”€â”€ package<span class="hljs-number">.</span>json<br>â””â”€â”€ webpack<span class="hljs-number">.</span>config<span class="hljs-number">.</span><span class="hljs-keyword">js</span><br></code></pre></td></tr></table></figure><ol start="2"><li>ä¸‹è½½åŒ…</li></ol><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">npm <span class="hljs-selector-tag">i</span> webpack webpack-cli <span class="hljs-selector-tag">html</span>-webpack-plugin -D<br></code></pre></td></tr></table></figure><ol start="3"><li>æ–°å»ºæ–‡ä»¶ï¼Œè§‚å¯Ÿæ‰“åŒ…è¾“å‡ºçš„ç»“æœ</li></ol><ul><li>app.js</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;hello app&quot;</span>);<br></code></pre></td></tr></table></figure><ul><li>main.js</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;hello main&quot;</span>);<br></code></pre></td></tr></table></figure><ol start="4"><li>é…ç½®</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// webpack.config.js</span><br><span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;path&quot;</span>);<br><span class="hljs-keyword">const</span> <span class="hljs-title class_">HtmlWebpackPlugin</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;html-webpack-plugin&quot;</span>);<br><br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>  <span class="hljs-comment">// å•å…¥å£</span><br>  <span class="hljs-comment">// entry: &#x27;./src/main.js&#x27;,</span><br>  <span class="hljs-comment">// å¤šå…¥å£</span><br>  <span class="hljs-attr">entry</span>: &#123;<br>    <span class="hljs-attr">main</span>: <span class="hljs-string">&quot;./src/main.js&quot;</span>,<br>    <span class="hljs-attr">app</span>: <span class="hljs-string">&quot;./src/app.js&quot;</span>,<br>  &#125;,<br>  <span class="hljs-attr">output</span>: &#123;<br>    <span class="hljs-attr">path</span>: path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">&quot;./dist&quot;</span>),<br>    <span class="hljs-comment">// [name]æ˜¯webpackå‘½åè§„åˆ™ï¼Œä½¿ç”¨chunkçš„nameä½œä¸ºè¾“å‡ºçš„æ–‡ä»¶åã€‚</span><br>    <span class="hljs-comment">// ä»€ä¹ˆæ˜¯chunkï¼Ÿæ‰“åŒ…çš„èµ„æºå°±æ˜¯chunkï¼Œè¾“å‡ºå‡ºå»å«bundleã€‚</span><br>    <span class="hljs-comment">// chunkçš„nameæ˜¯å•¥å‘¢ï¼Ÿ æ¯”å¦‚ï¼š entryä¸­xxx: &quot;./src/xxx.js&quot;, nameå°±æ˜¯xxxã€‚æ³¨æ„æ˜¯å‰é¢çš„xxxï¼Œå’Œæ–‡ä»¶åæ— å…³ã€‚</span><br>    <span class="hljs-comment">// ä¸ºä»€ä¹ˆéœ€è¦è¿™æ ·å‘½åå‘¢ï¼Ÿå¦‚æœè¿˜æ˜¯ä¹‹å‰å†™æ³•main.jsï¼Œé‚£ä¹ˆæ‰“åŒ…ç”Ÿæˆä¸¤ä¸ªjsæ–‡ä»¶éƒ½ä¼šå«åšmain.jsä¼šå‘ç”Ÿè¦†ç›–ã€‚(å®é™…ä¸Šä¼šç›´æ¥æŠ¥é”™çš„)</span><br>    <span class="hljs-attr">filename</span>: <span class="hljs-string">&quot;js/[name].js&quot;</span>,<br>    <span class="hljs-attr">clear</span>: <span class="hljs-literal">true</span>,<br>  &#125;,<br>  <span class="hljs-attr">plugins</span>: [<br>    <span class="hljs-keyword">new</span> <span class="hljs-title class_">HtmlWebpackPlugin</span>(&#123;<br>      <span class="hljs-attr">template</span>: <span class="hljs-string">&quot;./public/index.html&quot;</span>,<br>    &#125;),<br>  ],<br>  <span class="hljs-attr">mode</span>: <span class="hljs-string">&quot;production&quot;</span>,<br>&#125;;<br></code></pre></td></tr></table></figure><ol start="5"><li>è¿è¡ŒæŒ‡ä»¤ <code>npx webpack</code></li></ol><p>æ­¤æ—¶åœ¨ dist ç›®å½•èƒ½çœ‹åˆ°è¾“å‡ºäº†ä¸¤ä¸ª js æ–‡ä»¶ã€‚å¤šå…¥å£æ‰“åŒ…ï¼Œé…ç½®äº†å‡ ä¸ªå…¥å£ï¼Œè‡³å°‘è¾“å‡ºå‡ ä¸ª js æ–‡ä»¶ã€‚</p><h5 id="2-æå–é‡å¤ä»£ç "><a href="#2-æå–é‡å¤ä»£ç " class="headerlink" title="2. æå–é‡å¤ä»£ç "></a>2. æå–é‡å¤ä»£ç </h5><p>å¦‚æœå¤šå…¥å£æ–‡ä»¶ä¸­éƒ½å¼•ç”¨åŒä¸€ä»½ä»£ç ï¼Œè¿™ä»½ä»£ç ä¼šè¢«æ‰“åŒ…å¤šæ¬¡ï¼Œå¯¼è‡´ä»£ç é‡å¤ï¼Œä½“ç§¯æ›´å¤§ï¼Œæ‰€ä»¥åªæ‰“åŒ…ç”Ÿæˆä¸€ä¸ª js æ–‡ä»¶ï¼Œå…¶ä»–æ–‡ä»¶å¼•ç”¨å®ƒå°±å¥½ã€‚</p><ol><li>ä¿®æ”¹æ–‡ä»¶</li></ol><ul><li>app.js</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; sum &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./math&quot;</span>;<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;hello app&quot;</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">sum</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>));<br></code></pre></td></tr></table></figure><ul><li>main.js</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; sum &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./math&quot;</span>;<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;hello main&quot;</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">sum</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>));<br></code></pre></td></tr></table></figure><ul><li>math.js</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">sum</span> = (<span class="hljs-params">...args</span>) =&gt; &#123;<br>  <span class="hljs-keyword">return</span> args.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">p, c</span>) =&gt;</span> p + c, <span class="hljs-number">0</span>);<br>&#125;;<br></code></pre></td></tr></table></figure><ol start="2"><li>ä¿®æ”¹é…ç½®æ–‡ä»¶</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><code class="hljs js&#123;28-67&#125;">// webpack.config.js<br>const path = require(&quot;path&quot;);<br>const HtmlWebpackPlugin = require(&quot;html-webpack-plugin&quot;);<br><br>module.exports = &#123;<br>  // å•å…¥å£<br>  // entry: &#x27;./src/main.js&#x27;,<br>  // å¤šå…¥å£<br>  entry: &#123;<br>    main: &quot;./src/main.js&quot;,<br>    app: &quot;./src/app.js&quot;,<br>  &#125;,<br>  output: &#123;<br>    path: path.resolve(__dirname, &quot;./dist&quot;),<br>    // [name]æ˜¯webpackå‘½åè§„åˆ™ï¼Œä½¿ç”¨chunkçš„nameä½œä¸ºè¾“å‡ºçš„æ–‡ä»¶åã€‚<br>    // ä»€ä¹ˆæ˜¯chunkï¼Ÿæ‰“åŒ…çš„èµ„æºå°±æ˜¯chunkï¼Œè¾“å‡ºå‡ºå»å«bundleã€‚<br>    // chunkçš„nameæ˜¯å•¥å‘¢ï¼Ÿ æ¯”å¦‚ï¼š entryä¸­xxx: &quot;./src/xxx.js&quot;, nameå°±æ˜¯xxxã€‚æ³¨æ„æ˜¯å‰é¢çš„xxxï¼Œå’Œæ–‡ä»¶åæ— å…³ã€‚<br>    // ä¸ºä»€ä¹ˆéœ€è¦è¿™æ ·å‘½åå‘¢ï¼Ÿå¦‚æœè¿˜æ˜¯ä¹‹å‰å†™æ³•main.jsï¼Œé‚£ä¹ˆæ‰“åŒ…ç”Ÿæˆä¸¤ä¸ªjsæ–‡ä»¶éƒ½ä¼šå«åšmain.jsä¼šå‘ç”Ÿè¦†ç›–ã€‚(å®é™…ä¸Šä¼šç›´æ¥æŠ¥é”™çš„)<br>    filename: &quot;js/[name].js&quot;,<br>    clean: true,<br>  &#125;,<br>  plugins: [<br>    new HtmlWebpackPlugin(&#123;<br>      template: &quot;./public/index.html&quot;,<br>    &#125;),<br>  ],<br>  mode: &quot;production&quot;,<br>  optimization: &#123;<br>    // ä»£ç åˆ†å‰²é…ç½®<br>    splitChunks: &#123;<br>      chunks: &quot;all&quot;, // å¯¹æ‰€æœ‰æ¨¡å—éƒ½è¿›è¡Œåˆ†å‰²<br>      // ä»¥ä¸‹æ˜¯é»˜è®¤å€¼<br>      // minSize: 20000, // åˆ†å‰²ä»£ç æœ€å°çš„å¤§å°20kb<br>      // minRemainingSize: 0, // ç±»ä¼¼äºminSizeï¼Œæœ€åç¡®ä¿æå–çš„æ–‡ä»¶å¤§å°ä¸èƒ½ä¸º0<br>      // minChunks: 1, // è‡³å°‘è¢«å¼•ç”¨çš„æ¬¡æ•°ï¼Œæ»¡è¶³æ¡ä»¶æ‰ä¼šä»£ç åˆ†å‰²<br>      // maxAsyncRequests: 30, // æŒ‰éœ€åŠ è½½æ—¶å¹¶è¡ŒåŠ è½½çš„æ–‡ä»¶çš„æœ€å¤§æ•°é‡<br>      // maxInitialRequests: 30, // å…¥å£jsæ–‡ä»¶æœ€å¤§å¹¶è¡Œè¯·æ±‚æ•°é‡<br>      // enforceSizeThreshold: 50000, // è¶…è¿‡50kbä¸€å®šä¼šå•ç‹¬æ‰“åŒ…ï¼ˆæ­¤æ—¶ä¼šå¿½ç•¥minRemainingSizeã€maxAsyncRequestsã€maxInitialRequestsï¼‰<br>      // cacheGroups: &#123; // ç»„ï¼Œå“ªäº›æ¨¡å—è¦æ‰“åŒ…åˆ°ä¸€ä¸ªç»„<br>      //   defaultVendors: &#123; // ç»„å<br>      //     test: /[\\/]node_modules[\\/]/, // éœ€è¦æ‰“åŒ…åˆ°ä¸€èµ·çš„æ¨¡å—<br>      //     priority: -10, // æƒé‡ï¼ˆè¶Šå¤§è¶Šé«˜ï¼‰<br>      //     reuseExistingChunk: true, // å¦‚æœå½“å‰ chunk åŒ…å«å·²ä»ä¸» bundle ä¸­æ‹†åˆ†å‡ºçš„æ¨¡å—ï¼Œåˆ™å®ƒå°†è¢«é‡ç”¨ï¼Œè€Œä¸æ˜¯ç”Ÿæˆæ–°çš„æ¨¡å—<br>      //   &#125;,<br>      //   default: &#123; // å…¶ä»–æ²¡æœ‰å†™çš„é…ç½®ä¼šä½¿ç”¨ä¸Šé¢çš„é»˜è®¤å€¼<br>      //     minChunks: 2, // è¿™é‡Œçš„minChunksæƒé‡æ›´å¤§<br>      //     priority: -20,<br>      //     reuseExistingChunk: true,<br>      //   &#125;,<br>      // &#125;,<br>      // ä¿®æ”¹é…ç½®<br>      cacheGroups: &#123;<br>        // ç»„ï¼Œå“ªäº›æ¨¡å—è¦æ‰“åŒ…åˆ°ä¸€ä¸ªç»„<br>        // defaultVendors: &#123; // ç»„å<br>        //   test: /[\\/]node_modules[\\/]/, // éœ€è¦æ‰“åŒ…åˆ°ä¸€èµ·çš„æ¨¡å—<br>        //   priority: -10, // æƒé‡ï¼ˆè¶Šå¤§è¶Šé«˜ï¼‰<br>        //   reuseExistingChunk: true, // å¦‚æœå½“å‰ chunk åŒ…å«å·²ä»ä¸» bundle ä¸­æ‹†åˆ†å‡ºçš„æ¨¡å—ï¼Œåˆ™å®ƒå°†è¢«é‡ç”¨ï¼Œè€Œä¸æ˜¯ç”Ÿæˆæ–°çš„æ¨¡å—<br>        // &#125;,<br>        default: &#123;<br>          // å…¶ä»–æ²¡æœ‰å†™çš„é…ç½®ä¼šä½¿ç”¨ä¸Šé¢çš„é»˜è®¤å€¼<br>          minSize: 0, // é‡æ–°è®¾ç½®æ”¹æ‰“åŒ…çš„æœ€å°æ–‡ä»¶ä½“ç§¯<br>          minChunks: 2,<br>          priority: -20,<br>          reuseExistingChunk: true,<br>        &#125;,<br>      &#125;,<br>    &#125;,<br>  &#125;,<br>&#125;;<br></code></pre></td></tr></table></figure><ol start="3"><li>è¿è¡ŒæŒ‡ä»¤ <code>npx webpack</code></li></ol><p>æ­¤æ—¶ä¼šå‘ç°ç”Ÿæˆäº† 3 ä¸ª js æ–‡ä»¶ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªæ˜¯æå–çš„å…¬å…±æ¨¡å—ã€‚</p><h5 id="3-æŒ‰éœ€åŠ è½½ï¼ŒåŠ¨æ€å¯¼å…¥"><a href="#3-æŒ‰éœ€åŠ è½½ï¼ŒåŠ¨æ€å¯¼å…¥" class="headerlink" title="3. æŒ‰éœ€åŠ è½½ï¼ŒåŠ¨æ€å¯¼å…¥"></a>3. æŒ‰éœ€åŠ è½½ï¼ŒåŠ¨æ€å¯¼å…¥</h5><p>æƒ³è¦å®ç°æŒ‰éœ€åŠ è½½ï¼ŒåŠ¨æ€å¯¼å…¥æ¨¡å—ã€‚è¿˜éœ€è¦é¢å¤–é…ç½®ï¼š</p><ol><li>ä¿®æ”¹æ–‡ä»¶</li></ol><ul><li>main.js</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;hello main&quot;</span>);<br><br><span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;btn&quot;</span>).<span class="hljs-property">onclick</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-comment">// åŠ¨æ€å¯¼å…¥ --&gt; å®ç°æŒ‰éœ€åŠ è½½</span><br>  <span class="hljs-comment">// å³ä½¿åªè¢«å¼•ç”¨äº†ä¸€æ¬¡ï¼Œä¹Ÿä¼šä»£ç åˆ†å‰²</span><br>  <span class="hljs-title function_">import</span>(<span class="hljs-string">&quot;./math.js&quot;</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">&#123; sum &#125;</span>) =&gt;</span> &#123;<br>    <span class="hljs-title function_">alert</span>(<span class="hljs-title function_">sum</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>));<br>  &#125;);<br><br>  <br>&#125;;<br></code></pre></td></tr></table></figure><ul><li>app.js</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;hello app&quot;</span>);<br></code></pre></td></tr></table></figure><ul><li>public&#x2F;index.html</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Code Split<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>hello webpack<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;btn&quot;</span>&gt;</span>è®¡ç®—<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><ol start="2"><li>è¿è¡ŒæŒ‡ä»¤ <code>npx webpack</code></li></ol><p>å¯ä»¥å‘ç°ï¼Œä¸€æ—¦é€šè¿‡ import åŠ¨æ€å¯¼å…¥è¯­æ³•å¯¼å…¥æ¨¡å—ï¼Œæ¨¡å—å°±è¢«ä»£ç åˆ†å‰²ï¼ŒåŒæ—¶ä¹Ÿèƒ½æŒ‰éœ€åŠ è½½äº†ã€‚</p><h5 id="4-å•å…¥å£"><a href="#4-å•å…¥å£" class="headerlink" title="4. å•å…¥å£"></a>4. å•å…¥å£</h5><p>å¼€å‘æ—¶å¯èƒ½æ˜¯å•é¡µé¢åº”ç”¨ï¼ˆSPAï¼‰ï¼Œåªæœ‰ä¸€ä¸ªå…¥å£ï¼ˆå•å…¥å£ï¼‰ã€‚é‚£ä¹ˆéœ€è¦è¿™æ ·é…ç½®ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;path&quot;</span>);<br><span class="hljs-keyword">const</span> <span class="hljs-title class_">HtmlWebpackPlugin</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;html-webpack-plugin&quot;</span>);<br><br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>  <span class="hljs-comment">// å•å…¥å£</span><br>  <span class="hljs-attr">entry</span>: <span class="hljs-string">&quot;./src/main.js&quot;</span>,<br>  <span class="hljs-comment">// å¤šå…¥å£</span><br>  <span class="hljs-comment">// entry: &#123;</span><br>  <span class="hljs-comment">//   main: &quot;./src/main.js&quot;,</span><br>  <span class="hljs-comment">//   app: &quot;./src/app.js&quot;,</span><br>  <span class="hljs-comment">// &#125;,</span><br>  <span class="hljs-attr">output</span>: &#123;<br>    <span class="hljs-attr">path</span>: path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">&quot;./dist&quot;</span>),<br>    <span class="hljs-comment">// [name]æ˜¯webpackå‘½åè§„åˆ™ï¼Œä½¿ç”¨chunkçš„nameä½œä¸ºè¾“å‡ºçš„æ–‡ä»¶åã€‚</span><br>    <span class="hljs-comment">// ä»€ä¹ˆæ˜¯chunkï¼Ÿæ‰“åŒ…çš„èµ„æºå°±æ˜¯chunkï¼Œè¾“å‡ºå‡ºå»å«bundleã€‚</span><br>    <span class="hljs-comment">// chunkçš„nameæ˜¯å•¥å‘¢ï¼Ÿ æ¯”å¦‚ï¼š entryä¸­xxx: &quot;./src/xxx.js&quot;, nameå°±æ˜¯xxxã€‚æ³¨æ„æ˜¯å‰é¢çš„xxxï¼Œå’Œæ–‡ä»¶åæ— å…³ã€‚</span><br>    <span class="hljs-comment">// ä¸ºä»€ä¹ˆéœ€è¦è¿™æ ·å‘½åå‘¢ï¼Ÿå¦‚æœè¿˜æ˜¯ä¹‹å‰å†™æ³•main.jsï¼Œé‚£ä¹ˆæ‰“åŒ…ç”Ÿæˆä¸¤ä¸ªjsæ–‡ä»¶éƒ½ä¼šå«åšmain.jsä¼šå‘ç”Ÿè¦†ç›–ã€‚(å®é™…ä¸Šä¼šç›´æ¥æŠ¥é”™çš„)</span><br>    <span class="hljs-attr">filename</span>: <span class="hljs-string">&quot;js/[name].js&quot;</span>,<br>    <span class="hljs-attr">clean</span>: <span class="hljs-literal">true</span>,<br>  &#125;,<br>  <span class="hljs-attr">plugins</span>: [<br>    <span class="hljs-keyword">new</span> <span class="hljs-title class_">HtmlWebpackPlugin</span>(&#123;<br>      <span class="hljs-attr">template</span>: <span class="hljs-string">&quot;./public/index.html&quot;</span>,<br>    &#125;),<br>  ],<br>  <span class="hljs-attr">mode</span>: <span class="hljs-string">&quot;production&quot;</span>,<br>  <span class="hljs-attr">optimization</span>: &#123;<br>    <span class="hljs-comment">// ä»£ç åˆ†å‰²é…ç½®</span><br>    <span class="hljs-attr">splitChunks</span>: &#123;<br>      <span class="hljs-attr">chunks</span>: <span class="hljs-string">&quot;all&quot;</span>, <span class="hljs-comment">// å¯¹æ‰€æœ‰æ¨¡å—éƒ½è¿›è¡Œåˆ†å‰²</span><br>      <span class="hljs-comment">// ä»¥ä¸‹æ˜¯é»˜è®¤å€¼</span><br>      <span class="hljs-comment">// minSize: 20000, // åˆ†å‰²ä»£ç æœ€å°çš„å¤§å°</span><br>      <span class="hljs-comment">// minRemainingSize: 0, // ç±»ä¼¼äºminSizeï¼Œæœ€åç¡®ä¿æå–çš„æ–‡ä»¶å¤§å°ä¸èƒ½ä¸º0</span><br>      <span class="hljs-comment">// minChunks: 1, // è‡³å°‘è¢«å¼•ç”¨çš„æ¬¡æ•°ï¼Œæ»¡è¶³æ¡ä»¶æ‰ä¼šä»£ç åˆ†å‰²</span><br>      <span class="hljs-comment">// maxAsyncRequests: 30, // æŒ‰éœ€åŠ è½½æ—¶å¹¶è¡ŒåŠ è½½çš„æ–‡ä»¶çš„æœ€å¤§æ•°é‡</span><br>      <span class="hljs-comment">// maxInitialRequests: 30, // å…¥å£jsæ–‡ä»¶æœ€å¤§å¹¶è¡Œè¯·æ±‚æ•°é‡</span><br>      <span class="hljs-comment">// enforceSizeThreshold: 50000, // è¶…è¿‡50kbä¸€å®šä¼šå•ç‹¬æ‰“åŒ…ï¼ˆæ­¤æ—¶ä¼šå¿½ç•¥minRemainingSizeã€maxAsyncRequestsã€maxInitialRequestsï¼‰</span><br>      <span class="hljs-comment">// cacheGroups: &#123; // ç»„ï¼Œå“ªäº›æ¨¡å—è¦æ‰“åŒ…åˆ°ä¸€ä¸ªç»„</span><br>      <span class="hljs-comment">//   defaultVendors: &#123; // ç»„å</span><br>      <span class="hljs-comment">//     test: /[\\/]node_modules[\\/]/, // éœ€è¦æ‰“åŒ…åˆ°ä¸€èµ·çš„æ¨¡å—</span><br>      <span class="hljs-comment">//     priority: -10, // æƒé‡ï¼ˆè¶Šå¤§è¶Šé«˜ï¼‰</span><br>      <span class="hljs-comment">//     reuseExistingChunk: true, // å¦‚æœå½“å‰ chunk åŒ…å«å·²ä»ä¸» bundle ä¸­æ‹†åˆ†å‡ºçš„æ¨¡å—ï¼Œåˆ™å®ƒå°†è¢«é‡ç”¨ï¼Œè€Œä¸æ˜¯ç”Ÿæˆæ–°çš„æ¨¡å—</span><br>      <span class="hljs-comment">//   &#125;,</span><br>      <span class="hljs-comment">//   default: &#123; // å…¶ä»–æ²¡æœ‰å†™çš„é…ç½®ä¼šä½¿ç”¨ä¸Šé¢çš„é»˜è®¤å€¼</span><br>      <span class="hljs-comment">//     minChunks: 2, // è¿™é‡Œçš„minChunksæƒé‡æ›´å¤§</span><br>      <span class="hljs-comment">//     priority: -20,</span><br>      <span class="hljs-comment">//     reuseExistingChunk: true,</span><br>      <span class="hljs-comment">//   &#125;,</span><br>      <span class="hljs-comment">// &#125;,</span><br>  &#125;,<br>&#125;;<br></code></pre></td></tr></table></figure><h6 id="5-æ›´æ–°é…ç½®"><a href="#5-æ›´æ–°é…ç½®" class="headerlink" title="5. æ›´æ–°é…ç½®"></a>5. æ›´æ–°é…ç½®</h6><p>æœ€ç»ˆä¼šä½¿ç”¨å•å…¥å£+ä»£ç åˆ†å‰²+åŠ¨æ€å¯¼å…¥æ–¹å¼æ¥è¿›è¡Œé…ç½®ã€‚æ›´æ–°ä¹‹å‰çš„é…ç½®æ–‡ä»¶ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br></pre></td><td class="code"><pre><code class="hljs js&#123;174-178&#125;">// webpack.prod.js<br>const os = require(&quot;os&quot;);<br>const path = require(&quot;path&quot;);<br>const ESLintWebpackPlugin = require(&quot;eslint-webpack-plugin&quot;);<br>const HtmlWebpackPlugin = require(&quot;html-webpack-plugin&quot;);<br>const MiniCssExtractPlugin = require(&quot;mini-css-extract-plugin&quot;);<br>const CssMinimizerPlugin = require(&quot;css-minimizer-webpack-plugin&quot;);<br>const TerserPlugin = require(&quot;terser-webpack-plugin&quot;);<br>const ImageMinimizerPlugin = require(&quot;image-minimizer-webpack-plugin&quot;);<br><br>// cpuæ ¸æ•°<br>const threads = os.cpus().length;<br><br>// è·å–å¤„ç†æ ·å¼çš„Loaders<br>const getStyleLoaders = (preProcessor) =&gt; &#123;<br>  return [<br>    MiniCssExtractPlugin.loader,<br>    &quot;css-loader&quot;,<br>    &#123;<br>      loader: &quot;postcss-loader&quot;,<br>      options: &#123;<br>        postcssOptions: &#123;<br>          plugins: [<br>            &quot;postcss-preset-env&quot;, // èƒ½è§£å†³å¤§å¤šæ•°æ ·å¼å…¼å®¹æ€§é—®é¢˜<br>          ],<br>        &#125;,<br>      &#125;,<br>    &#125;,<br>    preProcessor,<br>  ].filter(Boolean);<br>&#125;;<br><br>module.exports = &#123;<br>  entry: &quot;./src/main.js&quot;,<br>  output: &#123;<br>    path: path.resolve(__dirname, &quot;../dist&quot;), // ç”Ÿäº§æ¨¡å¼éœ€è¦è¾“å‡º<br>    filename: &quot;static/js/main.js&quot;, // å°† js æ–‡ä»¶è¾“å‡ºåˆ° static/js ç›®å½•ä¸­<br>    clean: true,<br>  &#125;,<br>  module: &#123;<br>    rules: [<br>      &#123;<br>        oneOf: [<br>          &#123;<br>            // ç”¨æ¥åŒ¹é… .css ç»“å°¾çš„æ–‡ä»¶<br>            test: /\.css$/,<br>            // use æ•°ç»„é‡Œé¢ Loader æ‰§è¡Œé¡ºåºæ˜¯ä»å³åˆ°å·¦<br>            use: getStyleLoaders(),<br>          &#125;,<br>          &#123;<br>            test: /\.less$/,<br>            use: getStyleLoaders(&quot;less-loader&quot;),<br>          &#125;,<br>          &#123;<br>            test: /\.s[ac]ss$/,<br>            use: getStyleLoaders(&quot;sass-loader&quot;),<br>          &#125;,<br>          &#123;<br>            test: /\.styl$/,<br>            use: getStyleLoaders(&quot;stylus-loader&quot;),<br>          &#125;,<br>          &#123;<br>            test: /\.(png|jpe?g|gif|svg)$/,<br>            type: &quot;asset&quot;,<br>            parser: &#123;<br>              dataUrlCondition: &#123;<br>                maxSize: 10 * 1024, // å°äº10kbçš„å›¾ç‰‡ä¼šè¢«base64å¤„ç†<br>              &#125;,<br>            &#125;,<br>            generator: &#123;<br>              // å°†å›¾ç‰‡æ–‡ä»¶è¾“å‡ºåˆ° static/imgs ç›®å½•ä¸­<br>              // å°†å›¾ç‰‡æ–‡ä»¶å‘½å [hash:8][ext][query]<br>              // [hash:8]: hashå€¼å–8ä½<br>              // [ext]: ä½¿ç”¨ä¹‹å‰çš„æ–‡ä»¶æ‰©å±•å<br>              // [query]: æ·»åŠ ä¹‹å‰çš„queryå‚æ•°<br>              filename: &quot;static/imgs/[hash:8][ext][query]&quot;,<br>            &#125;,<br>          &#125;,<br>          &#123;<br>            test: /\.(ttf|woff2?)$/,<br>            type: &quot;asset/resource&quot;,<br>            generator: &#123;<br>              filename: &quot;static/media/[hash:8][ext][query]&quot;,<br>            &#125;,<br>          &#125;,<br>          &#123;<br>            test: /\.js$/,<br>            // exclude: /node_modules/, // æ’é™¤node_modulesä»£ç ä¸ç¼–è¯‘<br>            include: path.resolve(__dirname, &quot;../src&quot;), // ä¹Ÿå¯ä»¥ç”¨åŒ…å«<br>            use: [<br>              &#123;<br>                loader: &quot;thread-loader&quot;, // å¼€å¯å¤šè¿›ç¨‹<br>                options: &#123;<br>                  workers: threads, // æ•°é‡<br>                &#125;,<br>              &#125;,<br>              &#123;<br>                loader: &quot;babel-loader&quot;,<br>                options: &#123;<br>                  cacheDirectory: true, // å¼€å¯babelç¼–è¯‘ç¼“å­˜<br>                  cacheCompression: false, // ç¼“å­˜æ–‡ä»¶ä¸è¦å‹ç¼©<br>                  plugins: [&quot;@babel/plugin-transform-runtime&quot;], // å‡å°‘ä»£ç ä½“ç§¯<br>                &#125;,<br>              &#125;,<br>            ],<br>          &#125;,<br>        ],<br>      &#125;,<br>    ],<br>  &#125;,<br>  plugins: [<br>    new ESLintWebpackPlugin(&#123;<br>      // æŒ‡å®šæ£€æŸ¥æ–‡ä»¶çš„æ ¹ç›®å½•<br>      context: path.resolve(__dirname, &quot;../src&quot;),<br>      exclude: &quot;node_modules&quot;, // é»˜è®¤å€¼<br>      cache: true, // å¼€å¯ç¼“å­˜<br>      // ç¼“å­˜ç›®å½•<br>      cacheLocation: path.resolve(<br>        __dirname,<br>        &quot;../node_modules/.cache/.eslintcache&quot;<br>      ),<br>      threads, // å¼€å¯å¤šè¿›ç¨‹<br>    &#125;),<br>    new HtmlWebpackPlugin(&#123;<br>      // ä»¥ public/index.html ä¸ºæ¨¡æ¿åˆ›å»ºæ–‡ä»¶<br>      // æ–°çš„htmlæ–‡ä»¶æœ‰ä¸¤ä¸ªç‰¹ç‚¹ï¼š1. å†…å®¹å’Œæºæ–‡ä»¶ä¸€è‡´ 2. è‡ªåŠ¨å¼•å…¥æ‰“åŒ…ç”Ÿæˆçš„jsç­‰èµ„æº<br>      template: path.resolve(__dirname, &quot;../public/index.html&quot;),<br>    &#125;),<br>    // æå–cssæˆå•ç‹¬æ–‡ä»¶<br>    new MiniCssExtractPlugin(&#123;<br>      // å®šä¹‰è¾“å‡ºæ–‡ä»¶åå’Œç›®å½•<br>      filename: &quot;static/css/main.css&quot;,<br>    &#125;),<br>    // csså‹ç¼©<br>    // new CssMinimizerPlugin(),<br>  ],<br>  optimization: &#123;<br>    minimizer: [<br>      // csså‹ç¼©ä¹Ÿå¯ä»¥å†™åˆ°optimization.minimizeré‡Œé¢ï¼Œæ•ˆæœä¸€æ ·çš„<br>      new CssMinimizerPlugin(),<br>      // å½“ç”Ÿäº§æ¨¡å¼ä¼šé»˜è®¤å¼€å¯TerserPluginï¼Œä½†æ˜¯éœ€è¦è¿›è¡Œå…¶ä»–é…ç½®ï¼Œå°±è¦é‡æ–°å†™äº†<br>      new TerserPlugin(&#123;<br>        parallel: threads, // å¼€å¯å¤šè¿›ç¨‹<br>      &#125;),<br>      // å‹ç¼©å›¾ç‰‡<br>      new ImageMinimizerPlugin(&#123;<br>        minimizer: &#123;<br>          implementation: ImageMinimizerPlugin.imageminGenerate,<br>          options: &#123;<br>            plugins: [<br>              [&quot;gifsicle&quot;, &#123; interlaced: true &#125;],<br>              [&quot;jpegtran&quot;, &#123; progressive: true &#125;],<br>              [&quot;optipng&quot;, &#123; optimizationLevel: 5 &#125;],<br>              [<br>                &quot;svgo&quot;,<br>                &#123;<br>                  plugins: [<br>                    &quot;preset-default&quot;,<br>                    &quot;prefixIds&quot;,<br>                    &#123;<br>                      name: &quot;sortAttrs&quot;,<br>                      params: &#123;<br>                        xmlnsOrder: &quot;alphabetical&quot;,<br>                      &#125;,<br>                    &#125;,<br>                  ],<br>                &#125;,<br>              ],<br>            ],<br>          &#125;,<br>        &#125;,<br>      &#125;),<br>    ],<br>    // ä»£ç åˆ†å‰²é…ç½®<br>    splitChunks: &#123;<br>      chunks: &quot;all&quot;, // å¯¹æ‰€æœ‰æ¨¡å—éƒ½è¿›è¡Œåˆ†å‰²<br>      // å…¶ä»–å†…å®¹ç”¨é»˜è®¤é…ç½®å³å¯<br>    &#125;,<br>  &#125;,<br>  // devServer: &#123;<br>  //   host: &quot;localhost&quot;, // å¯åŠ¨æœåŠ¡å™¨åŸŸå<br>  //   port: &quot;3000&quot;, // å¯åŠ¨æœåŠ¡å™¨ç«¯å£å·<br>  //   open: true, // æ˜¯å¦è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨<br>  // &#125;,<br>  mode: &quot;production&quot;,<br>  devtool: &quot;source-map&quot;,<br>&#125;;<br></code></pre></td></tr></table></figure><h5 id="6-ç»™åŠ¨æ€å¯¼å…¥æ–‡ä»¶å–åç§°"><a href="#6-ç»™åŠ¨æ€å¯¼å…¥æ–‡ä»¶å–åç§°" class="headerlink" title="6. ç»™åŠ¨æ€å¯¼å…¥æ–‡ä»¶å–åç§°"></a>6. ç»™åŠ¨æ€å¯¼å…¥æ–‡ä»¶å–åç§°</h5><ol><li>ä¿®æ”¹æ–‡ä»¶</li></ol><ul><li>main.js</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> sum <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./js/sum&quot;</span>;<br><span class="hljs-comment">// å¼•å…¥èµ„æºï¼ŒWebpackæ‰ä¼šå¯¹å…¶æ‰“åŒ…</span><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;./css/iconfont.css&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;./css/index.css&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;./less/index.less&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;./sass/index.sass&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;./sass/index.scss&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;./styl/index.styl&quot;</span>;<br><br><span class="hljs-keyword">const</span> result2 = <span class="hljs-title function_">sum</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(result2);<br><br><span class="hljs-comment">// ä»¥ä¸‹ä»£ç ç”Ÿäº§æ¨¡å¼ä¸‹ä¼šåˆ é™¤</span><br><span class="hljs-keyword">if</span> (<span class="hljs-variable language_">module</span>.<span class="hljs-property">hot</span>) &#123;<br>  <span class="hljs-variable language_">module</span>.<span class="hljs-property">hot</span>.<span class="hljs-title function_">accept</span>(<span class="hljs-string">&quot;./js/sum.js&quot;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">sum</span>) &#123;<br>    <span class="hljs-keyword">const</span> result2 = <span class="hljs-title function_">sum</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>);<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(result2);<br>  &#125;);<br>&#125;<br><br><span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;btn&quot;</span>).<span class="hljs-property">onClick</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-comment">// eslintä¼šå¯¹åŠ¨æ€å¯¼å…¥è¯­æ³•æŠ¥é”™ï¼Œéœ€è¦ä¿®æ”¹eslinté…ç½®æ–‡ä»¶</span><br>  <span class="hljs-comment">// webpackChunkName: &quot;math&quot;ï¼šè¿™æ˜¯webpackåŠ¨æ€å¯¼å…¥æ¨¡å—å‘½åçš„æ–¹å¼</span><br>  <span class="hljs-comment">// &quot;math&quot;å°†æ¥å°±ä¼šä½œä¸º[name]çš„å€¼æ˜¾ç¤ºã€‚å†™å¥½äº†ç„¶åå†å»é…ç½®chunkfilename</span><br>  <span class="hljs-title function_">import</span>(<span class="hljs-comment">/* webpackChunkName: &quot;math&quot; */</span> <span class="hljs-string">&quot;./js/math.js&quot;</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">&#123; count &#125;</span>) =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">count</span>(<span class="hljs-number">2</span>, <span class="hljs-number">1</span>));<br>  &#125;);<br>&#125;;<br></code></pre></td></tr></table></figure><ol start="2"><li>eslint é…ç½®</li></ol><ul><li><p>ä¸‹è½½åŒ… <code>npm i eslint-plugin-import -D</code></p></li><li><p>é…ç½®</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs js&#123;9&#125;">// .eslintrc.js<br>module.exports = &#123;<br>  // ç»§æ‰¿ Eslint è§„åˆ™<br>  extends: [&quot;eslint:recommended&quot;],<br>  env: &#123;<br>    node: true, // å¯ç”¨nodeä¸­å…¨å±€å˜é‡<br>    browser: true, // å¯ç”¨æµè§ˆå™¨ä¸­å…¨å±€å˜é‡<br>  &#125;,<br>  plugins: [&quot;import&quot;], // è§£å†³åŠ¨æ€å¯¼å…¥importè¯­æ³•æŠ¥é”™é—®é¢˜ --&gt; å®é™…ä½¿ç”¨eslint-plugin-importçš„è§„åˆ™è§£å†³çš„<br>  parserOptions: &#123;<br>    ecmaVersion: 6,<br>    sourceType: &quot;module&quot;,<br>  &#125;,<br>  rules: &#123;<br>    &quot;no-var&quot;: 2, // ä¸èƒ½ä½¿ç”¨ var å®šä¹‰å˜é‡<br>  &#125;,<br>&#125;;<br></code></pre></td></tr></table></figure><ol><li>ç»Ÿä¸€å‘½åé…ç½®</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br></pre></td><td class="code"><pre><code class="hljs js&#123;36-38,71-78,83-85,132-134&#125;">const os = require(&quot;os&quot;);<br>const path = require(&quot;path&quot;);<br>const ESLintWebpackPlugin = require(&quot;eslint-webpack-plugin&quot;);<br>const HtmlWebpackPlugin = require(&quot;html-webpack-plugin&quot;);<br>const MiniCssExtractPlugin = require(&quot;mini-css-extract-plugin&quot;);<br>const CssMinimizerPlugin = require(&quot;css-minimizer-webpack-plugin&quot;);<br>const TerserPlugin = require(&quot;terser-webpack-plugin&quot;);<br>const ImageMinimizerPlugin = require(&quot;image-minimizer-webpack-plugin&quot;);<br><br>// cpuæ ¸æ•°<br>const threads = os.cpus().length;<br><br>// è·å–å¤„ç†æ ·å¼çš„Loaders<br>const getStyleLoaders = (preProcessor) =&gt; &#123;<br>  return [<br>    MiniCssExtractPlugin.loader,<br>    &quot;css-loader&quot;,<br>    &#123;<br>      loader: &quot;postcss-loader&quot;,<br>      options: &#123;<br>        postcssOptions: &#123;<br>          plugins: [<br>            &quot;postcss-preset-env&quot;, // èƒ½è§£å†³å¤§å¤šæ•°æ ·å¼å…¼å®¹æ€§é—®é¢˜<br>          ],<br>        &#125;,<br>      &#125;,<br>    &#125;,<br>    preProcessor,<br>  ].filter(Boolean);<br>&#125;;<br><br>module.exports = &#123;<br>  entry: &quot;./src/main.js&quot;,<br>  output: &#123;<br>    path: path.resolve(__dirname, &quot;../dist&quot;), // ç”Ÿäº§æ¨¡å¼éœ€è¦è¾“å‡º<br>    filename: &quot;static/js/[name].js&quot;, // å…¥å£æ–‡ä»¶æ‰“åŒ…è¾“å‡ºèµ„æºå‘½åæ–¹å¼ï¼Œé€‚åˆå•å…¥å£å’Œå¤šå…¥å£<br>    chunkFilename: &quot;static/js/[name].chunk.js&quot;, // åŠ¨æ€å¯¼å…¥è¾“å‡ºèµ„æºå‘½åæ–¹å¼<br>    assetModuleFilename: &quot;static/media/[name].[hash][ext]&quot;, // å›¾ç‰‡ã€å­—ä½“ç­‰èµ„æºå‘½åæ–¹å¼ï¼ˆæ³¨æ„ç”¨hashï¼‰<br>    clean: true,<br>  &#125;,<br>  module: &#123;<br>    rules: [<br>      &#123;<br>        oneOf: [<br>          &#123;<br>            // ç”¨æ¥åŒ¹é… .css ç»“å°¾çš„æ–‡ä»¶<br>            test: /\.css$/,<br>            // use æ•°ç»„é‡Œé¢ Loader æ‰§è¡Œé¡ºåºæ˜¯ä»å³åˆ°å·¦<br>            use: getStyleLoaders(),<br>          &#125;,<br>          &#123;<br>            test: /\.less$/,<br>            use: getStyleLoaders(&quot;less-loader&quot;),<br>          &#125;,<br>          &#123;<br>            test: /\.s[ac]ss$/,<br>            use: getStyleLoaders(&quot;sass-loader&quot;),<br>          &#125;,<br>          &#123;<br>            test: /\.styl$/,<br>            use: getStyleLoaders(&quot;stylus-loader&quot;),<br>          &#125;,<br>          &#123;<br>            test: /\.(png|jpe?g|gif|svg)$/,<br>            type: &quot;asset&quot;,<br>            parser: &#123;<br>              dataUrlCondition: &#123;<br>                maxSize: 10 * 1024, // å°äº10kbçš„å›¾ç‰‡ä¼šè¢«base64å¤„ç†<br>              &#125;,<br>            &#125;,<br>            // generator: &#123;<br>            //   // å°†å›¾ç‰‡æ–‡ä»¶è¾“å‡ºåˆ° static/imgs ç›®å½•ä¸­<br>            //   // å°†å›¾ç‰‡æ–‡ä»¶å‘½å [hash:8][ext][query]<br>            //   // [hash:8]: hashå€¼å–8ä½<br>            //   // [ext]: ä½¿ç”¨ä¹‹å‰çš„æ–‡ä»¶æ‰©å±•å<br>            //   // [query]: æ·»åŠ ä¹‹å‰çš„queryå‚æ•°<br>            //   filename: &quot;static/imgs/[hash:8][ext][query]&quot;,<br>            // &#125;,<br>          &#125;,<br>          &#123;<br>            test: /\.(ttf|woff2?)$/,<br>            type: &quot;asset/resource&quot;,<br>            // generator: &#123;<br>            //   filename: &quot;static/media/[hash:8][ext][query]&quot;,<br>            // &#125;,<br>          &#125;,<br>          &#123;<br>            test: /\.js$/,<br>            // exclude: /node_modules/, // æ’é™¤node_modulesä»£ç ä¸ç¼–è¯‘<br>            include: path.resolve(__dirname, &quot;../src&quot;), // ä¹Ÿå¯ä»¥ç”¨åŒ…å«<br>            use: [<br>              &#123;<br>                loader: &quot;thread-loader&quot;, // å¼€å¯å¤šè¿›ç¨‹<br>                options: &#123;<br>                  workers: threads, // æ•°é‡<br>                &#125;,<br>              &#125;,<br>              &#123;<br>                loader: &quot;babel-loader&quot;,<br>                options: &#123;<br>                  cacheDirectory: true, // å¼€å¯babelç¼–è¯‘ç¼“å­˜<br>                  cacheCompression: false, // ç¼“å­˜æ–‡ä»¶ä¸è¦å‹ç¼©<br>                  plugins: [&quot;@babel/plugin-transform-runtime&quot;], // å‡å°‘ä»£ç ä½“ç§¯<br>                &#125;,<br>              &#125;,<br>            ],<br>          &#125;,<br>        ],<br>      &#125;,<br>    ],<br>  &#125;,<br>  plugins: [<br>    new ESLintWebpackPlugin(&#123;<br>      // æŒ‡å®šæ£€æŸ¥æ–‡ä»¶çš„æ ¹ç›®å½•<br>      context: path.resolve(__dirname, &quot;../src&quot;),<br>      exclude: &quot;node_modules&quot;, // é»˜è®¤å€¼<br>      cache: true, // å¼€å¯ç¼“å­˜<br>      // ç¼“å­˜ç›®å½•<br>      cacheLocation: path.resolve(<br>        __dirname,<br>        &quot;../node_modules/.cache/.eslintcache&quot;<br>      ),<br>      threads, // å¼€å¯å¤šè¿›ç¨‹<br>    &#125;),<br>    new HtmlWebpackPlugin(&#123;<br>      // ä»¥ public/index.html ä¸ºæ¨¡æ¿åˆ›å»ºæ–‡ä»¶<br>      // æ–°çš„htmlæ–‡ä»¶æœ‰ä¸¤ä¸ªç‰¹ç‚¹ï¼š1. å†…å®¹å’Œæºæ–‡ä»¶ä¸€è‡´ 2. è‡ªåŠ¨å¼•å…¥æ‰“åŒ…ç”Ÿæˆçš„jsç­‰èµ„æº<br>      template: path.resolve(__dirname, &quot;../public/index.html&quot;),<br>    &#125;),<br>    // æå–cssæˆå•ç‹¬æ–‡ä»¶<br>    new MiniCssExtractPlugin(&#123;<br>      // å®šä¹‰è¾“å‡ºæ–‡ä»¶åå’Œç›®å½•<br>      filename: &quot;static/css/[name].css&quot;,<br>      chunkFilename: &quot;static/css/[name].chunk.css&quot;,<br>    &#125;),<br>    // csså‹ç¼©<br>    // new CssMinimizerPlugin(),<br>  ],<br>  optimization: &#123;<br>    minimizer: [<br>      // csså‹ç¼©ä¹Ÿå¯ä»¥å†™åˆ°optimization.minimizeré‡Œé¢ï¼Œæ•ˆæœä¸€æ ·çš„<br>      new CssMinimizerPlugin(),<br>      // å½“ç”Ÿäº§æ¨¡å¼ä¼šé»˜è®¤å¼€å¯TerserPluginï¼Œä½†æ˜¯éœ€è¦è¿›è¡Œå…¶ä»–é…ç½®ï¼Œå°±è¦é‡æ–°å†™äº†<br>      new TerserPlugin(&#123;<br>        parallel: threads, // å¼€å¯å¤šè¿›ç¨‹<br>      &#125;),<br>      // å‹ç¼©å›¾ç‰‡<br>      new ImageMinimizerPlugin(&#123;<br>        minimizer: &#123;<br>          implementation: ImageMinimizerPlugin.imageminGenerate,<br>          options: &#123;<br>            plugins: [<br>              [&quot;gifsicle&quot;, &#123; interlaced: true &#125;],<br>              [&quot;jpegtran&quot;, &#123; progressive: true &#125;],<br>              [&quot;optipng&quot;, &#123; optimizationLevel: 5 &#125;],<br>              [<br>                &quot;svgo&quot;,<br>                &#123;<br>                  plugins: [<br>                    &quot;preset-default&quot;,<br>                    &quot;prefixIds&quot;,<br>                    &#123;<br>                      name: &quot;sortAttrs&quot;,<br>                      params: &#123;<br>                        xmlnsOrder: &quot;alphabetical&quot;,<br>                      &#125;,<br>                    &#125;,<br>                  ],<br>                &#125;,<br>              ],<br>            ],<br>          &#125;,<br>        &#125;,<br>      &#125;),<br>    ],<br>    // ä»£ç åˆ†å‰²é…ç½®<br>    splitChunks: &#123;<br>      chunks: &quot;all&quot;, // å¯¹æ‰€æœ‰æ¨¡å—éƒ½è¿›è¡Œåˆ†å‰²<br>      // å…¶ä»–å†…å®¹ç”¨é»˜è®¤é…ç½®å³å¯<br>    &#125;,<br>  &#125;,<br>  // devServer: &#123;<br>  //   host: &quot;localhost&quot;, // å¯åŠ¨æœåŠ¡å™¨åŸŸå<br>  //   port: &quot;3000&quot;, // å¯åŠ¨æœåŠ¡å™¨ç«¯å£å·<br>  //   open: true, // æ˜¯å¦è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨<br>  // &#125;,<br>  mode: &quot;production&quot;,<br>  devtool: &quot;source-map&quot;,<br>&#125;;<br></code></pre></td></tr></table></figure><ol start="3"><li>è¿è¡ŒæŒ‡ä»¤ <code>npx webpack</code></li></ol><p>è§‚å¯Ÿæ‰“åŒ…è¾“å‡º js æ–‡ä»¶åç§°ã€‚</p><h2 id="Preload-x2F-Prefetch"><a href="#Preload-x2F-Prefetch" class="headerlink" title="Preload &#x2F; Prefetch"></a>Preload &#x2F; Prefetch</h2><h3 id="é—®é¢˜èƒŒæ™¯-1"><a href="#é—®é¢˜èƒŒæ™¯-1" class="headerlink" title="é—®é¢˜èƒŒæ™¯"></a>é—®é¢˜èƒŒæ™¯</h3><p>å‰é¢å·²ç»åšäº†ä»£ç åˆ†å‰²ï¼ŒåŒæ—¶ä¼šä½¿ç”¨ import åŠ¨æ€å¯¼å…¥è¯­æ³•æ¥è¿›è¡Œä»£ç æŒ‰éœ€åŠ è½½ï¼ˆä¹Ÿå«æ‡’åŠ è½½ï¼Œæ¯”å¦‚è·¯ç”±æ‡’åŠ è½½å°±æ˜¯è¿™æ ·å®ç°çš„ï¼‰ã€‚ä½†æ˜¯åŠ è½½é€Ÿåº¦è¿˜ä¸å¤Ÿå¥½ï¼Œæ¯”å¦‚ï¼šæ˜¯ç”¨æˆ·ç‚¹å‡»æŒ‰é’®æ—¶æ‰åŠ è½½è¿™ä¸ªèµ„æºçš„ï¼Œå¦‚æœèµ„æºä½“ç§¯å¾ˆå¤§ï¼Œé‚£ä¹ˆç”¨æˆ·ä¼šæ„Ÿè§‰åˆ°æ˜æ˜¾å¡é¡¿æ•ˆæœã€‚å¦‚æœæƒ³åœ¨æµè§ˆå™¨ç©ºé—²æ—¶é—´ï¼ŒåŠ è½½åç»­éœ€è¦ä½¿ç”¨çš„èµ„æºï¼Œå°±éœ€è¦ç”¨ä¸Š <code>Preload</code> æˆ– <code>Prefetch</code> æŠ€æœ¯ã€‚</p><h3 id="è§£å†³æ–¹æ¡ˆ-1"><a href="#è§£å†³æ–¹æ¡ˆ-1" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h3><ul><li><code>Preload</code>ï¼šå‘Šè¯‰æµè§ˆå™¨ç«‹å³åŠ è½½èµ„æºã€‚</li><li><code>Prefetch</code>ï¼šå‘Šè¯‰æµè§ˆå™¨åœ¨ç©ºé—²æ—¶æ‰å¼€å§‹åŠ è½½èµ„æºã€‚</li></ul><p>å®ƒä»¬å…±åŒç‚¹æ˜¯ï¼šéƒ½åªä¼šåŠ è½½èµ„æºï¼Œå¹¶ä¸æ‰§è¡Œï¼›éƒ½æœ‰ç¼“å­˜ã€‚<br>å®ƒä»¬åŒºåˆ«ï¼š</p><ul><li><code>Preload</code>åŠ è½½ä¼˜å…ˆçº§é«˜ï¼Œ<code>Prefetch</code>åŠ è½½ä¼˜å…ˆçº§ä½ã€‚</li><li><code>Preload</code>åªèƒ½åŠ è½½å½“å‰é¡µé¢éœ€è¦ä½¿ç”¨çš„èµ„æºï¼Œ<code>Prefetch</code>å¯ä»¥åŠ è½½å½“å‰é¡µé¢èµ„æºï¼Œä¹Ÿå¯ä»¥åŠ è½½ä¸‹ä¸€ä¸ªé¡µé¢éœ€è¦ä½¿ç”¨çš„èµ„æºã€‚</li></ul><p>æ‰€ä»¥å½“å‰é¡µé¢ä¼˜å…ˆçº§é«˜çš„èµ„æºç”¨ <code>Preload</code> åŠ è½½ï¼Œä¸‹ä¸€ä¸ªé¡µé¢éœ€è¦ä½¿ç”¨çš„èµ„æºç”¨ <code>Prefetch</code> åŠ è½½ã€‚<br>å®ƒä»¬çš„é—®é¢˜ï¼šå…¼å®¹æ€§è¾ƒå·®ï¼Œ<code>Preload</code> ç›¸å¯¹äº <code>Prefetch</code> å…¼å®¹æ€§å¥½ä¸€ç‚¹ã€‚</p><ul><li><a href="https://caniuse.com/">Can I Use</a> ç½‘ç«™æŸ¥è¯¢ API çš„å…¼å®¹æ€§é—®é¢˜ã€‚</li></ul><h3 id="æ€ä¹ˆç”¨"><a href="#æ€ä¹ˆç”¨" class="headerlink" title="æ€ä¹ˆç”¨"></a>æ€ä¹ˆç”¨</h3><ol><li><p>ä¸‹è½½åŒ… <code>npm i @vue/preload-webpack-plugin -D</code></p></li><li><p>é…ç½® webpack.prod.js</p></li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br></pre></td><td class="code"><pre><code class="hljs js&#123;9,139-143&#125;">const os = require(&quot;os&quot;);<br>const path = require(&quot;path&quot;);<br>const ESLintWebpackPlugin = require(&quot;eslint-webpack-plugin&quot;);<br>const HtmlWebpackPlugin = require(&quot;html-webpack-plugin&quot;);<br>const MiniCssExtractPlugin = require(&quot;mini-css-extract-plugin&quot;);<br>const CssMinimizerPlugin = require(&quot;css-minimizer-webpack-plugin&quot;);<br>const TerserPlugin = require(&quot;terser-webpack-plugin&quot;);<br>const ImageMinimizerPlugin = require(&quot;image-minimizer-webpack-plugin&quot;);<br>const PreloadWebpackPlugin = require(&quot;@vue/preload-webpack-plugin&quot;);<br><br>// cpuæ ¸æ•°<br>const threads = os.cpus().length;<br><br>// è·å–å¤„ç†æ ·å¼çš„Loaders<br>const getStyleLoaders = (preProcessor) =&gt; &#123;<br>  return [<br>    MiniCssExtractPlugin.loader,<br>    &quot;css-loader&quot;,<br>    &#123;<br>      loader: &quot;postcss-loader&quot;,<br>      options: &#123;<br>        postcssOptions: &#123;<br>          plugins: [<br>            &quot;postcss-preset-env&quot;, // èƒ½è§£å†³å¤§å¤šæ•°æ ·å¼å…¼å®¹æ€§é—®é¢˜<br>          ],<br>        &#125;,<br>      &#125;,<br>    &#125;,<br>    preProcessor,<br>  ].filter(Boolean);<br>&#125;;<br><br>module.exports = &#123;<br>  entry: &quot;./src/main.js&quot;,<br>  output: &#123;<br>    path: path.resolve(__dirname, &quot;../dist&quot;), // ç”Ÿäº§æ¨¡å¼éœ€è¦è¾“å‡º<br>    filename: &quot;static/js/[name].js&quot;, // å…¥å£æ–‡ä»¶æ‰“åŒ…è¾“å‡ºèµ„æºå‘½åæ–¹å¼<br>    chunkFilename: &quot;static/js/[name].chunk.js&quot;, // åŠ¨æ€å¯¼å…¥è¾“å‡ºèµ„æºå‘½åæ–¹å¼<br>    assetModuleFilename: &quot;static/media/[name].[hash][ext]&quot;, // å›¾ç‰‡ã€å­—ä½“ç­‰èµ„æºå‘½åæ–¹å¼ï¼ˆæ³¨æ„ç”¨hashï¼‰<br>    clean: true,<br>  &#125;,<br>  module: &#123;<br>    rules: [<br>      &#123;<br>        oneOf: [<br>          &#123;<br>            // ç”¨æ¥åŒ¹é… .css ç»“å°¾çš„æ–‡ä»¶<br>            test: /\.css$/,<br>            // use æ•°ç»„é‡Œé¢ Loader æ‰§è¡Œé¡ºåºæ˜¯ä»å³åˆ°å·¦<br>            use: getStyleLoaders(),<br>          &#125;,<br>          &#123;<br>            test: /\.less$/,<br>            use: getStyleLoaders(&quot;less-loader&quot;),<br>          &#125;,<br>          &#123;<br>            test: /\.s[ac]ss$/,<br>            use: getStyleLoaders(&quot;sass-loader&quot;),<br>          &#125;,<br>          &#123;<br>            test: /\.styl$/,<br>            use: getStyleLoaders(&quot;stylus-loader&quot;),<br>          &#125;,<br>          &#123;<br>            test: /\.(png|jpe?g|gif|svg)$/,<br>            type: &quot;asset&quot;,<br>            parser: &#123;<br>              dataUrlCondition: &#123;<br>                maxSize: 10 * 1024, // å°äº10kbçš„å›¾ç‰‡ä¼šè¢«base64å¤„ç†<br>              &#125;,<br>            &#125;,<br>            // generator: &#123;<br>            //   // å°†å›¾ç‰‡æ–‡ä»¶è¾“å‡ºåˆ° static/imgs ç›®å½•ä¸­<br>            //   // å°†å›¾ç‰‡æ–‡ä»¶å‘½å [hash:8][ext][query]<br>            //   // [hash:8]: hashå€¼å–8ä½<br>            //   // [ext]: ä½¿ç”¨ä¹‹å‰çš„æ–‡ä»¶æ‰©å±•å<br>            //   // [query]: æ·»åŠ ä¹‹å‰çš„queryå‚æ•°<br>            //   filename: &quot;static/imgs/[hash:8][ext][query]&quot;,<br>            // &#125;,<br>          &#125;,<br>          &#123;<br>            test: /\.(ttf|woff2?)$/,<br>            type: &quot;asset/resource&quot;,<br>            // generator: &#123;<br>            //   filename: &quot;static/media/[hash:8][ext][query]&quot;,<br>            // &#125;,<br>          &#125;,<br>          &#123;<br>            test: /\.js$/,<br>            // exclude: /node_modules/, // æ’é™¤node_modulesä»£ç ä¸ç¼–è¯‘<br>            include: path.resolve(__dirname, &quot;../src&quot;), // ä¹Ÿå¯ä»¥ç”¨åŒ…å«<br>            use: [<br>              &#123;<br>                loader: &quot;thread-loader&quot;, // å¼€å¯å¤šè¿›ç¨‹<br>                options: &#123;<br>                  workers: threads, // æ•°é‡<br>                &#125;,<br>              &#125;,<br>              &#123;<br>                loader: &quot;babel-loader&quot;,<br>                options: &#123;<br>                  cacheDirectory: true, // å¼€å¯babelç¼–è¯‘ç¼“å­˜<br>                  cacheCompression: false, // ç¼“å­˜æ–‡ä»¶ä¸è¦å‹ç¼©<br>                  plugins: [&quot;@babel/plugin-transform-runtime&quot;], // å‡å°‘ä»£ç ä½“ç§¯<br>                &#125;,<br>              &#125;,<br>            ],<br>          &#125;,<br>        ],<br>      &#125;,<br>    ],<br>  &#125;,<br>  plugins: [<br>    new ESLintWebpackPlugin(&#123;<br>      // æŒ‡å®šæ£€æŸ¥æ–‡ä»¶çš„æ ¹ç›®å½•<br>      context: path.resolve(__dirname, &quot;../src&quot;),<br>      exclude: &quot;node_modules&quot;, // é»˜è®¤å€¼<br>      cache: true, // å¼€å¯ç¼“å­˜<br>      // ç¼“å­˜ç›®å½•<br>      cacheLocation: path.resolve(<br>        __dirname,<br>        &quot;../node_modules/.cache/.eslintcache&quot;<br>      ),<br>      threads, // å¼€å¯å¤šè¿›ç¨‹<br>    &#125;),<br>    new HtmlWebpackPlugin(&#123;<br>      // ä»¥ public/index.html ä¸ºæ¨¡æ¿åˆ›å»ºæ–‡ä»¶<br>      // æ–°çš„htmlæ–‡ä»¶æœ‰ä¸¤ä¸ªç‰¹ç‚¹ï¼š1. å†…å®¹å’Œæºæ–‡ä»¶ä¸€è‡´ 2. è‡ªåŠ¨å¼•å…¥æ‰“åŒ…ç”Ÿæˆçš„jsç­‰èµ„æº<br>      template: path.resolve(__dirname, &quot;../public/index.html&quot;),<br>    &#125;),<br>    // æå–cssæˆå•ç‹¬æ–‡ä»¶<br>    new MiniCssExtractPlugin(&#123;<br>      // å®šä¹‰è¾“å‡ºæ–‡ä»¶åå’Œç›®å½•<br>      filename: &quot;static/css/[name].css&quot;,<br>      chunkFilename: &quot;static/css/[name].chunk.css&quot;,<br>    &#125;),<br>    // csså‹ç¼©<br>    // new CssMinimizerPlugin(),<br>    new PreloadWebpackPlugin(&#123;<br>      rel: &quot;preload&quot;, // preloadå…¼å®¹æ€§æ›´å¥½<br>      as: &quot;script&quot;,<br>      // rel: &#x27;prefetch&#x27; // prefetchå…¼å®¹æ€§æ›´å·®ï¼Œprefetch æ²¡æœ‰as script è®¾ç½®<br>    &#125;),<br>  ],<br>  optimization: &#123;<br>    minimizer: [<br>      // csså‹ç¼©ä¹Ÿå¯ä»¥å†™åˆ°optimization.minimizeré‡Œé¢ï¼Œæ•ˆæœä¸€æ ·çš„<br>      new CssMinimizerPlugin(),<br>      // å½“ç”Ÿäº§æ¨¡å¼ä¼šé»˜è®¤å¼€å¯TerserPluginï¼Œä½†æ˜¯éœ€è¦è¿›è¡Œå…¶ä»–é…ç½®ï¼Œå°±è¦é‡æ–°å†™äº†<br>      new TerserPlugin(&#123;<br>        parallel: threads, // å¼€å¯å¤šè¿›ç¨‹<br>      &#125;),<br>      // å‹ç¼©å›¾ç‰‡<br>      new ImageMinimizerPlugin(&#123;<br>        minimizer: &#123;<br>          implementation: ImageMinimizerPlugin.imageminGenerate,<br>          options: &#123;<br>            plugins: [<br>              [&quot;gifsicle&quot;, &#123; interlaced: true &#125;],<br>              [&quot;jpegtran&quot;, &#123; progressive: true &#125;],<br>              [&quot;optipng&quot;, &#123; optimizationLevel: 5 &#125;],<br>              [<br>                &quot;svgo&quot;,<br>                &#123;<br>                  plugins: [<br>                    &quot;preset-default&quot;,<br>                    &quot;prefixIds&quot;,<br>                    &#123;<br>                      name: &quot;sortAttrs&quot;,<br>                      params: &#123;<br>                        xmlnsOrder: &quot;alphabetical&quot;,<br>                      &#125;,<br>                    &#125;,<br>                  ],<br>                &#125;,<br>              ],<br>            ],<br>          &#125;,<br>        &#125;,<br>      &#125;),<br>    ],<br>    // ä»£ç åˆ†å‰²é…ç½®<br>    splitChunks: &#123;<br>      chunks: &quot;all&quot;, // å¯¹æ‰€æœ‰æ¨¡å—éƒ½è¿›è¡Œåˆ†å‰²<br>      // å…¶ä»–å†…å®¹ç”¨é»˜è®¤é…ç½®å³å¯<br>    &#125;,<br>  &#125;,<br>  // devServer: &#123;<br>  //   host: &quot;localhost&quot;, // å¯åŠ¨æœåŠ¡å™¨åŸŸå<br>  //   port: &quot;3000&quot;, // å¯åŠ¨æœåŠ¡å™¨ç«¯å£å·<br>  //   open: true, // æ˜¯å¦è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨<br>  // &#125;,<br>  mode: &quot;production&quot;,<br>  devtool: &quot;source-map&quot;,<br>&#125;;<br></code></pre></td></tr></table></figure><h2 id="Network-Cache"><a href="#Network-Cache" class="headerlink" title="Network Cache"></a>Network Cache</h2><h3 id="é—®é¢˜èƒŒæ™¯-2"><a href="#é—®é¢˜èƒŒæ™¯-2" class="headerlink" title="é—®é¢˜èƒŒæ™¯"></a>é—®é¢˜èƒŒæ™¯</h3><p>å°†æ¥å¼€å‘æ—¶å¯¹é™æ€èµ„æºä¼šä½¿ç”¨ç¼“å­˜æ¥ä¼˜åŒ–ï¼Œè¿™æ ·æµè§ˆå™¨ç¬¬äºŒæ¬¡è¯·æ±‚èµ„æºå°±èƒ½è¯»å–ç¼“å­˜äº†ï¼Œé€Ÿåº¦å¾ˆå¿«ã€‚</p><p>ä½†æ˜¯è¿™æ ·çš„è¯å°±ä¼šæœ‰ä¸€ä¸ªé—®é¢˜, å› ä¸ºå‰åè¾“å‡ºçš„æ–‡ä»¶åæ˜¯ä¸€æ ·çš„ï¼Œéƒ½å« main.jsï¼Œä¸€æ—¦å°†æ¥å‘å¸ƒæ–°ç‰ˆæœ¬ï¼Œå› ä¸ºæ–‡ä»¶åæ²¡æœ‰å˜åŒ–å¯¼è‡´æµè§ˆå™¨ä¼šç›´æ¥è¯»å–ç¼“å­˜ï¼Œä¸ä¼šåŠ è½½æ–°èµ„æºï¼Œé¡¹ç›®ä¹Ÿå°±æ²¡æ³•æ›´æ–°äº†ã€‚</p><p>æ‰€ä»¥ä»æ–‡ä»¶åå…¥æ‰‹ï¼Œç¡®ä¿æ›´æ–°å‰åæ–‡ä»¶åä¸ä¸€æ ·ï¼Œè¿™æ ·å°±å¯ä»¥åšç¼“å­˜äº†ã€‚</p><h3 id="è§£å†³æ–¹æ¡ˆ-2"><a href="#è§£å†³æ–¹æ¡ˆ-2" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h3><p>å®ƒä»¬éƒ½ä¼šç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„ hash å€¼ã€‚</p><ul><li>fullhashï¼ˆwebpack4 æ˜¯ hashï¼‰</li></ul><p>æ¯æ¬¡ä¿®æ”¹ä»»ä½•ä¸€ä¸ªæ–‡ä»¶ï¼Œæ‰€æœ‰æ–‡ä»¶åçš„ hash è‡³éƒ½å°†æ”¹å˜ã€‚æ‰€ä»¥ä¸€æ—¦ä¿®æ”¹äº†ä»»ä½•ä¸€ä¸ªæ–‡ä»¶ï¼Œæ•´ä¸ªé¡¹ç›®çš„æ–‡ä»¶ç¼“å­˜éƒ½å°†å¤±æ•ˆã€‚</p><ul><li>chunkhash</li></ul><p>æ ¹æ®ä¸åŒçš„å…¥å£æ–‡ä»¶(Entry)è¿›è¡Œä¾èµ–æ–‡ä»¶è§£æã€æ„å»ºå¯¹åº”çš„ chunkï¼Œç”Ÿæˆå¯¹åº”çš„å“ˆå¸Œå€¼ã€‚ js å’Œ css æ˜¯åŒä¸€ä¸ªå¼•å…¥ï¼Œä¼šå…±äº«ä¸€ä¸ª hash å€¼ã€‚</p><ul><li>contenthash</li></ul><p>æ ¹æ®æ–‡ä»¶å†…å®¹ç”Ÿæˆ hash å€¼ï¼Œåªæœ‰æ–‡ä»¶å†…å®¹å˜åŒ–äº†ï¼Œhash å€¼æ‰ä¼šå˜åŒ–ã€‚æ‰€æœ‰æ–‡ä»¶ hash å€¼æ˜¯ç‹¬äº«ä¸”ä¸åŒçš„ã€‚</p><h3 id="ä½¿ç”¨æ–¹æ³•-1"><a href="#ä½¿ç”¨æ–¹æ³•-1" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br></pre></td><td class="code"><pre><code class="hljs js&#123;37-39,135-136&#125;">const os = require(&quot;os&quot;);<br>const path = require(&quot;path&quot;);<br>const ESLintWebpackPlugin = require(&quot;eslint-webpack-plugin&quot;);<br>const HtmlWebpackPlugin = require(&quot;html-webpack-plugin&quot;);<br>const MiniCssExtractPlugin = require(&quot;mini-css-extract-plugin&quot;);<br>const CssMinimizerPlugin = require(&quot;css-minimizer-webpack-plugin&quot;);<br>const TerserPlugin = require(&quot;terser-webpack-plugin&quot;);<br>const ImageMinimizerPlugin = require(&quot;image-minimizer-webpack-plugin&quot;);<br>const PreloadWebpackPlugin = require(&quot;@vue/preload-webpack-plugin&quot;);<br><br>// cpuæ ¸æ•°<br>const threads = os.cpus().length;<br><br>// è·å–å¤„ç†æ ·å¼çš„Loaders<br>const getStyleLoaders = (preProcessor) =&gt; &#123;<br>  return [<br>    MiniCssExtractPlugin.loader,<br>    &quot;css-loader&quot;,<br>    &#123;<br>      loader: &quot;postcss-loader&quot;,<br>      options: &#123;<br>        postcssOptions: &#123;<br>          plugins: [<br>            &quot;postcss-preset-env&quot;, // èƒ½è§£å†³å¤§å¤šæ•°æ ·å¼å…¼å®¹æ€§é—®é¢˜<br>          ],<br>        &#125;,<br>      &#125;,<br>    &#125;,<br>    preProcessor,<br>  ].filter(Boolean);<br>&#125;;<br><br>module.exports = &#123;<br>  entry: &quot;./src/main.js&quot;,<br>  output: &#123;<br>    path: path.resolve(__dirname, &quot;../dist&quot;), // ç”Ÿäº§æ¨¡å¼éœ€è¦è¾“å‡º<br>    // [contenthash:8]ä½¿ç”¨contenthashï¼Œå–8ä½é•¿åº¦<br>    filename: &quot;static/js/[name].[contenthash:8].js&quot;, // å…¥å£æ–‡ä»¶æ‰“åŒ…è¾“å‡ºèµ„æºå‘½åæ–¹å¼<br>    chunkFilename: &quot;static/js/[name].[contenthash:8].chunk.js&quot;, // åŠ¨æ€å¯¼å…¥è¾“å‡ºèµ„æºå‘½åæ–¹å¼<br>    assetModuleFilename: &quot;static/media/[name].[hash][ext]&quot;, // å›¾ç‰‡ã€å­—ä½“ç­‰èµ„æºå‘½åæ–¹å¼ï¼ˆæ³¨æ„ç”¨hashï¼‰<br>    clean: true,<br>  &#125;,<br>  module: &#123;<br>    rules: [<br>      &#123;<br>        oneOf: [<br>          &#123;<br>            // ç”¨æ¥åŒ¹é… .css ç»“å°¾çš„æ–‡ä»¶<br>            test: /\.css$/,<br>            // use æ•°ç»„é‡Œé¢ Loader æ‰§è¡Œé¡ºåºæ˜¯ä»å³åˆ°å·¦<br>            use: getStyleLoaders(),<br>          &#125;,<br>          &#123;<br>            test: /\.less$/,<br>            use: getStyleLoaders(&quot;less-loader&quot;),<br>          &#125;,<br>          &#123;<br>            test: /\.s[ac]ss$/,<br>            use: getStyleLoaders(&quot;sass-loader&quot;),<br>          &#125;,<br>          &#123;<br>            test: /\.styl$/,<br>            use: getStyleLoaders(&quot;stylus-loader&quot;),<br>          &#125;,<br>          &#123;<br>            test: /\.(png|jpe?g|gif|svg)$/,<br>            type: &quot;asset&quot;,<br>            parser: &#123;<br>              dataUrlCondition: &#123;<br>                maxSize: 10 * 1024, // å°äº10kbçš„å›¾ç‰‡ä¼šè¢«base64å¤„ç†<br>              &#125;,<br>            &#125;,<br>            // generator: &#123;<br>            //   // å°†å›¾ç‰‡æ–‡ä»¶è¾“å‡ºåˆ° static/imgs ç›®å½•ä¸­<br>            //   // å°†å›¾ç‰‡æ–‡ä»¶å‘½å [hash:8][ext][query]<br>            //   // [hash:8]: hashå€¼å–8ä½<br>            //   // [ext]: ä½¿ç”¨ä¹‹å‰çš„æ–‡ä»¶æ‰©å±•å<br>            //   // [query]: æ·»åŠ ä¹‹å‰çš„queryå‚æ•°<br>            //   filename: &quot;static/imgs/[hash:8][ext][query]&quot;,<br>            // &#125;,<br>          &#125;,<br>          &#123;<br>            test: /\.(ttf|woff2?)$/,<br>            type: &quot;asset/resource&quot;,<br>            // generator: &#123;<br>            //   filename: &quot;static/media/[hash:8][ext][query]&quot;,<br>            // &#125;,<br>          &#125;,<br>          &#123;<br>            test: /\.js$/,<br>            // exclude: /node_modules/, // æ’é™¤node_modulesä»£ç ä¸ç¼–è¯‘<br>            include: path.resolve(__dirname, &quot;../src&quot;), // ä¹Ÿå¯ä»¥ç”¨åŒ…å«<br>            use: [<br>              &#123;<br>                loader: &quot;thread-loader&quot;, // å¼€å¯å¤šè¿›ç¨‹<br>                options: &#123;<br>                  workers: threads, // æ•°é‡<br>                &#125;,<br>              &#125;,<br>              &#123;<br>                loader: &quot;babel-loader&quot;,<br>                options: &#123;<br>                  cacheDirectory: true, // å¼€å¯babelç¼–è¯‘ç¼“å­˜<br>                  cacheCompression: false, // ç¼“å­˜æ–‡ä»¶ä¸è¦å‹ç¼©<br>                  plugins: [&quot;@babel/plugin-transform-runtime&quot;], // å‡å°‘ä»£ç ä½“ç§¯<br>                &#125;,<br>              &#125;,<br>            ],<br>          &#125;,<br>        ],<br>      &#125;,<br>    ],<br>  &#125;,<br>  plugins: [<br>    new ESLintWebpackPlugin(&#123;<br>      // æŒ‡å®šæ£€æŸ¥æ–‡ä»¶çš„æ ¹ç›®å½•<br>      context: path.resolve(__dirname, &quot;../src&quot;),<br>      exclude: &quot;node_modules&quot;, // é»˜è®¤å€¼<br>      cache: true, // å¼€å¯ç¼“å­˜<br>      // ç¼“å­˜ç›®å½•<br>      cacheLocation: path.resolve(<br>        __dirname,<br>        &quot;../node_modules/.cache/.eslintcache&quot;<br>      ),<br>      threads, // å¼€å¯å¤šè¿›ç¨‹<br>    &#125;),<br>    new HtmlWebpackPlugin(&#123;<br>      // ä»¥ public/index.html ä¸ºæ¨¡æ¿åˆ›å»ºæ–‡ä»¶<br>      // æ–°çš„htmlæ–‡ä»¶æœ‰ä¸¤ä¸ªç‰¹ç‚¹ï¼š1. å†…å®¹å’Œæºæ–‡ä»¶ä¸€è‡´ 2. è‡ªåŠ¨å¼•å…¥æ‰“åŒ…ç”Ÿæˆçš„jsç­‰èµ„æº<br>      template: path.resolve(__dirname, &quot;../public/index.html&quot;),<br>    &#125;),<br>    // æå–cssæˆå•ç‹¬æ–‡ä»¶<br>    new MiniCssExtractPlugin(&#123;<br>      // å®šä¹‰è¾“å‡ºæ–‡ä»¶åå’Œç›®å½•<br>      filename: &quot;static/css/[name].[contenthash:8].css&quot;,<br>      chunkFilename: &quot;static/css/[name].[contenthash:8].chunk.css&quot;,<br>    &#125;),<br>    // csså‹ç¼©<br>    // new CssMinimizerPlugin(),<br>    new PreloadWebpackPlugin(&#123;<br>      rel: &quot;preload&quot;, // preloadå…¼å®¹æ€§æ›´å¥½<br>      as: &quot;script&quot;,<br>      // rel: &#x27;prefetch&#x27; // prefetchå…¼å®¹æ€§æ›´å·®<br>    &#125;),<br>  ],<br>  optimization: &#123;<br>    minimizer: [<br>      // csså‹ç¼©ä¹Ÿå¯ä»¥å†™åˆ°optimization.minimizeré‡Œé¢ï¼Œæ•ˆæœä¸€æ ·çš„<br>      new CssMinimizerPlugin(),<br>      // å½“ç”Ÿäº§æ¨¡å¼ä¼šé»˜è®¤å¼€å¯TerserPluginï¼Œä½†æ˜¯éœ€è¦è¿›è¡Œå…¶ä»–é…ç½®ï¼Œå°±è¦é‡æ–°å†™äº†<br>      new TerserPlugin(&#123;<br>        parallel: threads, // å¼€å¯å¤šè¿›ç¨‹<br>      &#125;),<br>      // å‹ç¼©å›¾ç‰‡<br>      new ImageMinimizerPlugin(&#123;<br>        minimizer: &#123;<br>          implementation: ImageMinimizerPlugin.imageminGenerate,<br>          options: &#123;<br>            plugins: [<br>              [&quot;gifsicle&quot;, &#123; interlaced: true &#125;],<br>              [&quot;jpegtran&quot;, &#123; progressive: true &#125;],<br>              [&quot;optipng&quot;, &#123; optimizationLevel: 5 &#125;],<br>              [<br>                &quot;svgo&quot;,<br>                &#123;<br>                  plugins: [<br>                    &quot;preset-default&quot;,<br>                    &quot;prefixIds&quot;,<br>                    &#123;<br>                      name: &quot;sortAttrs&quot;,<br>                      params: &#123;<br>                        xmlnsOrder: &quot;alphabetical&quot;,<br>                      &#125;,<br>                    &#125;,<br>                  ],<br>                &#125;,<br>              ],<br>            ],<br>          &#125;,<br>        &#125;,<br>      &#125;),<br>    ],<br>    // ä»£ç åˆ†å‰²é…ç½®<br>    splitChunks: &#123;<br>      chunks: &quot;all&quot;, // å¯¹æ‰€æœ‰æ¨¡å—éƒ½è¿›è¡Œåˆ†å‰²<br>      // å…¶ä»–å†…å®¹ç”¨é»˜è®¤é…ç½®å³å¯<br>    &#125;,<br>  &#125;,<br>  // devServer: &#123;<br>  //   host: &quot;localhost&quot;, // å¯åŠ¨æœåŠ¡å™¨åŸŸå<br>  //   port: &quot;3000&quot;, // å¯åŠ¨æœåŠ¡å™¨ç«¯å£å·<br>  //   open: true, // æ˜¯å¦è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨<br>  // &#125;,<br>  mode: &quot;production&quot;,<br>  devtool: &quot;source-map&quot;,<br>&#125;;<br></code></pre></td></tr></table></figure><ul><li>é—®é¢˜ï¼š</li></ul><p>å½“ä¿®æ”¹ math.js æ–‡ä»¶å†é‡æ–°æ‰“åŒ…çš„æ—¶å€™ï¼Œå› ä¸º contenthash åŸå› ï¼Œmath.js æ–‡ä»¶ hash å€¼å‘ç”Ÿäº†å˜åŒ–ï¼ˆè¿™æ˜¯æ­£å¸¸çš„ï¼‰ã€‚ä½†æ˜¯ main.js æ–‡ä»¶çš„ hash å€¼ä¹Ÿå‘ç”Ÿäº†å˜åŒ–ï¼Œè¿™ä¼šå¯¼è‡´ main.js çš„ç¼“å­˜å¤±æ•ˆ</p><ul><li><p>åŸå› ï¼šmain.js å¼•ç”¨çš„ math.yyy.js, æ–‡ä»¶åå‘ç”Ÿäº†å˜åŒ–ï¼Œé—´æ¥å¯¼è‡´ main.js ä¹Ÿå‘ç”Ÿäº†å˜åŒ–</p></li><li><p>è§£å†³ï¼š</p></li></ul><p>å°† hash å€¼å•ç‹¬ä¿ç®¡åœ¨ä¸€ä¸ª runtime æ–‡ä»¶ä¸­ã€‚æœ€ç»ˆè¾“å‡ºä¸‰ä¸ªæ–‡ä»¶ï¼šmainã€mathã€runtimeã€‚å½“ math æ–‡ä»¶å‘é€å˜åŒ–ï¼Œå˜åŒ–çš„æ˜¯ math å’Œ runtime æ–‡ä»¶ï¼Œmain ä¸å˜ã€‚runtime æ–‡ä»¶åªä¿å­˜æ–‡ä»¶çš„ hash å€¼å’Œå®ƒä»¬ä¸æ–‡ä»¶å…³ç³»ï¼Œæ•´ä¸ªæ–‡ä»¶ä½“ç§¯å°±æ¯”è¾ƒå°ï¼Œæ‰€ä»¥å˜åŒ–é‡æ–°è¯·æ±‚çš„ä»£ä»·ä¹Ÿå°ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br></pre></td><td class="code"><pre><code class="hljs js&#123;188-191&#125;">const os = require(&quot;os&quot;);<br>const path = require(&quot;path&quot;);<br>const ESLintWebpackPlugin = require(&quot;eslint-webpack-plugin&quot;);<br>const HtmlWebpackPlugin = require(&quot;html-webpack-plugin&quot;);<br>const MiniCssExtractPlugin = require(&quot;mini-css-extract-plugin&quot;);<br>const CssMinimizerPlugin = require(&quot;css-minimizer-webpack-plugin&quot;);<br>const TerserPlugin = require(&quot;terser-webpack-plugin&quot;);<br>const ImageMinimizerPlugin = require(&quot;image-minimizer-webpack-plugin&quot;);<br>const PreloadWebpackPlugin = require(&quot;@vue/preload-webpack-plugin&quot;);<br><br>// cpuæ ¸æ•°<br>const threads = os.cpus().length;<br><br>// è·å–å¤„ç†æ ·å¼çš„Loaders<br>const getStyleLoaders = (preProcessor) =&gt; &#123;<br>  return [<br>    MiniCssExtractPlugin.loader,<br>    &quot;css-loader&quot;,<br>    &#123;<br>      loader: &quot;postcss-loader&quot;,<br>      options: &#123;<br>        postcssOptions: &#123;<br>          plugins: [<br>            &quot;postcss-preset-env&quot;, // èƒ½è§£å†³å¤§å¤šæ•°æ ·å¼å…¼å®¹æ€§é—®é¢˜<br>          ],<br>        &#125;,<br>      &#125;,<br>    &#125;,<br>    preProcessor,<br>  ].filter(Boolean);<br>&#125;;<br><br>module.exports = &#123;<br>  entry: &quot;./src/main.js&quot;,<br>  output: &#123;<br>    path: path.resolve(__dirname, &quot;../dist&quot;), // ç”Ÿäº§æ¨¡å¼éœ€è¦è¾“å‡º<br>    // [contenthash:8]ä½¿ç”¨contenthashï¼Œå–8ä½é•¿åº¦<br>    filename: &quot;static/js/[name].[contenthash:8].js&quot;, // å…¥å£æ–‡ä»¶æ‰“åŒ…è¾“å‡ºèµ„æºå‘½åæ–¹å¼<br>    chunkFilename: &quot;static/js/[name].[contenthash:8].chunk.js&quot;, // åŠ¨æ€å¯¼å…¥è¾“å‡ºèµ„æºå‘½åæ–¹å¼<br>    assetModuleFilename: &quot;static/media/[name].[hash][ext]&quot;, // å›¾ç‰‡ã€å­—ä½“ç­‰èµ„æºå‘½åæ–¹å¼ï¼ˆæ³¨æ„ç”¨hashï¼‰<br>    clean: true,<br>  &#125;,<br>  module: &#123;<br>    rules: [<br>      &#123;<br>        oneOf: [<br>          &#123;<br>            // ç”¨æ¥åŒ¹é… .css ç»“å°¾çš„æ–‡ä»¶<br>            test: /\.css$/,<br>            // use æ•°ç»„é‡Œé¢ Loader æ‰§è¡Œé¡ºåºæ˜¯ä»å³åˆ°å·¦<br>            use: getStyleLoaders(),<br>          &#125;,<br>          &#123;<br>            test: /\.less$/,<br>            use: getStyleLoaders(&quot;less-loader&quot;),<br>          &#125;,<br>          &#123;<br>            test: /\.s[ac]ss$/,<br>            use: getStyleLoaders(&quot;sass-loader&quot;),<br>          &#125;,<br>          &#123;<br>            test: /\.styl$/,<br>            use: getStyleLoaders(&quot;stylus-loader&quot;),<br>          &#125;,<br>          &#123;<br>            test: /\.(png|jpe?g|gif|svg)$/,<br>            type: &quot;asset&quot;,<br>            parser: &#123;<br>              dataUrlCondition: &#123;<br>                maxSize: 10 * 1024, // å°äº10kbçš„å›¾ç‰‡ä¼šè¢«base64å¤„ç†<br>              &#125;,<br>            &#125;,<br>            // generator: &#123;<br>            //   // å°†å›¾ç‰‡æ–‡ä»¶è¾“å‡ºåˆ° static/imgs ç›®å½•ä¸­<br>            //   // å°†å›¾ç‰‡æ–‡ä»¶å‘½å [hash:8][ext][query]<br>            //   // [hash:8]: hashå€¼å–8ä½<br>            //   // [ext]: ä½¿ç”¨ä¹‹å‰çš„æ–‡ä»¶æ‰©å±•å<br>            //   // [query]: æ·»åŠ ä¹‹å‰çš„queryå‚æ•°<br>            //   filename: &quot;static/imgs/[hash:8][ext][query]&quot;,<br>            // &#125;,<br>          &#125;,<br>          &#123;<br>            test: /\.(ttf|woff2?)$/,<br>            type: &quot;asset/resource&quot;,<br>            // generator: &#123;<br>            //   filename: &quot;static/media/[hash:8][ext][query]&quot;,<br>            // &#125;,<br>          &#125;,<br>          &#123;<br>            test: /\.js$/,<br>            // exclude: /node_modules/, // æ’é™¤node_modulesä»£ç ä¸ç¼–è¯‘<br>            include: path.resolve(__dirname, &quot;../src&quot;), // ä¹Ÿå¯ä»¥ç”¨åŒ…å«<br>            use: [<br>              &#123;<br>                loader: &quot;thread-loader&quot;, // å¼€å¯å¤šè¿›ç¨‹<br>                options: &#123;<br>                  workers: threads, // æ•°é‡<br>                &#125;,<br>              &#125;,<br>              &#123;<br>                loader: &quot;babel-loader&quot;,<br>                options: &#123;<br>                  cacheDirectory: true, // å¼€å¯babelç¼–è¯‘ç¼“å­˜<br>                  cacheCompression: false, // ç¼“å­˜æ–‡ä»¶ä¸è¦å‹ç¼©<br>                  plugins: [&quot;@babel/plugin-transform-runtime&quot;], // å‡å°‘ä»£ç ä½“ç§¯<br>                &#125;,<br>              &#125;,<br>            ],<br>          &#125;,<br>        ],<br>      &#125;,<br>    ],<br>  &#125;,<br>  plugins: [<br>    new ESLintWebpackPlugin(&#123;<br>      // æŒ‡å®šæ£€æŸ¥æ–‡ä»¶çš„æ ¹ç›®å½•<br>      context: path.resolve(__dirname, &quot;../src&quot;),<br>      exclude: &quot;node_modules&quot;, // é»˜è®¤å€¼<br>      cache: true, // å¼€å¯ç¼“å­˜<br>      // ç¼“å­˜ç›®å½•<br>      cacheLocation: path.resolve(<br>        __dirname,<br>        &quot;../node_modules/.cache/.eslintcache&quot;<br>      ),<br>      threads, // å¼€å¯å¤šè¿›ç¨‹<br>    &#125;),<br>    new HtmlWebpackPlugin(&#123;<br>      // ä»¥ public/index.html ä¸ºæ¨¡æ¿åˆ›å»ºæ–‡ä»¶<br>      // æ–°çš„htmlæ–‡ä»¶æœ‰ä¸¤ä¸ªç‰¹ç‚¹ï¼š1. å†…å®¹å’Œæºæ–‡ä»¶ä¸€è‡´ 2. è‡ªåŠ¨å¼•å…¥æ‰“åŒ…ç”Ÿæˆçš„jsç­‰èµ„æº<br>      template: path.resolve(__dirname, &quot;../public/index.html&quot;),<br>    &#125;),<br>    // æå–cssæˆå•ç‹¬æ–‡ä»¶<br>    new MiniCssExtractPlugin(&#123;<br>      // å®šä¹‰è¾“å‡ºæ–‡ä»¶åå’Œç›®å½•<br>      filename: &quot;static/css/[name].[contenthash:8].css&quot;,<br>      chunkFilename: &quot;static/css/[name].[contenthash:8].chunk.css&quot;,<br>    &#125;),<br>    // csså‹ç¼©<br>    // new CssMinimizerPlugin(),<br>    new PreloadWebpackPlugin(&#123;<br>      rel: &quot;preload&quot;, // preloadå…¼å®¹æ€§æ›´å¥½<br>      as: &quot;script&quot;,<br>      // rel: &#x27;prefetch&#x27; // prefetchå…¼å®¹æ€§æ›´å·®<br>    &#125;),<br>  ],<br>  optimization: &#123;<br>    minimizer: [<br>      // csså‹ç¼©ä¹Ÿå¯ä»¥å†™åˆ°optimization.minimizeré‡Œé¢ï¼Œæ•ˆæœä¸€æ ·çš„<br>      new CssMinimizerPlugin(),<br>      // å½“ç”Ÿäº§æ¨¡å¼ä¼šé»˜è®¤å¼€å¯TerserPluginï¼Œä½†æ˜¯éœ€è¦è¿›è¡Œå…¶ä»–é…ç½®ï¼Œå°±è¦é‡æ–°å†™äº†<br>      new TerserPlugin(&#123;<br>        parallel: threads, // å¼€å¯å¤šè¿›ç¨‹<br>      &#125;),<br>      // å‹ç¼©å›¾ç‰‡<br>      new ImageMinimizerPlugin(&#123;<br>        minimizer: &#123;<br>          implementation: ImageMinimizerPlugin.imageminGenerate,<br>          options: &#123;<br>            plugins: [<br>              [&quot;gifsicle&quot;, &#123; interlaced: true &#125;],<br>              [&quot;jpegtran&quot;, &#123; progressive: true &#125;],<br>              [&quot;optipng&quot;, &#123; optimizationLevel: 5 &#125;],<br>              [<br>                &quot;svgo&quot;,<br>                &#123;<br>                  plugins: [<br>                    &quot;preset-default&quot;,<br>                    &quot;prefixIds&quot;,<br>                    &#123;<br>                      name: &quot;sortAttrs&quot;,<br>                      params: &#123;<br>                        xmlnsOrder: &quot;alphabetical&quot;,<br>                      &#125;,<br>                    &#125;,<br>                  ],<br>                &#125;,<br>              ],<br>            ],<br>          &#125;,<br>        &#125;,<br>      &#125;),<br>    ],<br>    // ä»£ç åˆ†å‰²é…ç½®<br>    splitChunks: &#123;<br>      chunks: &quot;all&quot;, // å¯¹æ‰€æœ‰æ¨¡å—éƒ½è¿›è¡Œåˆ†å‰²<br>      // å…¶ä»–å†…å®¹ç”¨é»˜è®¤é…ç½®å³å¯<br>    &#125;,<br>    // æå–runtimeæ–‡ä»¶<br>    runtimeChunk: &#123;<br>      name: (entrypoint) =&gt; `runtime~$&#123;entrypoint.name&#125;`, // runtimeæ–‡ä»¶å‘½åè§„åˆ™<br>    &#125;,<br>  &#125;,<br>  // devServer: &#123;<br>  //   host: &quot;localhost&quot;, // å¯åŠ¨æœåŠ¡å™¨åŸŸå<br>  //   port: &quot;3000&quot;, // å¯åŠ¨æœåŠ¡å™¨ç«¯å£å·<br>  //   open: true, // æ˜¯å¦è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨<br>  // &#125;,<br>  mode: &quot;production&quot;,<br>  devtool: &quot;source-map&quot;,<br>&#125;;<br></code></pre></td></tr></table></figure><h2 id="Core-js-å½»åº•è§£å†³-js-å…¼å®¹æ€§é—®é¢˜"><a href="#Core-js-å½»åº•è§£å†³-js-å…¼å®¹æ€§é—®é¢˜" class="headerlink" title="Core-js å½»åº•è§£å†³ js å…¼å®¹æ€§é—®é¢˜"></a>Core-js å½»åº•è§£å†³ js å…¼å®¹æ€§é—®é¢˜</h2><h3 id="é—®é¢˜èƒŒæ™¯-3"><a href="#é—®é¢˜èƒŒæ™¯-3" class="headerlink" title="é—®é¢˜èƒŒæ™¯"></a>é—®é¢˜èƒŒæ™¯</h3><p>è¿‡å»ä½¿ç”¨ babel å¯¹ js ä»£ç è¿›è¡Œäº†å…¼å®¹æ€§å¤„ç†ï¼Œå…¶ä¸­ä½¿ç”¨<code>@babel/preset-env</code> æ™ºèƒ½é¢„è®¾æ¥å¤„ç†å…¼å®¹æ€§é—®é¢˜ã€‚å®ƒèƒ½å°† ES6 çš„ä¸€äº›è¯­æ³•è¿›è¡Œç¼–è¯‘è½¬æ¢ï¼Œæ¯”å¦‚ç®­å¤´å‡½æ•°ã€ç‚¹ç‚¹ç‚¹è¿ç®—ç¬¦ç­‰ã€‚ä½†æ˜¯å¦‚æœæ˜¯ async å‡½æ•°ã€promise å¯¹è±¡ã€æ•°ç»„çš„ä¸€äº›æ–¹æ³•ï¼ˆincludesï¼‰ç­‰ï¼Œå®ƒæ²¡åŠæ³•å¤„ç†ã€‚</p><p>æ‰€ä»¥æ­¤æ—¶ js ä»£ç ä»ç„¶å­˜åœ¨å…¼å®¹æ€§é—®é¢˜ï¼Œä¸€æ—¦é‡åˆ°ä½ç‰ˆæœ¬æµè§ˆå™¨ä¼šç›´æ¥æŠ¥é”™ã€‚é‚£ä¹ˆæ€ä¹ˆå°† js å…¼å®¹æ€§é—®é¢˜å½»åº•è§£å†³å‘¢ï¼Ÿ</p><h3 id="è§£å†³æ–¹æ¡ˆ-3"><a href="#è§£å†³æ–¹æ¡ˆ-3" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h3><p><code>core-js</code> æ˜¯ä¸“é—¨ç”¨æ¥åš ES6 ä»¥åŠä»¥ä¸Š API çš„ <code>polyfill</code>ã€‚</p><p><code>polyfill</code>ç¿»è¯‘è¿‡æ¥å«åšå«ç‰‡&#x2F;è¡¥ä¸ã€‚å°±æ˜¯ç”¨ç¤¾åŒºä¸Šæä¾›çš„ä¸€æ®µä»£ç ï¼Œè®©åœ¨ä¸å…¼å®¹æŸäº›æ–°ç‰¹æ€§çš„æµè§ˆå™¨ä¸Šï¼Œä½¿ç”¨è¯¥æ–°ç‰¹æ€§ã€‚</p><h3 id="ä½¿ç”¨æ–¹æ³•-2"><a href="#ä½¿ç”¨æ–¹æ³•-2" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h3><ol><li>ä¿®æ”¹ main.js</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs js&#123;15-19&#125;">import count from &quot;./js/count&quot;;<br>import sum from &quot;./js/sum&quot;;<br>// å¼•å…¥èµ„æºï¼ŒWebpackæ‰ä¼šå¯¹å…¶æ‰“åŒ…<br>import &quot;./css/iconfont.css&quot;;<br>import &quot;./css/index.css&quot;;<br>import &quot;./less/index.less&quot;;<br>import &quot;./sass/index.sass&quot;;<br>import &quot;./sass/index.scss&quot;;<br>import &quot;./styl/index.styl&quot;;<br><br>const result1 = count(2, 1);<br>console.log(result1);<br>const result2 = sum(1, 2, 3, 4);<br>console.log(result2);<br>// æ·»åŠ promiseä»£ç <br>const promise = Promise.resolve();<br>promise.then(() =&gt; &#123;<br>  console.log(&quot;hello promise&quot;);<br>&#125;);<br></code></pre></td></tr></table></figure><p>æ­¤æ—¶ Eslint ä¼šå¯¹ Promise æŠ¥é”™ã€‚</p><ol start="2"><li>ä¿®æ”¹é…ç½®æ–‡ä»¶</li></ol><ul><li><p>ä¸‹è½½åŒ…  <code>npm i @babel/eslint-parser -D</code></p></li><li><p>.eslintrc.js</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs js&#123;4&#125;">module.exports = &#123;<br>  // ç»§æ‰¿ Eslint è§„åˆ™<br>  extends: [&quot;eslint:recommended&quot;],<br>  parser: &quot;@babel/eslint-parser&quot;, // æ”¯æŒæœ€æ–°çš„æœ€ç»ˆ ECMAScript æ ‡å‡†<br>  env: &#123;<br>    node: true, // å¯ç”¨nodeä¸­å…¨å±€å˜é‡<br>    browser: true, // å¯ç”¨æµè§ˆå™¨ä¸­å…¨å±€å˜é‡<br>  &#125;,<br>  plugins: [&quot;import&quot;], // è§£å†³åŠ¨æ€å¯¼å…¥importè¯­æ³•æŠ¥é”™é—®é¢˜ --&gt; å®é™…ä½¿ç”¨eslint-plugin-importçš„è§„åˆ™è§£å†³çš„<br>  parserOptions: &#123;<br>    ecmaVersion: 6, // es6<br>    sourceType: &quot;module&quot;, // es module<br>  &#125;,<br>  rules: &#123;<br>    &quot;no-var&quot;: 2, // ä¸èƒ½ä½¿ç”¨ var å®šä¹‰å˜é‡<br>  &#125;,<br>&#125;;<br></code></pre></td></tr></table></figure><ol start="3"><li>è¿è¡ŒæŒ‡ä»¤ <code>npm run build</code></li></ol><p>æ­¤æ—¶è§‚å¯Ÿæ‰“åŒ…è¾“å‡ºçš„ js æ–‡ä»¶ï¼Œå‘ç° Promise è¯­æ³•å¹¶æ²¡æœ‰ç¼–è¯‘è½¬æ¢ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨ <code>core-js</code> æ¥è¿›è¡Œ <code>polyfill</code>ã€‚</p><ol start="4"><li>ä½¿ç”¨<code>core-js</code></li></ol><ul><li><p>ä¸‹è½½åŒ… <code>npm i core-js</code></p></li><li><p>æ‰‹åŠ¨å…¨éƒ¨å¼•å…¥</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs js&#123;1&#125;">import &quot;core-js&quot;; //å¼•å…¥core-js<br>import count from &quot;./js/count&quot;;<br>import sum from &quot;./js/sum&quot;;<br>// å¼•å…¥èµ„æºï¼ŒWebpackæ‰ä¼šå¯¹å…¶æ‰“åŒ…<br>import &quot;./css/iconfont.css&quot;;<br>import &quot;./css/index.css&quot;;<br>import &quot;./less/index.less&quot;;<br>import &quot;./sass/index.sass&quot;;<br>import &quot;./sass/index.scss&quot;;<br>import &quot;./styl/index.styl&quot;;<br><br>const result1 = count(2, 1);<br>console.log(result1);<br>const result2 = sum(1, 2, 3, 4);<br>console.log(result2);<br>// æ·»åŠ promiseä»£ç <br>const promise = Promise.resolve();<br>promise.then(() =&gt; &#123;<br>  console.log(&quot;hello promise&quot;);<br>&#125;);<br></code></pre></td></tr></table></figure><p>è¿™æ ·å¼•å…¥ä¼šå°†æ‰€æœ‰å…¼å®¹æ€§ä»£ç å…¨éƒ¨å¼•å…¥ï¼Œä½“ç§¯å¤ªå¤§äº†ã€‚åªæƒ³å¼•å…¥ promise çš„ <code>polyfill</code>ã€‚</p><ul><li>æ‰‹åŠ¨æŒ‰éœ€å¼•å…¥</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs js&#123;1&#125;">import &quot;core-js/es/promise&quot;;<br>import count from &quot;./js/count&quot;;<br>import sum from &quot;./js/sum&quot;;<br>// å¼•å…¥èµ„æºï¼ŒWebpackæ‰ä¼šå¯¹å…¶æ‰“åŒ…<br>import &quot;./css/iconfont.css&quot;;<br>import &quot;./css/index.css&quot;;<br>import &quot;./less/index.less&quot;;<br>import &quot;./sass/index.sass&quot;;<br>import &quot;./sass/index.scss&quot;;<br>import &quot;./styl/index.styl&quot;;<br><br>const result1 = count(2, 1);<br>console.log(result1);<br>const result2 = sum(1, 2, 3, 4);<br>console.log(result2);<br>// æ·»åŠ promiseä»£ç <br>const promise = Promise.resolve();<br>promise.then(() =&gt; &#123;<br>  console.log(&quot;hello promise&quot;);<br>&#125;);<br></code></pre></td></tr></table></figure><p>åªå¼•å…¥æ‰“åŒ… promise çš„ <code>polyfill</code>ï¼Œæ‰“åŒ…ä½“ç§¯æ›´å°ã€‚ä½†æ˜¯å°†æ¥å¦‚æœè¿˜æƒ³ä½¿ç”¨å…¶ä»–è¯­æ³•ï¼Œæˆ‘éœ€è¦æ‰‹åŠ¨å¼•å…¥åº“å¾ˆéº»çƒ¦ã€‚</p><ul><li><p>è‡ªåŠ¨æŒ‰éœ€å¼•å…¥</p><ul><li>main.js</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> count <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./js/count&quot;</span>;<br><span class="hljs-keyword">import</span> sum <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./js/sum&quot;</span>;<br><span class="hljs-comment">// å¼•å…¥èµ„æºï¼ŒWebpackæ‰ä¼šå¯¹å…¶æ‰“åŒ…</span><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;./css/iconfont.css&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;./css/index.css&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;./less/index.less&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;./sass/index.sass&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;./sass/index.scss&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;./styl/index.styl&quot;</span>;<br><br><span class="hljs-keyword">const</span> result1 = <span class="hljs-title function_">count</span>(<span class="hljs-number">2</span>, <span class="hljs-number">1</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(result1);<br><span class="hljs-keyword">const</span> result2 = <span class="hljs-title function_">sum</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(result2);<br><span class="hljs-comment">// æ·»åŠ promiseä»£ç </span><br><span class="hljs-keyword">const</span> promise = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>();<br>promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;hello promise&quot;</span>);<br>&#125;);<br></code></pre></td></tr></table></figure><ul><li>babel.config.js</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>  <span class="hljs-comment">// æ™ºèƒ½é¢„è®¾ï¼šèƒ½å¤Ÿç¼–è¯‘ES6è¯­æ³•</span><br>  <span class="hljs-attr">presets</span>: [<br>    [<br>      <span class="hljs-string">&quot;@babel/preset-env&quot;</span>,<br>      <span class="hljs-comment">// æŒ‰éœ€åŠ è½½core-jsçš„polyfill</span><br>      &#123; <br>        <span class="hljs-attr">useBuiltIns</span>: <span class="hljs-string">&quot;usage&quot;</span>, <br>        <span class="hljs-attr">corejs</span>: &#123; <br>          <span class="hljs-attr">version</span>: <span class="hljs-string">&quot;3&quot;</span>, <br>          <span class="hljs-attr">proposals</span>: <span class="hljs-literal">true</span> <br>        &#125;<br>      &#125;,<br>    ],<br>  ],<br>&#125;;<br></code></pre></td></tr></table></figure></li></ul><p>æ­¤æ—¶å°±ä¼šè‡ªåŠ¨æ ¹æ®ä»£ç ä¸­ä½¿ç”¨çš„è¯­æ³•ï¼Œæ¥æŒ‰éœ€åŠ è½½ç›¸åº”çš„ <code>polyfill</code> äº†ã€‚</p><h2 id="PWA-progressive-web-application"><a href="#PWA-progressive-web-application" class="headerlink" title="PWA - progressive web application"></a>PWA - progressive web application</h2><h3 id="é—®é¢˜èƒŒæ™¯-4"><a href="#é—®é¢˜èƒŒæ™¯-4" class="headerlink" title="é—®é¢˜èƒŒæ™¯"></a>é—®é¢˜èƒŒæ™¯</h3><p>å¼€å‘ Web App é¡¹ç›®ï¼Œé¡¹ç›®ä¸€æ—¦å¤„äºç½‘ç»œç¦»çº¿æƒ…å†µï¼Œå°±æ²¡æ³•è®¿é—®äº†ã€‚å¦‚æœå¸Œæœ›ç»™é¡¹ç›®æä¾›ç¦»çº¿ä½“éªŒï¼Œè¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ</p><h3 id="è§£å†³æ–¹æ¡ˆ-4"><a href="#è§£å†³æ–¹æ¡ˆ-4" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h3><p>æ¸è¿›å¼ç½‘ç»œåº”ç”¨ç¨‹åºæ˜¯ä¸€ç§å¯ä»¥æä¾›ç±»ä¼¼äº native app(åŸç”Ÿåº”ç”¨ç¨‹åº) ä½“éªŒçš„ Web App çš„æŠ€æœ¯ã€‚å…¶ä¸­æœ€é‡è¦çš„æ˜¯ï¼Œåœ¨ <strong>ç¦»çº¿(offline)</strong> æ—¶åº”ç”¨ç¨‹åºèƒ½å¤Ÿç»§ç»­è¿è¡ŒåŠŸèƒ½ã€‚å®ƒçš„å†…éƒ¨é€šè¿‡ Service Workers æŠ€æœ¯å®ç°çš„ã€‚</p><h3 id="ä½¿ç”¨æ–¹æ³•-3"><a href="#ä½¿ç”¨æ–¹æ³•-3" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h3><ol><li><p>ä¸‹è½½åŒ… <code>npm i workbox-webpack-plugin -D</code></p></li><li><p>ä¿®æ”¹é…ç½®æ–‡ä»¶</p></li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br></pre></td><td class="code"><pre><code class="hljs js&#123;10,146-151&#125;">const os = require(&quot;os&quot;);<br>const path = require(&quot;path&quot;);<br>const ESLintWebpackPlugin = require(&quot;eslint-webpack-plugin&quot;);<br>const HtmlWebpackPlugin = require(&quot;html-webpack-plugin&quot;);<br>const MiniCssExtractPlugin = require(&quot;mini-css-extract-plugin&quot;);<br>const CssMinimizerPlugin = require(&quot;css-minimizer-webpack-plugin&quot;);<br>const TerserPlugin = require(&quot;terser-webpack-plugin&quot;);<br>const ImageMinimizerPlugin = require(&quot;image-minimizer-webpack-plugin&quot;);<br>const PreloadWebpackPlugin = require(&quot;@vue/preload-webpack-plugin&quot;);<br>const WorkboxPlugin = require(&quot;workbox-webpack-plugin&quot;);//å¼•å…¥web workersæ’ä»¶<br><br>// cpuæ ¸æ•°<br>const threads = os.cpus().length;<br><br>// è·å–å¤„ç†æ ·å¼çš„Loaders<br>const getStyleLoaders = (preProcessor) =&gt; &#123;<br>  return [<br>    MiniCssExtractPlugin.loader,<br>    &quot;css-loader&quot;,<br>    &#123;<br>      loader: &quot;postcss-loader&quot;,<br>      options: &#123;<br>        postcssOptions: &#123;<br>          plugins: [<br>            &quot;postcss-preset-env&quot;, // èƒ½è§£å†³å¤§å¤šæ•°æ ·å¼å…¼å®¹æ€§é—®é¢˜<br>          ],<br>        &#125;,<br>      &#125;,<br>    &#125;,<br>    preProcessor,<br>  ].filter(Boolean);<br>&#125;;<br><br>module.exports = &#123;<br>  entry: &quot;./src/main.js&quot;,<br>  output: &#123;<br>    path: path.resolve(__dirname, &quot;../dist&quot;), // ç”Ÿäº§æ¨¡å¼éœ€è¦è¾“å‡º<br>    // [contenthash:8]ä½¿ç”¨contenthashï¼Œå–8ä½é•¿åº¦<br>    filename: &quot;static/js/[name].[contenthash:8].js&quot;, // å…¥å£æ–‡ä»¶æ‰“åŒ…è¾“å‡ºèµ„æºå‘½åæ–¹å¼<br>    chunkFilename: &quot;static/js/[name].[contenthash:8].chunk.js&quot;, // åŠ¨æ€å¯¼å…¥è¾“å‡ºèµ„æºå‘½åæ–¹å¼<br>    assetModuleFilename: &quot;static/media/[name].[hash][ext]&quot;, // å›¾ç‰‡ã€å­—ä½“ç­‰èµ„æºå‘½åæ–¹å¼ï¼ˆæ³¨æ„ç”¨hashï¼‰<br>    clean: true,<br>  &#125;,<br>  module: &#123;<br>    rules: [<br>      &#123;<br>        oneOf: [<br>          &#123;<br>            // ç”¨æ¥åŒ¹é… .css ç»“å°¾çš„æ–‡ä»¶<br>            test: /\.css$/,<br>            // use æ•°ç»„é‡Œé¢ Loader æ‰§è¡Œé¡ºåºæ˜¯ä»å³åˆ°å·¦<br>            use: getStyleLoaders(),<br>          &#125;,<br>          &#123;<br>            test: /\.less$/,<br>            use: getStyleLoaders(&quot;less-loader&quot;),<br>          &#125;,<br>          &#123;<br>            test: /\.s[ac]ss$/,<br>            use: getStyleLoaders(&quot;sass-loader&quot;),<br>          &#125;,<br>          &#123;<br>            test: /\.styl$/,<br>            use: getStyleLoaders(&quot;stylus-loader&quot;),<br>          &#125;,<br>          &#123;<br>            test: /\.(png|jpe?g|gif|svg)$/,<br>            type: &quot;asset&quot;,<br>            parser: &#123;<br>              dataUrlCondition: &#123;<br>                maxSize: 10 * 1024, // å°äº10kbçš„å›¾ç‰‡ä¼šè¢«base64å¤„ç†<br>              &#125;,<br>            &#125;,<br>            // generator: &#123;<br>            //   // å°†å›¾ç‰‡æ–‡ä»¶è¾“å‡ºåˆ° static/imgs ç›®å½•ä¸­<br>            //   // å°†å›¾ç‰‡æ–‡ä»¶å‘½å [hash:8][ext][query]<br>            //   // [hash:8]: hashå€¼å–8ä½<br>            //   // [ext]: ä½¿ç”¨ä¹‹å‰çš„æ–‡ä»¶æ‰©å±•å<br>            //   // [query]: æ·»åŠ ä¹‹å‰çš„queryå‚æ•°<br>            //   filename: &quot;static/imgs/[hash:8][ext][query]&quot;,<br>            // &#125;,<br>          &#125;,<br>          &#123;<br>            test: /\.(ttf|woff2?)$/,<br>            type: &quot;asset/resource&quot;,<br>            // generator: &#123;<br>            //   filename: &quot;static/media/[hash:8][ext][query]&quot;,<br>            // &#125;,<br>          &#125;,<br>          &#123;<br>            test: /\.js$/,<br>            // exclude: /node_modules/, // æ’é™¤node_modulesä»£ç ä¸ç¼–è¯‘<br>            include: path.resolve(__dirname, &quot;../src&quot;), // ä¹Ÿå¯ä»¥ç”¨åŒ…å«<br>            use: [<br>              &#123;<br>                loader: &quot;thread-loader&quot;, // å¼€å¯å¤šè¿›ç¨‹<br>                options: &#123;<br>                  workers: threads, // æ•°é‡<br>                &#125;,<br>              &#125;,<br>              &#123;<br>                loader: &quot;babel-loader&quot;,<br>                options: &#123;<br>                  cacheDirectory: true, // å¼€å¯babelç¼–è¯‘ç¼“å­˜<br>                  cacheCompression: false, // ç¼“å­˜æ–‡ä»¶ä¸è¦å‹ç¼©<br>                  plugins: [&quot;@babel/plugin-transform-runtime&quot;], // å‡å°‘ä»£ç ä½“ç§¯<br>                &#125;,<br>              &#125;,<br>            ],<br>          &#125;,<br>        ],<br>      &#125;,<br>    ],<br>  &#125;,<br>  plugins: [<br>    new ESLintWebpackPlugin(&#123;<br>      // æŒ‡å®šæ£€æŸ¥æ–‡ä»¶çš„æ ¹ç›®å½•<br>      context: path.resolve(__dirname, &quot;../src&quot;),<br>      exclude: &quot;node_modules&quot;, // é»˜è®¤å€¼<br>      cache: true, // å¼€å¯ç¼“å­˜<br>      // ç¼“å­˜ç›®å½•<br>      cacheLocation: path.resolve(<br>        __dirname,<br>        &quot;../node_modules/.cache/.eslintcache&quot;<br>      ),<br>      threads, // å¼€å¯å¤šè¿›ç¨‹<br>    &#125;),<br>    new HtmlWebpackPlugin(&#123;<br>      // ä»¥ public/index.html ä¸ºæ¨¡æ¿åˆ›å»ºæ–‡ä»¶<br>      // æ–°çš„htmlæ–‡ä»¶æœ‰ä¸¤ä¸ªç‰¹ç‚¹ï¼š1. å†…å®¹å’Œæºæ–‡ä»¶ä¸€è‡´ 2. è‡ªåŠ¨å¼•å…¥æ‰“åŒ…ç”Ÿæˆçš„jsç­‰èµ„æº<br>      template: path.resolve(__dirname, &quot;../public/index.html&quot;),<br>    &#125;),<br>    // æå–cssæˆå•ç‹¬æ–‡ä»¶<br>    new MiniCssExtractPlugin(&#123;<br>      // å®šä¹‰è¾“å‡ºæ–‡ä»¶åå’Œç›®å½•<br>      filename: &quot;static/css/[name].[contenthash:8].css&quot;,<br>      chunkFilename: &quot;static/css/[name].[contenthash:8].chunk.css&quot;,<br>    &#125;),<br>    // csså‹ç¼©<br>    // new CssMinimizerPlugin(),<br>    new PreloadWebpackPlugin(&#123;<br>      rel: &quot;preload&quot;, // preloadå…¼å®¹æ€§æ›´å¥½<br>      as: &quot;script&quot;,<br>      // rel: &#x27;prefetch&#x27; // prefetchå…¼å®¹æ€§æ›´å·®<br>    &#125;),<br>    //æ·»åŠ Workbox<br>    new WorkboxPlugin.GenerateSW(&#123;<br>      // è¿™äº›é€‰é¡¹å¸®åŠ©å¿«é€Ÿå¯ç”¨ ServiceWorkers<br>      // ä¸å…è®¸é—ç•™ä»»ä½•â€œæ—§çš„â€ ServiceWorkers<br>      clientsClaim: true,<br>      skipWaiting: true,<br>    &#125;),<br>  ],<br>  optimization: &#123;<br>    minimizer: [<br>      // csså‹ç¼©ä¹Ÿå¯ä»¥å†™åˆ°optimization.minimizeré‡Œé¢ï¼Œæ•ˆæœä¸€æ ·çš„<br>      new CssMinimizerPlugin(),<br>      // å½“ç”Ÿäº§æ¨¡å¼ä¼šé»˜è®¤å¼€å¯TerserPluginï¼Œä½†æ˜¯éœ€è¦è¿›è¡Œå…¶ä»–é…ç½®ï¼Œå°±è¦é‡æ–°å†™äº†<br>      new TerserPlugin(&#123;<br>        parallel: threads, // å¼€å¯å¤šè¿›ç¨‹<br>      &#125;),<br>      // å‹ç¼©å›¾ç‰‡<br>      new ImageMinimizerPlugin(&#123;<br>        minimizer: &#123;<br>          implementation: ImageMinimizerPlugin.imageminGenerate,<br>          options: &#123;<br>            plugins: [<br>              [&quot;gifsicle&quot;, &#123; interlaced: true &#125;],<br>              [&quot;jpegtran&quot;, &#123; progressive: true &#125;],<br>              [&quot;optipng&quot;, &#123; optimizationLevel: 5 &#125;],<br>              [<br>                &quot;svgo&quot;,<br>                &#123;<br>                  plugins: [<br>                    &quot;preset-default&quot;,<br>                    &quot;prefixIds&quot;,<br>                    &#123;<br>                      name: &quot;sortAttrs&quot;,<br>                      params: &#123;<br>                        xmlnsOrder: &quot;alphabetical&quot;,<br>                      &#125;,<br>                    &#125;,<br>                  ],<br>                &#125;,<br>              ],<br>            ],<br>          &#125;,<br>        &#125;,<br>      &#125;),<br>    ],<br>    // ä»£ç åˆ†å‰²é…ç½®<br>    splitChunks: &#123;<br>      chunks: &quot;all&quot;, // å¯¹æ‰€æœ‰æ¨¡å—éƒ½è¿›è¡Œåˆ†å‰²<br>      // å…¶ä»–å†…å®¹ç”¨é»˜è®¤é…ç½®å³å¯<br>    &#125;,<br>  &#125;,<br>  // devServer: &#123;<br>  //   host: &quot;localhost&quot;, // å¯åŠ¨æœåŠ¡å™¨åŸŸå<br>  //   port: &quot;3000&quot;, // å¯åŠ¨æœåŠ¡å™¨ç«¯å£å·<br>  //   open: true, // æ˜¯å¦è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨<br>  // &#125;,<br>  mode: &quot;production&quot;,<br>  devtool: &quot;source-map&quot;,<br>&#125;;<br></code></pre></td></tr></table></figure><ol start="3"><li>åœ¨ main.js ä¸­æ³¨å†Œ serviceWorker</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs js&#123;24-35&#125;"><br>//æ³¨å†ŒserviceWorker<br>if (&quot;serviceWorker&quot; in navigator) &#123;<br>  window.addEventListener(&quot;load&quot;, () =&gt; &#123;<br>    navigator.serviceWorker<br>      .register(&quot;/service-worker.js&quot;)<br>      .then((registration) =&gt; &#123;<br>        console.log(&quot;SW registered: &quot;, registration);<br>      &#125;)<br>      .catch((registrationError) =&gt; &#123;<br>        console.log(&quot;SW registration failed: &quot;, registrationError);<br>      &#125;);<br>  &#125;);<br>&#125;<br></code></pre></td></tr></table></figure><ol start="4"><li>è¿è¡ŒæŒ‡ä»¤ <code>npm run build</code></li></ol><p>æ­¤æ—¶å¦‚æœç›´æ¥é€šè¿‡ VSCode è®¿é—®æ‰“åŒ…åé¡µé¢ï¼Œåœ¨æµè§ˆå™¨æ§åˆ¶å°ä¼šå‘ç° <code>SW registration failed</code>ã€‚</p><p>å› ä¸ºæ‰“å¼€çš„è®¿é—®è·¯å¾„æ˜¯ï¼š<code>http://127.0.0.1:5500/dist/index.html</code>ã€‚æ­¤æ—¶é¡µé¢ä¼šå»è¯·æ±‚ <code>service-worker.js</code> æ–‡ä»¶ï¼Œè¯·æ±‚è·¯å¾„æ˜¯ï¼š<code>http://127.0.0.1:5500/service-worker.js</code>ï¼Œè¿™æ ·æ‰¾ä¸åˆ°ä¼š 404ã€‚</p><p>å®é™… <code>service-worker.js</code> æ–‡ä»¶è·¯å¾„æ˜¯ï¼š<code>http://127.0.0.1:5500/dist/service-worker.js</code>ã€‚</p><ol start="5"><li>è§£å†³è·¯å¾„é—®é¢˜ï¼šè¦ä¿è¯è¿è¡Œé¡¹ç›®çš„æ ¹ç›®å½•è¿˜æ˜¯dist</li></ol><ul><li>ä¸‹è½½ä¸€ä¸ªä¸“é—¨ç”¨æ¥éƒ¨ç½²é™æ€èµ„æºæœåŠ¡å™¨çš„åº“ <code>npm i serve -g</code></li></ul><p>serve ä¹Ÿæ˜¯ç”¨æ¥å¯åŠ¨å¼€å‘æœåŠ¡å™¨æ¥éƒ¨ç½²ä»£ç æŸ¥çœ‹æ•ˆæœçš„ã€‚</p><ul><li>è¿è¡ŒæŒ‡ä»¤ï¼Œserve + è¦éƒ¨ç½²çš„ç›®å½• <code>serve dist</code>,æ­¤æ—¶é€šè¿‡ serve å¯åŠ¨çš„æœåŠ¡å™¨ service-worker å°±èƒ½æ³¨å†ŒæˆåŠŸäº†ã€‚</li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>JavaScriptï¼ŒWebpack</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Webpack5 é«˜çº§é…ç½®3ï¼šå¦‚ä½•å‡å°‘ä»£ç ä½“ç§¯</title>
    <link href="/2022/11/24/webpack%E9%AB%98%E7%BA%A7%E9%85%8D%E7%BD%AE3%EF%BC%9A%E5%A6%82%E4%BD%95%E5%87%8F%E5%B0%91%E4%BB%A3%E7%A0%81%E4%BD%93%E7%A7%AF/"/>
    <url>/2022/11/24/webpack%E9%AB%98%E7%BA%A7%E9%85%8D%E7%BD%AE3%EF%BC%9A%E5%A6%82%E4%BD%95%E5%87%8F%E5%B0%91%E4%BB%A3%E7%A0%81%E4%BD%93%E7%A7%AF/</url>
    
    <content type="html"><![CDATA[<h1 id="å‡å°‘ä»£ç ä½“ç§¯-reduce-volume"><a href="#å‡å°‘ä»£ç ä½“ç§¯-reduce-volume" class="headerlink" title="å‡å°‘ä»£ç ä½“ç§¯ reduce volume"></a>å‡å°‘ä»£ç ä½“ç§¯ reduce volume</h1><h2 id="ğŸŒ²Tree-Shaking"><a href="#ğŸŒ²Tree-Shaking" class="headerlink" title="ğŸŒ²Tree Shaking"></a>ğŸŒ²Tree Shaking</h2><p>å¼€å‘æ—¶å®šä¹‰äº†ä¸€äº›å·¥å…·å‡½æ•°åº“ï¼Œæˆ–è€…å¼•ç”¨ç¬¬ä¸‰æ–¹å·¥å…·å‡½æ•°åº“æˆ–ç»„ä»¶åº“ã€‚å¦‚æœæ²¡æœ‰ç‰¹æ®Šå¤„ç†ï¼Œæ‰“åŒ…æ—¶ä¼šå¼•å…¥æ•´ä¸ªåº“ï¼Œä½†æ˜¯å®é™…ä¸Šå¯èƒ½åªç”¨ä¸€å°éƒ¨åˆ†ã€‚è¿™æ ·å°†æ•´ä¸ªåº“éƒ½æ‰“åŒ…è¿›æ¥ï¼Œä½“ç§¯å°±å¤ªå¤§äº†ã€‚</p><p><code>Tree Shaking</code> æ˜¯ä¸€ä¸ªæœ¯è¯­ï¼Œé€šå¸¸ç”¨äºæè¿°ç§»é™¤ JavaScript ä¸­çš„æ²¡æœ‰ä½¿ç”¨ä¸Šçš„ä»£ç ã€‚æ³¨æ„ï¼šå®ƒä¾èµ– <code>ES Module</code>ã€‚<br>Webpack é»˜è®¤å¼€å¯ï¼Œæ— éœ€é…ç½®ã€‚</p><h2 id="Babel"><a href="#Babel" class="headerlink" title="Babel"></a>Babel</h2><h3 id="é—®é¢˜èƒŒæ™¯"><a href="#é—®é¢˜èƒŒæ™¯" class="headerlink" title="é—®é¢˜èƒŒæ™¯"></a>é—®é¢˜èƒŒæ™¯</h3><p>Babel ä¸ºç¼–è¯‘çš„æ¯ä¸ªæ–‡ä»¶éƒ½æ’å…¥äº†è¾…åŠ©ä»£ç ï¼Œä½¿ä»£ç ä½“ç§¯è¿‡å¤§ã€‚ä¾‹å¦‚ï¼Œå¯¹ä¸€äº›å…¬å…±æ–¹æ³•ä½¿ç”¨äº†éå¸¸å°çš„è¾…åŠ©ä»£ç ï¼Œæ¯”å¦‚ <code>_extend</code>ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¼šè¢«æ·»åŠ åˆ°æ¯ä¸€ä¸ªéœ€è¦å®ƒçš„æ–‡ä»¶ä¸­ã€‚å…¶å®å¼€å‘è€…å¯ä»¥å°†è¿™äº›è¾…åŠ©ä»£ç ã€ä½œä¸ºä¸€ä¸ªç‹¬ç«‹æ¨¡å—ï¼Œéšç”¨éšå¼•ï¼Œæ¥é¿å…é‡å¤å¼•å…¥ã€‚</p><h3 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h3><p><code>@babel/plugin-transform-runtime</code>: ç¦ç”¨äº† Babel è‡ªåŠ¨å¯¹æ¯ä¸ªæ–‡ä»¶çš„ runtime æ³¨å…¥ï¼Œè€Œæ˜¯å¼•å…¥ã€‚å¹¶ä¸”ä½¿æ‰€æœ‰è¾…åŠ©ä»£ç ä»è¿™é‡Œå¼•ç”¨ã€‚</p><h3 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h3><ol><li><p>ä¸‹è½½åŒ… <code>npm i @babel/plugin-transform-runtime -D</code></p></li><li><p>é…ç½®</p></li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br></pre></td><td class="code"><pre><code class="hljs js&#123;100&#125;">const os = require(&quot;os&quot;);<br>const path = require(&quot;path&quot;);<br>const ESLintWebpackPlugin = require(&quot;eslint-webpack-plugin&quot;);<br>const HtmlWebpackPlugin = require(&quot;html-webpack-plugin&quot;);<br>const MiniCssExtractPlugin = require(&quot;mini-css-extract-plugin&quot;);<br>const CssMinimizerPlugin = require(&quot;css-minimizer-webpack-plugin&quot;);<br>const TerserPlugin = require(&quot;terser-webpack-plugin&quot;);<br><br>// cpuæ ¸æ•°<br>const threads = os.cpus().length;<br><br>// è·å–å¤„ç†æ ·å¼çš„Loaders<br>const getStyleLoaders = (preProcessor) =&gt; &#123;<br>  return [<br>    MiniCssExtractPlugin.loader,<br>    &quot;css-loader&quot;,<br>    &#123;<br>      loader: &quot;postcss-loader&quot;,<br>      options: &#123;<br>        postcssOptions: &#123;<br>          plugins: [<br>            &quot;postcss-preset-env&quot;, // èƒ½è§£å†³å¤§å¤šæ•°æ ·å¼å…¼å®¹æ€§é—®é¢˜<br>          ],<br>        &#125;,<br>      &#125;,<br>    &#125;,<br>    preProcessor,<br>  ].filter(Boolean);<br>&#125;;<br><br>module.exports = &#123;<br>  entry: &quot;./src/main.js&quot;,<br>  output: &#123;<br>    path: path.resolve(__dirname, &quot;../dist&quot;), // ç”Ÿäº§æ¨¡å¼éœ€è¦è¾“å‡º<br>    filename: &quot;static/js/main.js&quot;, // å°† js æ–‡ä»¶è¾“å‡ºåˆ° static/js ç›®å½•ä¸­<br>    clean: true,<br>  &#125;,<br>  module: &#123;<br>    rules: [<br>      &#123;<br>        oneOf: [<br>          &#123;<br>            // ç”¨æ¥åŒ¹é… .css ç»“å°¾çš„æ–‡ä»¶<br>            test: /\.css$/,<br>            // use æ•°ç»„é‡Œé¢ Loader æ‰§è¡Œé¡ºåºæ˜¯ä»å³åˆ°å·¦<br>            use: getStyleLoaders(),<br>          &#125;,<br>          &#123;<br>            test: /\.less$/,<br>            use: getStyleLoaders(&quot;less-loader&quot;),<br>          &#125;,<br>          &#123;<br>            test: /\.s[ac]ss$/,<br>            use: getStyleLoaders(&quot;sass-loader&quot;),<br>          &#125;,<br>          &#123;<br>            test: /\.styl$/,<br>            use: getStyleLoaders(&quot;stylus-loader&quot;),<br>          &#125;,<br>          &#123;<br>            test: /\.(png|jpe?g|gif|webp)$/,<br>            type: &quot;asset&quot;,<br>            parser: &#123;<br>              dataUrlCondition: &#123;<br>                maxSize: 10 * 1024, // å°äº10kbçš„å›¾ç‰‡ä¼šè¢«base64å¤„ç†<br>              &#125;,<br>            &#125;,<br>            generator: &#123;<br>              // å°†å›¾ç‰‡æ–‡ä»¶è¾“å‡ºåˆ° static/imgs ç›®å½•ä¸­<br>              // å°†å›¾ç‰‡æ–‡ä»¶å‘½å [hash:8][ext][query]<br>              // [hash:8]: hashå€¼å–8ä½<br>              // [ext]: ä½¿ç”¨ä¹‹å‰çš„æ–‡ä»¶æ‰©å±•å<br>              // [query]: æ·»åŠ ä¹‹å‰çš„queryå‚æ•°<br>              filename: &quot;static/imgs/[hash:8][ext][query]&quot;,<br>            &#125;,<br>          &#125;,<br>          &#123;<br>            test: /\.(ttf|woff2?)$/,<br>            type: &quot;asset/resource&quot;,<br>            generator: &#123;<br>              filename: &quot;static/media/[hash:8][ext][query]&quot;,<br>            &#125;,<br>          &#125;,<br>          &#123;<br>            test: /\.js$/,<br>            // exclude: /node_modules/, // æ’é™¤node_modulesä»£ç ä¸ç¼–è¯‘<br>            include: path.resolve(__dirname, &quot;../src&quot;), // ä¹Ÿå¯ä»¥ç”¨åŒ…å«<br>            use: [<br>              &#123;<br>                loader: &quot;thread-loader&quot;, // å¼€å¯å¤šè¿›ç¨‹<br>                options: &#123;<br>                  workers: threads, // æ•°é‡<br>                &#125;,<br>              &#125;,<br>              &#123;<br>                loader: &quot;babel-loader&quot;,<br>                options: &#123;<br>                  cacheDirectory: true, // å¼€å¯babelç¼–è¯‘ç¼“å­˜<br>                  cacheCompression: false, // ç¼“å­˜æ–‡ä»¶ä¸è¦å‹ç¼©<br>                  plugins: [&quot;@babel/plugin-transform-runtime&quot;], // å‡å°‘ä»£ç ä½“ç§¯<br>                &#125;,<br>              &#125;,<br>            ],<br>          &#125;,<br>        ],<br>      &#125;,<br>    ],<br>  &#125;,<br>  plugins: [<br>    new ESLintWebpackPlugin(&#123;<br>      // æŒ‡å®šæ£€æŸ¥æ–‡ä»¶çš„æ ¹ç›®å½•<br>      context: path.resolve(__dirname, &quot;../src&quot;),<br>      exclude: &quot;node_modules&quot;, // é»˜è®¤å€¼<br>      cache: true, // å¼€å¯ç¼“å­˜<br>      // ç¼“å­˜ç›®å½•<br>      cacheLocation: path.resolve(<br>        __dirname,<br>        &quot;../node_modules/.cache/.eslintcache&quot;<br>      ),<br>      threads, // å¼€å¯å¤šè¿›ç¨‹<br>    &#125;),<br>    new HtmlWebpackPlugin(&#123;<br>      // ä»¥ public/index.html ä¸ºæ¨¡æ¿åˆ›å»ºæ–‡ä»¶<br>      // æ–°çš„htmlæ–‡ä»¶æœ‰ä¸¤ä¸ªç‰¹ç‚¹ï¼š1. å†…å®¹å’Œæºæ–‡ä»¶ä¸€è‡´ 2. è‡ªåŠ¨å¼•å…¥æ‰“åŒ…ç”Ÿæˆçš„jsç­‰èµ„æº<br>      template: path.resolve(__dirname, &quot;../public/index.html&quot;),<br>    &#125;),<br>    // æå–cssæˆå•ç‹¬æ–‡ä»¶<br>    new MiniCssExtractPlugin(&#123;<br>      // å®šä¹‰è¾“å‡ºæ–‡ä»¶åå’Œç›®å½•<br>      filename: &quot;static/css/main.css&quot;,<br>    &#125;),<br>    // csså‹ç¼©<br>    // new CssMinimizerPlugin(),<br>  ],<br>  optimization: &#123;<br>    minimizer: [<br>      // csså‹ç¼©ä¹Ÿå¯ä»¥å†™åˆ°optimization.minimizeré‡Œé¢ï¼Œæ•ˆæœä¸€æ ·çš„<br>      new CssMinimizerPlugin(),<br>      // å½“ç”Ÿäº§æ¨¡å¼ä¼šé»˜è®¤å¼€å¯TerserPluginï¼Œä½†æ˜¯æˆ‘ä»¬éœ€è¦è¿›è¡Œå…¶ä»–é…ç½®ï¼Œå°±è¦é‡æ–°å†™äº†<br>      new TerserPlugin(&#123;<br>        parallel: threads, // å¼€å¯å¤šè¿›ç¨‹<br>      &#125;),<br>    ]<br>  ],<br>  // devServer: &#123;<br>  //   host: &quot;localhost&quot;, // å¯åŠ¨æœåŠ¡å™¨åŸŸå<br>  //   port: &quot;3000&quot;, // å¯åŠ¨æœåŠ¡å™¨ç«¯å£å·<br>  //   open: true, // æ˜¯å¦è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨<br>  // &#125;,<br>  mode: &quot;production&quot;,<br>  devtool: &quot;source-map&quot;,<br>&#125;;<br></code></pre></td></tr></table></figure><h2 id="Image-Minimizer"><a href="#Image-Minimizer" class="headerlink" title="Image Minimizer"></a>Image Minimizer</h2><h3 id="é—®é¢˜èƒŒæ™¯-1"><a href="#é—®é¢˜èƒŒæ™¯-1" class="headerlink" title="é—®é¢˜èƒŒæ™¯"></a>é—®é¢˜èƒŒæ™¯</h3><p>å¦‚æœé¡¹ç›®ä¸­å¼•ç”¨äº†è¾ƒå¤šå›¾ç‰‡ï¼Œé‚£ä¹ˆå›¾ç‰‡ä½“ç§¯ä¼šæ¯”è¾ƒå¤§ï¼Œå°†æ¥è¯·æ±‚é€Ÿåº¦æ¯”è¾ƒæ…¢ã€‚å¯ä»¥å¯¹å›¾ç‰‡è¿›è¡Œå‹ç¼©ï¼Œå‡å°‘å›¾ç‰‡ä½“ç§¯ã€‚å¦å¤–ï¼Œå¦‚æœå›¾ç‰‡éƒ½æ˜¯åœ¨çº¿é“¾æ¥ï¼Œé‚£ä¹ˆå°±ä¸éœ€è¦äº†ã€‚æœ¬åœ°é¡¹ç›®é™æ€å›¾ç‰‡æ‰éœ€è¦è¿›è¡Œå‹ç¼©</p><h3 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h3><p><code>image-minimizer-webpack-plugin</code>: ç”¨æ¥å‹ç¼©å›¾ç‰‡çš„æ’ä»¶</p><h3 id="ä½¿ç”¨åŠæ³•"><a href="#ä½¿ç”¨åŠæ³•" class="headerlink" title="ä½¿ç”¨åŠæ³•"></a>ä½¿ç”¨åŠæ³•</h3><ol><li>ä¸‹è½½åŒ…  <code>npm i image-minimizer-webpack-plugin imagemin -D</code><br>è¿˜æœ‰å‰©ä¸‹åŒ…éœ€è¦ä¸‹è½½ï¼Œæœ‰ä¸¤ç§æ¨¡å¼ï¼š</li></ol><ul><li><p>æ— æŸå‹ç¼© <code>npm install imagemin-gifsicle imagemin-jpegtran imagemin-optipng imagemin-svgo -D</code></p></li><li><p>æœ‰æŸå‹ç¼© <code>npm install imagemin-gifsicle imagemin-mozjpeg imagemin-pngquant imagemin-svgo -D</code></p></li></ul><blockquote><p><a href="https://baike.baidu.com/item/%E6%97%A0%E6%8D%9F%E3%80%81%E6%9C%89%E6%8D%9F%E5%8E%8B%E7%BC%A9">æœ‰æŸ&#x2F;æ— æŸå‹ç¼©çš„åŒºåˆ«</a></p></blockquote><ol start="2"><li>é…ç½®</li></ol><p>ä»¥æ— æŸå‹ç¼©é…ç½®ä¸ºä¾‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br></pre></td><td class="code"><pre><code class="hljs js&#123;8,144-171&#125;">const os = require(&quot;os&quot;);<br>const path = require(&quot;path&quot;);<br>const ESLintWebpackPlugin = require(&quot;eslint-webpack-plugin&quot;);<br>const HtmlWebpackPlugin = require(&quot;html-webpack-plugin&quot;);<br>const MiniCssExtractPlugin = require(&quot;mini-css-extract-plugin&quot;);<br>const CssMinimizerPlugin = require(&quot;css-minimizer-webpack-plugin&quot;);<br>const TerserPlugin = require(&quot;terser-webpack-plugin&quot;);<br>const ImageMinimizerPlugin = require(&quot;image-minimizer-webpack-plugin&quot;);<br><br><br>// cpuæ ¸æ•°<br>const threads = os.cpus().length;<br><br>// è·å–å¤„ç†æ ·å¼çš„Loaders<br>const getStyleLoaders = (preProcessor) =&gt; &#123;<br>  return [<br>    MiniCssExtractPlugin.loader,<br>    &quot;css-loader&quot;,<br>    &#123;<br>      loader: &quot;postcss-loader&quot;,<br>      options: &#123;<br>        postcssOptions: &#123;<br>          plugins: [<br>            &quot;postcss-preset-env&quot;, // èƒ½è§£å†³å¤§å¤šæ•°æ ·å¼å…¼å®¹æ€§é—®é¢˜<br>          ],<br>        &#125;,<br>      &#125;,<br>    &#125;,<br>    preProcessor,<br>  ].filter(Boolean);<br>&#125;;<br><br>module.exports = &#123;<br>  entry: &quot;./src/main.js&quot;,<br>  output: &#123;<br>    path: path.resolve(__dirname, &quot;../dist&quot;), // ç”Ÿäº§æ¨¡å¼éœ€è¦è¾“å‡º<br>    filename: &quot;static/js/main.js&quot;, // å°† js æ–‡ä»¶è¾“å‡ºåˆ° static/js ç›®å½•ä¸­<br>    clean: true,<br>  &#125;,<br>  module: &#123;<br>    rules: [<br>      &#123;<br>        oneOf: [<br>          &#123;<br>            // ç”¨æ¥åŒ¹é… .css ç»“å°¾çš„æ–‡ä»¶<br>            test: /\.css$/,<br>            // use æ•°ç»„é‡Œé¢ Loader æ‰§è¡Œé¡ºåºæ˜¯ä»å³åˆ°å·¦<br>            use: getStyleLoaders(),<br>          &#125;,<br>          &#123;<br>            test: /\.less$/,<br>            use: getStyleLoaders(&quot;less-loader&quot;),<br>          &#125;,<br>          &#123;<br>            test: /\.s[ac]ss$/,<br>            use: getStyleLoaders(&quot;sass-loader&quot;),<br>          &#125;,<br>          &#123;<br>            test: /\.styl$/,<br>            use: getStyleLoaders(&quot;stylus-loader&quot;),<br>          &#125;,<br>          &#123;<br>            test: /\.(png|jpe?g|gif|svg)$/,<br>            type: &quot;asset&quot;,<br>            parser: &#123;<br>              dataUrlCondition: &#123;<br>                maxSize: 10 * 1024, // å°äº10kbçš„å›¾ç‰‡ä¼šè¢«base64å¤„ç†<br>              &#125;,<br>            &#125;,<br>            generator: &#123;<br>              // å°†å›¾ç‰‡æ–‡ä»¶è¾“å‡ºåˆ° static/imgs ç›®å½•ä¸­<br>              // å°†å›¾ç‰‡æ–‡ä»¶å‘½å [hash:8][ext][query]<br>              // [hash:8]: hashå€¼å–8ä½<br>              // [ext]: ä½¿ç”¨ä¹‹å‰çš„æ–‡ä»¶æ‰©å±•å<br>              // [query]: æ·»åŠ ä¹‹å‰çš„queryå‚æ•°<br>              filename: &quot;static/imgs/[hash:8][ext][query]&quot;,<br>            &#125;,<br>          &#125;,<br>          &#123;<br>            test: /\.(ttf|woff2?)$/,<br>            type: &quot;asset/resource&quot;,<br>            generator: &#123;<br>              filename: &quot;static/media/[hash:8][ext][query]&quot;,<br>            &#125;,<br>          &#125;,<br>          &#123;<br>            test: /\.js$/,<br>            // exclude: /node_modules/, // æ’é™¤node_modulesä»£ç ä¸ç¼–è¯‘<br>            include: path.resolve(__dirname, &quot;../src&quot;), // ä¹Ÿå¯ä»¥ç”¨åŒ…å«<br>            use: [<br>              &#123;<br>                loader: &quot;thread-loader&quot;, // å¼€å¯å¤šè¿›ç¨‹<br>                options: &#123;<br>                  workers: threads, // æ•°é‡<br>                &#125;,<br>              &#125;,<br>              &#123;<br>                loader: &quot;babel-loader&quot;,<br>                options: &#123;<br>                  cacheDirectory: true, // å¼€å¯babelç¼–è¯‘ç¼“å­˜<br>                  cacheCompression: false, // ç¼“å­˜æ–‡ä»¶ä¸è¦å‹ç¼©<br>                  plugins: [&quot;@babel/plugin-transform-runtime&quot;], // å‡å°‘ä»£ç ä½“ç§¯<br>                &#125;,<br>              &#125;,<br>            ],<br>          &#125;,<br>        ],<br>      &#125;,<br>    ],<br>  &#125;,<br>  plugins: [<br>    new ESLintWebpackPlugin(&#123;<br>      // æŒ‡å®šæ£€æŸ¥æ–‡ä»¶çš„æ ¹ç›®å½•<br>      context: path.resolve(__dirname, &quot;../src&quot;),<br>      exclude: &quot;node_modules&quot;, // é»˜è®¤å€¼<br>      cache: true, // å¼€å¯ç¼“å­˜<br>      // ç¼“å­˜ç›®å½•<br>      cacheLocation: path.resolve(<br>        __dirname,<br>        &quot;../node_modules/.cache/.eslintcache&quot;<br>      ),<br>      threads, // å¼€å¯å¤šè¿›ç¨‹<br>    &#125;),<br>    new HtmlWebpackPlugin(&#123;<br>      // ä»¥ public/index.html ä¸ºæ¨¡æ¿åˆ›å»ºæ–‡ä»¶<br>      // æ–°çš„htmlæ–‡ä»¶æœ‰ä¸¤ä¸ªç‰¹ç‚¹ï¼š1. å†…å®¹å’Œæºæ–‡ä»¶ä¸€è‡´ 2. è‡ªåŠ¨å¼•å…¥æ‰“åŒ…ç”Ÿæˆçš„jsç­‰èµ„æº<br>      template: path.resolve(__dirname, &quot;../public/index.html&quot;),<br>    &#125;),<br>    // æå–cssæˆå•ç‹¬æ–‡ä»¶<br>    new MiniCssExtractPlugin(&#123;<br>      // å®šä¹‰è¾“å‡ºæ–‡ä»¶åå’Œç›®å½•<br>      filename: &quot;static/css/main.css&quot;,<br>    &#125;),<br>    // csså‹ç¼©<br>    // new CssMinimizerPlugin(),<br>  ],<br>  optimization: &#123;<br>    minimizer: [<br>      // csså‹ç¼©ä¹Ÿå¯ä»¥å†™åˆ°optimization.minimizeré‡Œé¢ï¼Œæ•ˆæœä¸€æ ·çš„<br>      new CssMinimizerPlugin(),<br>      // å½“ç”Ÿäº§æ¨¡å¼ä¼šé»˜è®¤å¼€å¯TerserPluginï¼Œä½†æ˜¯æˆ‘ä»¬éœ€è¦è¿›è¡Œå…¶ä»–é…ç½®ï¼Œå°±è¦é‡æ–°å†™äº†<br>      new TerserPlugin(&#123;<br>        parallel: threads, // å¼€å¯å¤šè¿›ç¨‹<br>      &#125;),<br>      // å‹ç¼©å›¾ç‰‡ï¼Œè¿™ä¸€å—ç›´æ¥å¤åˆ¶å³å¯ï¼Œæœ‰æ—¶å€™åŒ…ä¼šä¸‹è½½ä¸ä¸‹æ¥<br>      new ImageMinimizerPlugin(&#123;<br>        minimizer: &#123;<br>          implementation: ImageMinimizerPlugin.imageminGenerate,<br>          options: &#123;<br>            plugins: [<br>              [&quot;gifsicle&quot;, &#123; interlaced: true &#125;],<br>              [&quot;jpegtran&quot;, &#123; progressive: true &#125;],<br>              [&quot;optipng&quot;, &#123; optimizationLevel: 5 &#125;],<br>              [<br>                &quot;svgo&quot;,<br>                &#123;<br>                  plugins: [<br>                    &quot;preset-default&quot;,<br>                    &quot;prefixIds&quot;,<br>                    &#123;<br>                      name: &quot;sortAttrs&quot;,<br>                      params: &#123;<br>                        xmlnsOrder: &quot;alphabetical&quot;,<br>                      &#125;,<br>                    &#125;,<br>                  ],<br>                &#125;,<br>              ],<br>            ],<br>          &#125;,<br>        &#125;,<br>      &#125;),<br>    ],<br>  &#125;,<br>  // devServer: &#123;<br>  //   host: &quot;localhost&quot;, // å¯åŠ¨æœåŠ¡å™¨åŸŸå<br>  //   port: &quot;3000&quot;, // å¯åŠ¨æœåŠ¡å™¨ç«¯å£å·<br>  //   open: true, // æ˜¯å¦è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨<br>  // &#125;,<br>  mode: &quot;production&quot;,<br>  devtool: &quot;source-map&quot;,<br>&#125;;<br></code></pre></td></tr></table></figure><ol start="3"><li>æ‰“åŒ…æ—¶å‡ºç°äº†æŠ¥é”™ï¼š</li></ol><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs subunit"><span class="hljs-keyword">Error: </span>Error with &#x27;src\images\1.jpeg&#x27;: &#x27;&quot;C:\Users\86176\Desktop\webpack\webpack_code\node_modules\jpegtran-bin\vendor\jpegtran.exe&quot;&#x27;<br><span class="hljs-keyword">Error </span>with &#x27;src\images\3.gif&#x27;: spawn C:\Users\86176\Desktop\webpack\webpack_code\node_modules\optipng-bin\vendor\optipng.exe ENOENT<br></code></pre></td></tr></table></figure><p>éœ€è¦å®‰è£…ä¸¤ä¸ªæ–‡ä»¶åˆ° node_modules ä¸­ï¼Œå¯ä»¥ä»å®˜ç½‘ä¸‹è½½ç„¶åæ”¾åˆ°ç›®å½•ä¸‹é¢</p><ul><li>jpegtran.exeï¼Œå¤åˆ¶åˆ° <code>node_modules\jpegtran-bin\vendor</code> ä¸‹é¢</li></ul><blockquote><p><a href="http://jpegclub.org/jpegtran/">jpegtran å®˜ç½‘åœ°å€</a></p></blockquote><ul><li>optipng.exeï¼Œå¤åˆ¶åˆ° <code>node_modules\optipng-bin\vendor</code> ä¸‹é¢</li></ul><blockquote><p><a href="http://optipng.sourceforge.net/">OptiPNG å®˜ç½‘åœ°å€</a></p></blockquote>]]></content>
    
    
    
    <tags>
      
      <tag>JavaScriptï¼ŒWebpack</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Webpack5 é«˜çº§é…ç½®2ï¼šå¦‚ä½•æé«˜æ‰“åŒ…æ„å»ºé€Ÿåº¦</title>
    <link href="/2022/11/24/webpack%E9%AB%98%E7%BA%A7%E9%85%8D%E7%BD%AE2%EF%BC%9A%E5%A6%82%E4%BD%95%E6%8F%90%E9%AB%98%E6%89%93%E5%8C%85%E6%9E%84%E5%BB%BA%E9%80%9F%E5%BA%A6/"/>
    <url>/2022/11/24/webpack%E9%AB%98%E7%BA%A7%E9%85%8D%E7%BD%AE2%EF%BC%9A%E5%A6%82%E4%BD%95%E6%8F%90%E9%AB%98%E6%89%93%E5%8C%85%E6%9E%84%E5%BB%BA%E9%80%9F%E5%BA%A6/</url>
    
    <content type="html"><![CDATA[<h1 id="æå‡æ‰“åŒ…æ„å»ºé€Ÿåº¦-lifting-speed"><a href="#æå‡æ‰“åŒ…æ„å»ºé€Ÿåº¦-lifting-speed" class="headerlink" title="æå‡æ‰“åŒ…æ„å»ºé€Ÿåº¦ lifting speed"></a>æå‡æ‰“åŒ…æ„å»ºé€Ÿåº¦ lifting speed</h1><h2 id="HotModuleReplacement"><a href="#HotModuleReplacement" class="headerlink" title="HotModuleReplacement"></a>HotModuleReplacement</h2><h3 id="é—®é¢˜èƒŒæ™¯"><a href="#é—®é¢˜èƒŒæ™¯" class="headerlink" title="é—®é¢˜èƒŒæ™¯"></a>é—®é¢˜èƒŒæ™¯</h3><p>å¼€å‘æ—¶ä¿®æ”¹äº†å…¶ä¸­ä¸€ä¸ªæ¨¡å—ä»£ç ï¼ŒWebpack é»˜è®¤ä¼šå°†æ‰€æœ‰æ¨¡å—å…¨éƒ¨é‡æ–°æ‰“åŒ…ç¼–è¯‘ï¼Œé€Ÿåº¦å¾ˆæ…¢ã€‚æ‰€ä»¥éœ€è¦åšåˆ°ä¿®æ”¹æŸä¸ªæ¨¡å—ä»£ç ï¼Œå°±åªæœ‰è¿™ä¸ªæ¨¡å—ä»£ç éœ€è¦é‡æ–°æ‰“åŒ…ç¼–è¯‘ï¼Œå…¶ä»–æ¨¡å—ä¸å˜ã€‚</p><h3 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h3><p>HotModuleReplacementï¼ˆHMR&#x2F;çƒ­æ¨¡å—æ›¿æ¢ï¼‰ï¼šåœ¨ç¨‹åºè¿è¡Œä¸­ï¼Œæ›¿æ¢ã€æ·»åŠ æˆ–åˆ é™¤æ¨¡å—ï¼Œè€Œæ— éœ€é‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢ã€‚</p><h3 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h3><ol><li>åŸºæœ¬é…ç½®</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>  <span class="hljs-comment">// å…¶ä»–çœç•¥</span><br>  <span class="hljs-attr">devServer</span>: &#123;<br>    <span class="hljs-attr">host</span>: <span class="hljs-string">&quot;localhost&quot;</span>, <span class="hljs-comment">// å¯åŠ¨æœåŠ¡å™¨åŸŸå</span><br>    <span class="hljs-attr">port</span>: <span class="hljs-string">&quot;3000&quot;</span>, <span class="hljs-comment">// å¯åŠ¨æœåŠ¡å™¨ç«¯å£å·</span><br>    <span class="hljs-attr">open</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// æ˜¯å¦è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨</span><br>    <span class="hljs-attr">hot</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// å¼€å¯HMRåŠŸèƒ½ï¼ˆåªèƒ½ç”¨äºå¼€å‘ç¯å¢ƒï¼Œç”Ÿäº§ç¯å¢ƒä¸éœ€è¦äº†ï¼‰</span><br>  &#125;,<br>&#125;;<br></code></pre></td></tr></table></figure><p>æ­¤æ—¶ css æ ·å¼ç»è¿‡ style-loader å¤„ç†ï¼Œå·²ç»å…·å¤‡ HMR åŠŸèƒ½äº†ã€‚<br>ä½†æ˜¯ js è¿˜ä¸è¡Œã€‚</p><ol start="2"><li>JS é…ç½®</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs js&#123;17-28&#125;">// main.js<br>import count from &quot;./js/count&quot;;<br>import sum from &quot;./js/sum&quot;;<br>// å¼•å…¥èµ„æºï¼ŒWebpackæ‰ä¼šå¯¹å…¶æ‰“åŒ…<br>import &quot;./css/iconfont.css&quot;;<br>import &quot;./css/index.css&quot;;<br>import &quot;./less/index.less&quot;;<br>import &quot;./sass/index.sass&quot;;<br>import &quot;./sass/index.scss&quot;;<br>import &quot;./styl/index.styl&quot;;<br><br>const result1 = count(2, 1);<br>console.log(result1);<br>const result2 = sum(1, 2, 3, 4);<br>console.log(result2);<br><br>// åˆ¤æ–­æ˜¯å¦æ”¯æŒHMRåŠŸèƒ½<br>if (module.hot) &#123;<br>  module.hot.accept(&quot;./js/count.js&quot;, function (count) &#123;<br>    const result1 = count(2, 1);<br>    console.log(result1);<br>  &#125;);<br><br>  module.hot.accept(&quot;./js/sum.js&quot;, function (sum) &#123;<br>    const result2 = sum(1, 2, 3, 4);<br>    console.log(result2);<br>  &#125;);<br>&#125;<br></code></pre></td></tr></table></figure><p>ä¸Šé¢è¿™æ ·å†™ä¼šå¾ˆéº»çƒ¦ï¼Œæ‰€ä»¥å®é™…å¼€å‘ä¼šä½¿ç”¨å…¶ä»– loader æ¥è§£å†³ã€‚</p><p>æ¯”å¦‚ï¼š<a href="https://github.com/vuejs/vue-loader">vue-loader</a>, <a href="https://github.com/gaearon/react-hot-loader">react-hot-loader</a>ã€‚</p><h2 id="OneOf"><a href="#OneOf" class="headerlink" title="OneOf"></a>OneOf</h2><h3 id="é—®é¢˜èƒŒæ™¯-1"><a href="#é—®é¢˜èƒŒæ™¯-1" class="headerlink" title="é—®é¢˜èƒŒæ™¯"></a>é—®é¢˜èƒŒæ™¯</h3><p>æ‰“åŒ…æ—¶æ¯ä¸ªæ–‡ä»¶éƒ½ä¼šç»è¿‡æ‰€æœ‰ loader å¤„ç†ï¼Œè™½ç„¶å› ä¸º <code>test</code> æ­£åˆ™åŸå› å®é™…æ²¡æœ‰å¤„ç†ä¸Šï¼Œä½†æ˜¯éƒ½è¦è¿‡ä¸€éã€‚æ¯”è¾ƒæ…¢ã€‚</p><h3 id="è§£å†³æ–¹æ¡ˆ-1"><a href="#è§£å†³æ–¹æ¡ˆ-1" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h3><p>é¡¾åæ€ä¹‰å°±æ˜¯åªèƒ½åŒ¹é…ä¸Šä¸€ä¸ª loader, å‰©ä¸‹çš„å°±ä¸åŒ¹é…äº†ã€‚</p><h3 id="ä½¿ç”¨æ–¹æ³•ï¼šå°†æ‰€æœ‰çš„loaderåŒ¹é…æ•°ç»„éƒ½æ”¾åœ¨-oneOf-ä¹‹ä¸­"><a href="#ä½¿ç”¨æ–¹æ³•ï¼šå°†æ‰€æœ‰çš„loaderåŒ¹é…æ•°ç»„éƒ½æ”¾åœ¨-oneOf-ä¹‹ä¸­" class="headerlink" title="ä½¿ç”¨æ–¹æ³•ï¼šå°†æ‰€æœ‰çš„loaderåŒ¹é…æ•°ç»„éƒ½æ”¾åœ¨ oneOf ä¹‹ä¸­"></a>ä½¿ç”¨æ–¹æ³•ï¼šå°†æ‰€æœ‰çš„loaderåŒ¹é…æ•°ç»„éƒ½æ”¾åœ¨ oneOf ä¹‹ä¸­</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;path&quot;</span>);<br><span class="hljs-keyword">const</span> <span class="hljs-title class_">ESLintWebpackPlugin</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;eslint-webpack-plugin&quot;</span>);<br><span class="hljs-keyword">const</span> <span class="hljs-title class_">HtmlWebpackPlugin</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;html-webpack-plugin&quot;</span>);<br><br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>  <span class="hljs-attr">entry</span>: <span class="hljs-string">&quot;./src/main.js&quot;</span>,<br>  <span class="hljs-attr">output</span>: &#123;<br>    <span class="hljs-attr">path</span>: <span class="hljs-literal">undefined</span>, <span class="hljs-comment">// å¼€å‘æ¨¡å¼æ²¡æœ‰è¾“å‡ºï¼Œä¸éœ€è¦æŒ‡å®šè¾“å‡ºç›®å½•</span><br>    <span class="hljs-attr">filename</span>: <span class="hljs-string">&quot;static/js/main.js&quot;</span>, <span class="hljs-comment">// å°† js æ–‡ä»¶è¾“å‡ºåˆ° static/js ç›®å½•ä¸­</span><br>    <span class="hljs-comment">// clean: true, // å¼€å‘æ¨¡å¼æ²¡æœ‰è¾“å‡ºï¼Œä¸éœ€è¦æ¸…ç©ºè¾“å‡ºç»“æœ</span><br>  &#125;,<br>  <span class="hljs-attr">module</span>: &#123;<br>    <span class="hljs-attr">rules</span>: [<br>      &#123;<br>        <span class="hljs-attr">oneOf</span>: [<br>          &#123;<br>            <span class="hljs-comment">// ç”¨æ¥åŒ¹é… .css ç»“å°¾çš„æ–‡ä»¶</span><br>            <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.css$/</span>,<br>            <span class="hljs-comment">// use æ•°ç»„é‡Œé¢ Loader æ‰§è¡Œé¡ºåºæ˜¯ä»å³åˆ°å·¦</span><br>            <span class="hljs-attr">use</span>: [<span class="hljs-string">&quot;style-loader&quot;</span>, <span class="hljs-string">&quot;css-loader&quot;</span>],<br>          &#125;,<br>          &#123;<br>            <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.less$/</span>,<br>            <span class="hljs-attr">use</span>: [<span class="hljs-string">&quot;style-loader&quot;</span>, <span class="hljs-string">&quot;css-loader&quot;</span>, <span class="hljs-string">&quot;less-loader&quot;</span>],<br>          &#125;,<br>          &#123;<br>            <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.s[ac]ss$/</span>,<br>            <span class="hljs-attr">use</span>: [<span class="hljs-string">&quot;style-loader&quot;</span>, <span class="hljs-string">&quot;css-loader&quot;</span>, <span class="hljs-string">&quot;sass-loader&quot;</span>],<br>          &#125;,<br>          &#123;<br>            <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.styl$/</span>,<br>            <span class="hljs-attr">use</span>: [<span class="hljs-string">&quot;style-loader&quot;</span>, <span class="hljs-string">&quot;css-loader&quot;</span>, <span class="hljs-string">&quot;stylus-loader&quot;</span>],<br>          &#125;,<br>          &#123;<br>            <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.(png|jpe?g|gif|webp)$/</span>,<br>            <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;asset&quot;</span>,<br>            <span class="hljs-attr">parser</span>: &#123;<br>              <span class="hljs-attr">dataUrlCondition</span>: &#123;<br>                <span class="hljs-attr">maxSize</span>: <span class="hljs-number">10</span> * <span class="hljs-number">1024</span>, <span class="hljs-comment">// å°äº10kbçš„å›¾ç‰‡ä¼šè¢«base64å¤„ç†</span><br>              &#125;,<br>            &#125;,<br>            <span class="hljs-attr">generator</span>: &#123;<br>              <span class="hljs-comment">// å°†å›¾ç‰‡æ–‡ä»¶è¾“å‡ºåˆ° static/imgs ç›®å½•ä¸­</span><br>              <span class="hljs-comment">// å°†å›¾ç‰‡æ–‡ä»¶å‘½å [hash:8][ext][query]</span><br>              <span class="hljs-comment">// [hash:8]: hashå€¼å–8ä½</span><br>              <span class="hljs-comment">// [ext]: ä½¿ç”¨ä¹‹å‰çš„æ–‡ä»¶æ‰©å±•å</span><br>              <span class="hljs-comment">// [query]: æ·»åŠ ä¹‹å‰çš„queryå‚æ•°</span><br>              <span class="hljs-attr">filename</span>: <span class="hljs-string">&quot;static/imgs/[hash:8][ext][query]&quot;</span>,<br>            &#125;,<br>          &#125;,<br>          &#123;<br>            <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.(ttf|woff2?)$/</span>,<br>            <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;asset/resource&quot;</span>,<br>            <span class="hljs-attr">generator</span>: &#123;<br>              <span class="hljs-attr">filename</span>: <span class="hljs-string">&quot;static/media/[hash:8][ext][query]&quot;</span>,<br>            &#125;,<br>          &#125;,<br>          &#123;<br>            <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.js$/</span>,<br>            <span class="hljs-attr">exclude</span>: <span class="hljs-regexp">/node_modules/</span>, <span class="hljs-comment">// æ’é™¤node_modulesä»£ç ä¸ç¼–è¯‘</span><br>            <span class="hljs-attr">loader</span>: <span class="hljs-string">&quot;babel-loader&quot;</span>,<br>          &#125;,<br>        ],<br>      &#125;,<br>    ],<br>  &#125;,<br>  <span class="hljs-attr">plugins</span>: [<br>    <span class="hljs-keyword">new</span> <span class="hljs-title class_">ESLintWebpackPlugin</span>(&#123;<br>      <span class="hljs-comment">// æŒ‡å®šæ£€æŸ¥æ–‡ä»¶çš„æ ¹ç›®å½•</span><br>      <span class="hljs-attr">context</span>: path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">&quot;../src&quot;</span>),<br>    &#125;),<br>    <span class="hljs-keyword">new</span> <span class="hljs-title class_">HtmlWebpackPlugin</span>(&#123;<br>      <span class="hljs-comment">// ä»¥ public/index.html ä¸ºæ¨¡æ¿åˆ›å»ºæ–‡ä»¶</span><br>      <span class="hljs-comment">// æ–°çš„htmlæ–‡ä»¶æœ‰ä¸¤ä¸ªç‰¹ç‚¹ï¼š1. å†…å®¹å’Œæºæ–‡ä»¶ä¸€è‡´ 2. è‡ªåŠ¨å¼•å…¥æ‰“åŒ…ç”Ÿæˆçš„jsç­‰èµ„æº</span><br>      <span class="hljs-attr">template</span>: path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">&quot;../public/index.html&quot;</span>),<br>    &#125;),<br>  ],<br>  <span class="hljs-comment">// å¼€å‘æœåŠ¡å™¨</span><br>  <span class="hljs-attr">devServer</span>: &#123;<br>    <span class="hljs-attr">host</span>: <span class="hljs-string">&quot;localhost&quot;</span>, <span class="hljs-comment">// å¯åŠ¨æœåŠ¡å™¨åŸŸå</span><br>    <span class="hljs-attr">port</span>: <span class="hljs-string">&quot;3000&quot;</span>, <span class="hljs-comment">// å¯åŠ¨æœåŠ¡å™¨ç«¯å£å·</span><br>    <span class="hljs-attr">open</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// æ˜¯å¦è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨</span><br>    <span class="hljs-attr">hot</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// å¼€å¯HMRåŠŸèƒ½</span><br>  &#125;,<br>  <span class="hljs-attr">mode</span>: <span class="hljs-string">&quot;development&quot;</span>,<br>  <span class="hljs-attr">devtool</span>: <span class="hljs-string">&quot;cheap-module-source-map&quot;</span>,<br>&#125;;<br></code></pre></td></tr></table></figure><p>ç”Ÿäº§æ¨¡å¼ä¹Ÿæ˜¯å¦‚æ­¤é…ç½®ã€‚</p><h2 id="Include-x2F-Exclude"><a href="#Include-x2F-Exclude" class="headerlink" title="Include&#x2F;Exclude"></a>Include&#x2F;Exclude</h2><p>Â·</p><h3 id="é—®é¢˜èƒŒæ™¯-2"><a href="#é—®é¢˜èƒŒæ™¯-2" class="headerlink" title="é—®é¢˜èƒŒæ™¯"></a>é—®é¢˜èƒŒæ™¯</h3><p>å¼€å‘æ—¶éœ€è¦ä½¿ç”¨ç¬¬ä¸‰æ–¹çš„åº“æˆ–æ’ä»¶ï¼Œæ‰€æœ‰æ–‡ä»¶éƒ½ä¸‹è½½åˆ° node_modules ä¸­äº†ã€‚è€Œè¿™äº›æ–‡ä»¶æ˜¯ä¸éœ€è¦ç¼–è¯‘å¯ä»¥ç›´æ¥ä½¿ç”¨çš„ã€‚æ‰€ä»¥åœ¨å¯¹ js æ–‡ä»¶å¤„ç†æ—¶ï¼Œè¦æ’é™¤ node_modules ä¸‹é¢çš„æ–‡ä»¶ã€‚</p><h3 id="è§£å†³æ–¹æ¡ˆ-2"><a href="#è§£å†³æ–¹æ¡ˆ-2" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h3><ul><li><p><code>include</code> åŒ…å«ï¼Œåªå¤„ç† xxx æ–‡ä»¶</p></li><li><p><code>exclude</code> ï¼Œæ’é™¤ï¼Œé™¤äº† xxx æ–‡ä»¶ä»¥å¤–å…¶ä»–æ–‡ä»¶éƒ½å¤„ç†</p></li></ul><h3 id="æ€ä¹ˆç”¨"><a href="#æ€ä¹ˆç”¨" class="headerlink" title="æ€ä¹ˆç”¨"></a>æ€ä¹ˆç”¨</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><code class="hljs js&#123;60-61,72&#125;">const path = require(&quot;path&quot;);<br>const ESLintWebpackPlugin = require(&quot;eslint-webpack-plugin&quot;);<br>const HtmlWebpackPlugin = require(&quot;html-webpack-plugin&quot;);<br><br>module.exports = &#123;<br>  entry: &quot;./src/main.js&quot;,<br>  output: &#123;<br>    path: undefined, // å¼€å‘æ¨¡å¼æ²¡æœ‰è¾“å‡ºï¼Œä¸éœ€è¦æŒ‡å®šè¾“å‡ºç›®å½•<br>    filename: &quot;static/js/main.js&quot;, // å°† js æ–‡ä»¶è¾“å‡ºåˆ° static/js ç›®å½•ä¸­<br>    // clean: true, // å¼€å‘æ¨¡å¼æ²¡æœ‰è¾“å‡ºï¼Œä¸éœ€è¦æ¸…ç©ºè¾“å‡ºç»“æœ<br>  &#125;,<br>  module: &#123;<br>    rules: [<br>      &#123;<br>        oneOf: [<br>          &#123;<br>            // ç”¨æ¥åŒ¹é… .css ç»“å°¾çš„æ–‡ä»¶<br>            test: /\.css$/,<br>            // use æ•°ç»„é‡Œé¢ Loader æ‰§è¡Œé¡ºåºæ˜¯ä»å³åˆ°å·¦<br>            use: [&quot;style-loader&quot;, &quot;css-loader&quot;],<br>          &#125;,<br>          &#123;<br>            test: /\.less$/,<br>            use: [&quot;style-loader&quot;, &quot;css-loader&quot;, &quot;less-loader&quot;],<br>          &#125;,<br>          &#123;<br>            test: /\.s[ac]ss$/,<br>            use: [&quot;style-loader&quot;, &quot;css-loader&quot;, &quot;sass-loader&quot;],<br>          &#125;,<br>          &#123;<br>            test: /\.styl$/,<br>            use: [&quot;style-loader&quot;, &quot;css-loader&quot;, &quot;stylus-loader&quot;],<br>          &#125;,<br>          &#123;<br>            test: /\.(png|jpe?g|gif|webp)$/,<br>            type: &quot;asset&quot;,<br>            parser: &#123;<br>              dataUrlCondition: &#123;<br>                maxSize: 10 * 1024, // å°äº10kbçš„å›¾ç‰‡ä¼šè¢«base64å¤„ç†<br>              &#125;,<br>            &#125;,<br>            generator: &#123;<br>              // å°†å›¾ç‰‡æ–‡ä»¶è¾“å‡ºåˆ° static/imgs ç›®å½•ä¸­<br>              // å°†å›¾ç‰‡æ–‡ä»¶å‘½å [hash:8][ext][query]<br>              // [hash:8]: hashå€¼å–8ä½<br>              // [ext]: ä½¿ç”¨ä¹‹å‰çš„æ–‡ä»¶æ‰©å±•å<br>              // [query]: æ·»åŠ ä¹‹å‰çš„queryå‚æ•°<br>              filename: &quot;static/imgs/[hash:8][ext][query]&quot;,<br>            &#125;,<br>          &#125;,<br>          &#123;<br>            test: /\.(ttf|woff2?)$/,<br>            type: &quot;asset/resource&quot;,<br>            generator: &#123;<br>              filename: &quot;static/media/[hash:8][ext][query]&quot;,<br>            &#125;,<br>          &#125;,<br>          &#123;<br>            test: /\.js$/,<br>            // exclude: /node_modules/, // æ’é™¤node_modulesä»£ç ä¸ç¼–è¯‘<br>            include: path.resolve(__dirname, &quot;../src&quot;), // ä¹Ÿå¯ä»¥ç”¨åŒ…å«<br>            loader: &quot;babel-loader&quot;,<br>          &#125;,<br>        ],<br>      &#125;,<br>    ],<br>  &#125;,<br>  plugins: [<br>    new ESLintWebpackPlugin(&#123;<br>      // æŒ‡å®šæ£€æŸ¥æ–‡ä»¶çš„æ ¹ç›®å½•<br>      context: path.resolve(__dirname, &quot;../src&quot;),<br>      exclude: &quot;node_modules&quot;, // é»˜è®¤å€¼<br>    &#125;),<br>    new HtmlWebpackPlugin(&#123;<br>      // ä»¥ public/index.html ä¸ºæ¨¡æ¿åˆ›å»ºæ–‡ä»¶<br>      // æ–°çš„htmlæ–‡ä»¶æœ‰ä¸¤ä¸ªç‰¹ç‚¹ï¼š1. å†…å®¹å’Œæºæ–‡ä»¶ä¸€è‡´ 2. è‡ªåŠ¨å¼•å…¥æ‰“åŒ…ç”Ÿæˆçš„jsç­‰èµ„æº<br>      template: path.resolve(__dirname, &quot;../public/index.html&quot;),<br>    &#125;),<br>  ],<br>  // å¼€å‘æœåŠ¡å™¨<br>  devServer: &#123;<br>    host: &quot;localhost&quot;, // å¯åŠ¨æœåŠ¡å™¨åŸŸå<br>    port: &quot;3000&quot;, // å¯åŠ¨æœåŠ¡å™¨ç«¯å£å·<br>    open: true, // æ˜¯å¦è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨<br>    hot: true, // å¼€å¯HMRåŠŸèƒ½<br>  &#125;,<br>  mode: &quot;development&quot;,<br>  devtool: &quot;cheap-module-source-map&quot;,<br>&#125;;<br></code></pre></td></tr></table></figure><p>ç”Ÿäº§æ¨¡å¼ä¹Ÿæ˜¯å¦‚æ­¤é…ç½®ã€‚</p><h2 id="Cache"><a href="#Cache" class="headerlink" title="Cache"></a>Cache</h2><h3 id="é—®é¢˜èƒŒæ™¯-3"><a href="#é—®é¢˜èƒŒæ™¯-3" class="headerlink" title="é—®é¢˜èƒŒæ™¯"></a>é—®é¢˜èƒŒæ™¯</h3><p>æ¯æ¬¡æ‰“åŒ…æ—¶ js æ–‡ä»¶éƒ½è¦ç»è¿‡ Eslint æ£€æŸ¥ å’Œ Babel ç¼–è¯‘ï¼Œé€Ÿåº¦æ¯”è¾ƒæ…¢ã€‚å¯ä»¥ç¼“å­˜ä¹‹å‰çš„ Eslint æ£€æŸ¥ å’Œ Babel ç¼–è¯‘ç»“æœï¼Œè¿™æ ·ç¬¬äºŒæ¬¡æ‰“åŒ…æ—¶é€Ÿåº¦å°±ä¼šæ›´å¿«äº†ã€‚</p><h3 id="è§£å†³æ–¹æ¡ˆ-3"><a href="#è§£å†³æ–¹æ¡ˆ-3" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h3><p>å¯¹ Eslint æ£€æŸ¥ å’Œ Babel ç¼–è¯‘ç»“æœè¿›è¡Œç¼“å­˜ã€‚</p><h3 id="ä½¿ç”¨æ–¹æ³•-1"><a href="#ä½¿ç”¨æ–¹æ³•-1" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><code class="hljs js&#123;63-66,77-82&#125;">const path = require(&quot;path&quot;);<br>const ESLintWebpackPlugin = require(&quot;eslint-webpack-plugin&quot;);<br>const HtmlWebpackPlugin = require(&quot;html-webpack-plugin&quot;);<br><br>module.exports = &#123;<br>  entry: &quot;./src/main.js&quot;,<br>  output: &#123;<br>    path: undefined, // å¼€å‘æ¨¡å¼æ²¡æœ‰è¾“å‡ºï¼Œä¸éœ€è¦æŒ‡å®šè¾“å‡ºç›®å½•<br>    filename: &quot;static/js/main.js&quot;, // å°† js æ–‡ä»¶è¾“å‡ºåˆ° static/js ç›®å½•ä¸­<br>    // clean: true, // å¼€å‘æ¨¡å¼æ²¡æœ‰è¾“å‡ºï¼Œä¸éœ€è¦æ¸…ç©ºè¾“å‡ºç»“æœ<br>  &#125;,<br>  module: &#123;<br>    rules: [<br>      &#123;<br>        oneOf: [<br>          &#123;<br>            // ç”¨æ¥åŒ¹é… .css ç»“å°¾çš„æ–‡ä»¶<br>            test: /\.css$/,<br>            // use æ•°ç»„é‡Œé¢ Loader æ‰§è¡Œé¡ºåºæ˜¯ä»å³åˆ°å·¦<br>            use: [&quot;style-loader&quot;, &quot;css-loader&quot;],<br>          &#125;,<br>          &#123;<br>            test: /\.less$/,<br>            use: [&quot;style-loader&quot;, &quot;css-loader&quot;, &quot;less-loader&quot;],<br>          &#125;,<br>          &#123;<br>            test: /\.s[ac]ss$/,<br>            use: [&quot;style-loader&quot;, &quot;css-loader&quot;, &quot;sass-loader&quot;],<br>          &#125;,<br>          &#123;<br>            test: /\.styl$/,<br>            use: [&quot;style-loader&quot;, &quot;css-loader&quot;, &quot;stylus-loader&quot;],<br>          &#125;,<br>          &#123;<br>            test: /\.(png|jpe?g|gif|webp)$/,<br>            type: &quot;asset&quot;,<br>            parser: &#123;<br>              dataUrlCondition: &#123;<br>                maxSize: 10 * 1024, // å°äº10kbçš„å›¾ç‰‡ä¼šè¢«base64å¤„ç†<br>              &#125;,<br>            &#125;,<br>            generator: &#123;<br>              // å°†å›¾ç‰‡æ–‡ä»¶è¾“å‡ºåˆ° static/imgs ç›®å½•ä¸­<br>              // å°†å›¾ç‰‡æ–‡ä»¶å‘½å [hash:8][ext][query]<br>              // [hash:8]: hashå€¼å–8ä½<br>              // [ext]: ä½¿ç”¨ä¹‹å‰çš„æ–‡ä»¶æ‰©å±•å<br>              // [query]: æ·»åŠ ä¹‹å‰çš„queryå‚æ•°<br>              filename: &quot;static/imgs/[hash:8][ext][query]&quot;,<br>            &#125;,<br>          &#125;,<br>          &#123;<br>            test: /\.(ttf|woff2?)$/,<br>            type: &quot;asset/resource&quot;,<br>            generator: &#123;<br>              filename: &quot;static/media/[hash:8][ext][query]&quot;,<br>            &#125;,<br>          &#125;,<br>          &#123;<br>            test: /\.js$/,<br>            // exclude: /node_modules/, // æ’é™¤node_modulesä»£ç ä¸ç¼–è¯‘<br>            include: path.resolve(__dirname, &quot;../src&quot;), // ä¹Ÿå¯ä»¥ç”¨åŒ…å«<br>            loader: &quot;babel-loader&quot;,<br>            options: &#123;<br>              cacheDirectory: true, // å¼€å¯babelç¼–è¯‘ç¼“å­˜<br>              cacheCompression: false, // ç¼“å­˜æ–‡ä»¶ä¸è¦å‹ç¼©<br>            &#125;,<br>          &#125;,<br>        ],<br>      &#125;,<br>    ],<br>  &#125;,<br>  plugins: [<br>    new ESLintWebpackPlugin(&#123;<br>      // æŒ‡å®šæ£€æŸ¥æ–‡ä»¶çš„æ ¹ç›®å½•<br>      context: path.resolve(__dirname, &quot;../src&quot;),<br>      exclude: &quot;node_modules&quot;, // é»˜è®¤å€¼<br>      cache: true, // å¼€å¯ç¼“å­˜<br>      // ç¼“å­˜ç›®å½•ï¼Œèƒ½è®©ç¬¬äºŒæ¬¡æ‰“åŒ…çš„é€Ÿåº¦å˜å¾—å¾ˆå¿«<br>      cacheLocation: path.resolve(<br>        __dirname,<br>        &quot;../node_modules/.cache/.eslintcache&quot;<br>      ),<br>    &#125;),<br>    new HtmlWebpackPlugin(&#123;<br>      // ä»¥ public/index.html ä¸ºæ¨¡æ¿åˆ›å»ºæ–‡ä»¶<br>      // æ–°çš„htmlæ–‡ä»¶æœ‰ä¸¤ä¸ªç‰¹ç‚¹ï¼š1. å†…å®¹å’Œæºæ–‡ä»¶ä¸€è‡´ 2. è‡ªåŠ¨å¼•å…¥æ‰“åŒ…ç”Ÿæˆçš„jsç­‰èµ„æº<br>      template: path.resolve(__dirname, &quot;../public/index.html&quot;),<br>    &#125;),<br>  ],<br>  // å¼€å‘æœåŠ¡å™¨<br>  devServer: &#123;<br>    host: &quot;localhost&quot;, // å¯åŠ¨æœåŠ¡å™¨åŸŸå<br>    port: &quot;3000&quot;, // å¯åŠ¨æœåŠ¡å™¨ç«¯å£å·<br>    open: true, // æ˜¯å¦è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨<br>    hot: true, // å¼€å¯HMRåŠŸèƒ½<br>  &#125;,<br>  mode: &quot;development&quot;,<br>  devtool: &quot;cheap-module-source-map&quot;,<br>&#125;;<br></code></pre></td></tr></table></figure><h2 id="Thead"><a href="#Thead" class="headerlink" title="Thead"></a>Thead</h2><h3 id="é—®é¢˜èƒŒæ™¯-4"><a href="#é—®é¢˜èƒŒæ™¯-4" class="headerlink" title="é—®é¢˜èƒŒæ™¯"></a>é—®é¢˜èƒŒæ™¯</h3><p>å½“é¡¹ç›®è¶Šæ¥è¶Šåºå¤§æ—¶ï¼Œæ‰“åŒ…é€Ÿåº¦è¶Šæ¥è¶Šæ…¢ï¼Œç”šè‡³äºéœ€è¦ä¸€ä¸ªä¸‹åˆï¼Œæƒ³è¦ç»§ç»­æå‡æ‰“åŒ…é€Ÿåº¦ï¼Œå…¶å®å°±æ˜¯è¦æå‡ js çš„æ‰“åŒ…é€Ÿåº¦ï¼Œå› ä¸ºå…¶ä»–æ–‡ä»¶éƒ½æ¯”è¾ƒå°‘ã€‚è€Œå¯¹ js æ–‡ä»¶å¤„ç†ä¸»è¦å°±æ˜¯ eslint ã€babelã€Terser ä¸‰ä¸ªå·¥å…·ï¼Œæ‰€ä»¥è¦æå‡å®ƒä»¬çš„è¿è¡Œé€Ÿåº¦ã€‚</p><p>å…¶å®å¯ä»¥å¼€å¯å¤šè¿›ç¨‹åŒæ—¶å¤„ç† js æ–‡ä»¶ï¼Œè¿™æ ·é€Ÿåº¦å°±æ¯”ä¹‹å‰çš„å•è¿›ç¨‹æ‰“åŒ…æ›´å¿«äº†ã€‚</p><h3 id="è§£å†³æ–¹æ¡ˆ-4"><a href="#è§£å†³æ–¹æ¡ˆ-4" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h3><p>å¤šè¿›ç¨‹æ‰“åŒ…ï¼šå¼€å¯ç”µè„‘çš„å¤šä¸ªè¿›ç¨‹åŒæ—¶å¹²ä¸€ä»¶äº‹ï¼Œé€Ÿåº¦æ›´å¿«ã€‚</p><p><strong>éœ€è¦æ³¨æ„ï¼šä»…åœ¨ç‰¹åˆ«è€—æ—¶çš„æ“ä½œä¸­ä½¿ç”¨ï¼Œå› ä¸ºæ¯ä¸ªè¿›ç¨‹å¯åŠ¨å°±æœ‰å¤§çº¦ä¸º 600ms å·¦å³å¼€é”€ã€‚</strong></p><h3 id="ç”¨æ³•"><a href="#ç”¨æ³•" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h3><p>å¯åŠ¨è¿›ç¨‹çš„æ•°é‡å°±æ˜¯ CPU çš„æ ¸æ•°ã€‚</p><ol><li>å¦‚ä½•è·å– CPU çš„æ ¸æ•°ï¼Œå› ä¸ºæ¯ä¸ªç”µè„‘éƒ½ä¸ä¸€æ ·ã€‚</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// nodejsæ ¸å¿ƒæ¨¡å—ï¼Œç›´æ¥ä½¿ç”¨</span><br><span class="hljs-keyword">const</span> os = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;os&quot;</span>);<br><span class="hljs-comment">// cpuæ ¸æ•°</span><br><span class="hljs-keyword">const</span> threads = os.<span class="hljs-title function_">cpus</span>().<span class="hljs-property">length</span>;<br></code></pre></td></tr></table></figure><ol start="2"><li><p>ä¸‹è½½åŒ… <code>npm i thread-loader -D</code></p></li><li><p>ä½¿ç”¨</p></li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br></pre></td><td class="code"><pre><code class="hljs js&#123;1,7,9-10,88-101,118,131,133-143&#125;">const os = require(&quot;os&quot;);<br>const path = require(&quot;path&quot;);<br>const ESLintWebpackPlugin = require(&quot;eslint-webpack-plugin&quot;);<br>const HtmlWebpackPlugin = require(&quot;html-webpack-plugin&quot;);<br>const MiniCssExtractPlugin = require(&quot;mini-css-extract-plugin&quot;);<br>const CssMinimizerPlugin = require(&quot;css-minimizer-webpack-plugin&quot;);<br>const TerserPlugin = require(&quot;terser-webpack-plugin&quot;);//å‹ç¼©js<br><br>// cpuæ ¸æ•°<br>const threads = os.cpus().length;<br><br>// è·å–å¤„ç†æ ·å¼çš„Loaders<br>const getStyleLoaders = (preProcessor) =&gt; &#123;<br>  return [<br>    MiniCssExtractPlugin.loader,<br>    &quot;css-loader&quot;,<br>    &#123;<br>      loader: &quot;postcss-loader&quot;,<br>      options: &#123;<br>        postcssOptions: &#123;<br>          plugins: [<br>            &quot;postcss-preset-env&quot;, // èƒ½è§£å†³å¤§å¤šæ•°æ ·å¼å…¼å®¹æ€§é—®é¢˜<br>          ],<br>        &#125;,<br>      &#125;,<br>    &#125;,<br>    preProcessor,<br>  ].filter(Boolean);<br>&#125;;<br><br>module.exports = &#123;<br>  entry: &quot;./src/main.js&quot;,<br>  output: &#123;<br>    path: path.resolve(__dirname, &quot;../dist&quot;), // ç”Ÿäº§æ¨¡å¼éœ€è¦è¾“å‡º<br>    filename: &quot;static/js/main.js&quot;, // å°† js æ–‡ä»¶è¾“å‡ºåˆ° static/js ç›®å½•ä¸­<br>    clean: true,<br>  &#125;,<br>  module: &#123;<br>    rules: [<br>      &#123;<br>        oneOf: [<br>          &#123;<br>            // ç”¨æ¥åŒ¹é… .css ç»“å°¾çš„æ–‡ä»¶<br>            test: /\.css$/,<br>            // use æ•°ç»„é‡Œé¢ Loader æ‰§è¡Œé¡ºåºæ˜¯ä»å³åˆ°å·¦<br>            use: getStyleLoaders(),<br>          &#125;,<br>          &#123;<br>            test: /\.less$/,<br>            use: getStyleLoaders(&quot;less-loader&quot;),<br>          &#125;,<br>          &#123;<br>            test: /\.s[ac]ss$/,<br>            use: getStyleLoaders(&quot;sass-loader&quot;),<br>          &#125;,<br>          &#123;<br>            test: /\.styl$/,<br>            use: getStyleLoaders(&quot;stylus-loader&quot;),<br>          &#125;,<br>          &#123;<br>            test: /\.(png|jpe?g|gif|webp)$/,<br>            type: &quot;asset&quot;,<br>            parser: &#123;<br>              dataUrlCondition: &#123;<br>                maxSize: 10 * 1024, // å°äº10kbçš„å›¾ç‰‡ä¼šè¢«base64å¤„ç†<br>              &#125;,<br>            &#125;,<br>            generator: &#123;<br>              // å°†å›¾ç‰‡æ–‡ä»¶è¾“å‡ºåˆ° static/imgs ç›®å½•ä¸­<br>              // å°†å›¾ç‰‡æ–‡ä»¶å‘½å [hash:8][ext][query]<br>              // [hash:8]: hashå€¼å–8ä½<br>              // [ext]: ä½¿ç”¨ä¹‹å‰çš„æ–‡ä»¶æ‰©å±•å<br>              // [query]: æ·»åŠ ä¹‹å‰çš„queryå‚æ•°<br>              filename: &quot;static/imgs/[hash:8][ext][query]&quot;,<br>            &#125;,<br>          &#125;,<br>          &#123;<br>            test: /\.(ttf|woff2?)$/,<br>            type: &quot;asset/resource&quot;,<br>            generator: &#123;<br>              filename: &quot;static/media/[hash:8][ext][query]&quot;,<br>            &#125;,<br>          &#125;,<br>          &#123;<br>            test: /\.js$/,<br>            // exclude: /node_modules/, // æ’é™¤node_modulesä»£ç ä¸ç¼–è¯‘<br>            include: path.resolve(__dirname, &quot;../src&quot;), // ä¹Ÿå¯ä»¥ç”¨åŒ…å«<br>            use: [<br>              //thead-loaderæ”¾åœ¨babel-loaderå‰é¢<br>              &#123;<br>                loader: &quot;thread-loader&quot;, // å¼€å¯å¤šè¿›ç¨‹<br>                options: &#123;<br>                  workers: threads, // æ•°é‡<br>                &#125;,<br>              &#125;,<br>              &#123;<br>                loader: &quot;babel-loader&quot;,<br>                options: &#123;<br>                  cacheDirectory: true, // å¼€å¯babelç¼–è¯‘ç¼“å­˜<br>                &#125;,<br>              &#125;,<br>            ],<br>          &#125;,<br>        ],<br>      &#125;,<br>    ],<br>  &#125;,<br>  plugins: [<br>    new ESLintWebpackPlugin(&#123;<br>      // æŒ‡å®šæ£€æŸ¥æ–‡ä»¶çš„æ ¹ç›®å½•<br>      context: path.resolve(__dirname, &quot;../src&quot;),<br>      exclude: &quot;node_modules&quot;, // é»˜è®¤å€¼<br>      cache: true, // å¼€å¯ç¼“å­˜<br>      // ç¼“å­˜ç›®å½•<br>      cacheLocation: path.resolve(<br>        __dirname,<br>        &quot;../node_modules/.cache/.eslintcache&quot;<br>      ),<br>      threads, // å¼€å¯å¤šè¿›ç¨‹å’Œè®¾ç½®è¿›ç¨‹æ•°é‡<br>    &#125;),<br>    new HtmlWebpackPlugin(&#123;<br>      // ä»¥ public/index.html ä¸ºæ¨¡æ¿åˆ›å»ºæ–‡ä»¶<br>      // æ–°çš„htmlæ–‡ä»¶æœ‰ä¸¤ä¸ªç‰¹ç‚¹ï¼š1. å†…å®¹å’Œæºæ–‡ä»¶ä¸€è‡´ 2. è‡ªåŠ¨å¼•å…¥æ‰“åŒ…ç”Ÿæˆçš„jsç­‰èµ„æº<br>      template: path.resolve(__dirname, &quot;../public/index.html&quot;),<br>    &#125;),<br>    // æå–cssæˆå•ç‹¬æ–‡ä»¶<br>    new MiniCssExtractPlugin(&#123;<br>      // å®šä¹‰è¾“å‡ºæ–‡ä»¶åå’Œç›®å½•<br>      filename: &quot;static/css/main.css&quot;,<br>    &#125;),<br>    // csså‹ç¼©<br>    // new CssMinimizerPlugin(),<br>  ],<br>  optimization: &#123;<br>    minimize: true,<br>    minimizer: [<br>      // csså‹ç¼©ä¹Ÿå¯ä»¥å†™åˆ°optimization.minimizeré‡Œé¢ï¼Œæ•ˆæœä¸€æ ·çš„<br>      new CssMinimizerPlugin(),<br>      // å½“ç”Ÿäº§æ¨¡å¼ä¼šé»˜è®¤å¼€å¯TerserPluginï¼Œä½†æ˜¯éœ€è¦è¿›è¡Œå…¶ä»–é…ç½®ï¼Œå°±è¦é‡æ–°å†™äº†<br>      new TerserPlugin(&#123;<br>        parallel: threads // å¼€å¯å¤šè¿›ç¨‹<br>      &#125;)<br>    ],<br>  &#125;,<br>  // devServer: &#123;<br>  //   host: &quot;localhost&quot;, // å¯åŠ¨æœåŠ¡å™¨åŸŸå<br>  //   port: &quot;3000&quot;, // å¯åŠ¨æœåŠ¡å™¨ç«¯å£å·<br>  //   open: true, // æ˜¯å¦è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨<br>  // &#125;,<br>  mode: &quot;production&quot;,<br>  devtool: &quot;source-map&quot;,<br>&#125;;<br></code></pre></td></tr></table></figure><p>ç›®å‰æ‰“åŒ…çš„å†…å®¹éƒ½å¾ˆå°‘ï¼Œæ‰€ä»¥å› ä¸ºå¯åŠ¨è¿›ç¨‹å¼€é”€åŸå› ï¼Œä½¿ç”¨å¤šè¿›ç¨‹æ‰“åŒ…å®é™…ä¸Šä¼šæ˜¾è‘—çš„è®©æ‰“åŒ…æ—¶é—´å˜å¾—å¾ˆé•¿ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>JavaScriptï¼ŒWebpack</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Webpack5 é«˜çº§é…ç½®1ï¼šSourceMap å¦‚ä½•æå‡å¼€å‘ä½“éªŒ</title>
    <link href="/2022/11/24/webpack%E9%AB%98%E7%BA%A7%E9%85%8D%E7%BD%AE1%EF%BC%9A%E5%A6%82%E4%BD%95%E6%8F%90%E5%8D%87%E5%BC%80%E5%8F%91%E4%BD%93%E9%AA%8C/"/>
    <url>/2022/11/24/webpack%E9%AB%98%E7%BA%A7%E9%85%8D%E7%BD%AE1%EF%BC%9A%E5%A6%82%E4%BD%95%E6%8F%90%E5%8D%87%E5%BC%80%E5%8F%91%E4%BD%93%E9%AA%8C/</url>
    
    <content type="html"><![CDATA[<h2 id="æå‡å¼€å‘ä½“éªŒï¼šSourceMap"><a href="#æå‡å¼€å‘ä½“éªŒï¼šSourceMap" class="headerlink" title="æå‡å¼€å‘ä½“éªŒï¼šSourceMap"></a>æå‡å¼€å‘ä½“éªŒï¼šSourceMap</h2><h3 id="é—®é¢˜èƒŒæ™¯"><a href="#é—®é¢˜èƒŒæ™¯" class="headerlink" title="é—®é¢˜èƒŒæ™¯"></a>é—®é¢˜èƒŒæ™¯</h3><p>å¼€å‘æ—¶è¿è¡Œçš„ä»£ç æ˜¯ç»è¿‡ webpack ç¼–è¯‘åçš„ï¼Œä¾‹å¦‚ä¸‹é¢è¿™ä¸ªæ ·å­ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">/*</span><br><span class="hljs-comment"> * ATTENTION: The &quot;eval&quot; devtool has been used (maybe by default in mode: &quot;development&quot;).</span><br><span class="hljs-comment"> * This devtool is neither made for production nor for readable output files.</span><br><span class="hljs-comment"> * It uses &quot;eval()&quot; calls to create a separate source file in the browser devtools.</span><br><span class="hljs-comment"> * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)</span><br><span class="hljs-comment"> * or disable the default devtool with &quot;devtool: false&quot;.</span><br><span class="hljs-comment"> * If you are looking for production-ready output files, see mode: &quot;production&quot; (https://webpack.js.org/configuration/mode/).</span><br><span class="hljs-comment"> */</span><br><span class="hljs-comment">/******/</span> (<span class="hljs-function">() =&gt;</span> &#123; <span class="hljs-comment">// webpackBootstrap</span><br><span class="hljs-comment">/******/</span> <span class="hljs-string">&quot;use strict&quot;</span>;<br><span class="hljs-comment">/******/</span> <span class="hljs-keyword">var</span> __webpack_modules__ = (&#123;<br><br><span class="hljs-comment">/***/</span> <span class="hljs-string">&quot;./node_modules/css-loader/dist/cjs.js!./node_modules/less-loader/dist/cjs.js!./src/less/index.less&quot;</span>:<br><span class="hljs-comment">/*!**********************************************************************************************************!*\</span><br><span class="hljs-comment">  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/less-loader/dist/cjs.js!./src/less/index.less ***!</span><br><span class="hljs-comment">  \**********************************************************************************************************/</span><br><span class="hljs-comment">/***/</span> (<span class="hljs-function">(<span class="hljs-params"><span class="hljs-variable language_">module</span>, __webpack_exports__, __webpack_require__</span>) =&gt;</span> &#123;<br><br><span class="hljs-built_in">eval</span>(<span class="hljs-string">&quot;__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, &#123;\n/* harmony export */   \&quot;default\&quot;: () =&gt; (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ &#125;);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/noSourceMaps.js */ \&quot;./node_modules/css-loader/dist/runtime/noSourceMaps.js\&quot;);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ \&quot;./node_modules/css-loader/dist/runtime/api.js\&quot;);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);\n// Imports\n\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \&quot;.box2 &#123;\\n  width: 100px;\\n  height: 100px;\\n  background-color: deeppink;\\n&#125;\\n\&quot;, \&quot;\&quot;]);\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);\n\n\n//# sourceURL=webpack://webpack5/./src/less/index.less?./node_modules/css-loader/dist/cjs.js!./node_modules/less-loader/dist/cjs.js&quot;</span>);<br><br><span class="hljs-comment">/***/</span> &#125;),<br><span class="hljs-comment">// å…¶ä»–çœç•¥</span><br></code></pre></td></tr></table></figure><p>æ‰€æœ‰ css å’Œ js åˆå¹¶æˆäº†ä¸€ä¸ªæ–‡ä»¶ï¼Œå¹¶ä¸”å¤šäº†å…¶ä»–ä»£ç ã€‚æ­¤æ—¶å¦‚æœä»£ç è¿è¡Œå‡ºé”™é‚£ä¹ˆæç¤ºä»£ç é”™è¯¯ä½ç½®æ˜¯çœ‹ä¸æ‡‚çš„ã€‚ä¸€æ—¦å°†æ¥å¼€å‘ä»£ç æ–‡ä»¶å¾ˆå¤šï¼Œé‚£ä¹ˆå¾ˆéš¾å»å‘ç°é”™è¯¯å‡ºç°åœ¨å“ªé‡Œã€‚æ‰€ä»¥éœ€è¦æ›´åŠ å‡†ç¡®çš„é”™è¯¯æç¤ºã€‚</p><h3 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h3><p>SourceMapï¼ˆæºä»£ç æ˜ å°„ï¼‰æ˜¯ä¸€ä¸ªç”¨æ¥ç”Ÿæˆæºä»£ç ä¸æ„å»ºåä»£ç ä¸€ä¸€æ˜ å°„çš„æ–‡ä»¶çš„æ–¹æ¡ˆã€‚</p><p>å®ƒä¼šç”Ÿæˆä¸€ä¸ª xxx.map æ–‡ä»¶ï¼Œé‡Œé¢åŒ…å«æºä»£ç å’Œæ„å»ºåä»£ç æ¯ä¸€è¡Œã€æ¯ä¸€åˆ—çš„æ˜ å°„å…³ç³»ã€‚å½“æ„å»ºåä»£ç å‡ºé”™äº†ï¼Œä¼šé€šè¿‡ xxx.map æ–‡ä»¶ï¼Œä»æ„å»ºåä»£ç å‡ºé”™ä½ç½®æ‰¾åˆ°æ˜ å°„åæºä»£ç å‡ºé”™ä½ç½®ï¼Œä»è€Œè®©æµè§ˆå™¨æç¤ºæºä»£ç æ–‡ä»¶å‡ºé”™ä½ç½®ï¼Œå¸®åŠ©æ›´å¿«çš„æ‰¾åˆ°é”™è¯¯æ ¹æºã€‚</p><h3 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h3><p>é€šè¿‡æŸ¥çœ‹<a href="https://webpack.docschina.org/configuration/devtool/">Webpack DevTool æ–‡æ¡£</a>å¯çŸ¥ï¼ŒSourceMap çš„å€¼æœ‰å¾ˆå¤šç§æƒ…å†µ.</p><p>ä½†å®é™…å¼€å‘æ—¶åªéœ€è¦å…³æ³¨ä¸¤ç§æƒ…å†µå³å¯ï¼š</p><ul><li><p>å¼€å‘æ¨¡å¼ï¼š<code>cheap-module-source-map</code></p><ul><li>ä¼˜ç‚¹ï¼šæ‰“åŒ…ç¼–è¯‘é€Ÿåº¦å¿«ï¼ŒåªåŒ…å«è¡Œæ˜ å°„</li><li>ç¼ºç‚¹ï¼šæ²¡æœ‰åˆ—æ˜ å°„</li></ul></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>  <span class="hljs-comment">// å…¶ä»–çœç•¥</span><br>  <span class="hljs-attr">mode</span>: <span class="hljs-string">&quot;development&quot;</span>,<br>  <span class="hljs-attr">devtool</span>: <span class="hljs-string">&quot;cheap-module-source-map&quot;</span>,<br>&#125;;<br></code></pre></td></tr></table></figure><ul><li>ç”Ÿäº§æ¨¡å¼ï¼š<code>source-map</code><ul><li>ä¼˜ç‚¹ï¼šåŒ…å«è¡Œ&#x2F;åˆ—æ˜ å°„</li><li>ç¼ºç‚¹ï¼šæ‰“åŒ…ç¼–è¯‘é€Ÿåº¦æ›´æ…¢</li></ul></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>  <span class="hljs-comment">// å…¶ä»–çœç•¥</span><br>  <span class="hljs-attr">mode</span>: <span class="hljs-string">&quot;production&quot;</span>,<br>  <span class="hljs-attr">devtool</span>: <span class="hljs-string">&quot;source-map&quot;</span>,<br>&#125;;<br></code></pre></td></tr></table></figure><p>ä¿®æ”¹é…ç½®åè®°å¾—é‡å¯æœåŠ¡å™¨ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>JavaScriptï¼ŒWebpack</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Webpack5 å…¥é—¨å­¦ä¹ ç¬”è®°ï¼ˆä¸‹ï¼‰ï¼šç”Ÿäº§æ¨¡å¼ä¸‹è¿›ä¸€æ­¥ä¼˜åŒ–å¤„ç†</title>
    <link href="/2022/11/23/Webpack5%20%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%8B%EF%BC%89%EF%BC%9A%E8%BF%9B%E4%B8%80%E6%AD%A5%E5%A4%84%E7%90%86/"/>
    <url>/2022/11/23/Webpack5%20%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%8B%EF%BC%89%EF%BC%9A%E8%BF%9B%E4%B8%80%E6%AD%A5%E5%A4%84%E7%90%86/</url>
    
    <content type="html"><![CDATA[<h1 id="ç”Ÿäº§æ¨¡å¼ä»‹ç»"><a href="#ç”Ÿäº§æ¨¡å¼ä»‹ç»" class="headerlink" title="ç”Ÿäº§æ¨¡å¼ä»‹ç»"></a>ç”Ÿäº§æ¨¡å¼ä»‹ç»</h1><p>ä»<code>è¿è¡Œæ€§èƒ½</code>å’Œ<code>æ‰“åŒ…é€Ÿåº¦</code>æ–¹é¢ä¼˜åŒ–ä»£ç </p><h2 id="ç”Ÿäº§æ¨¡å¼å‡†å¤‡"><a href="#ç”Ÿäº§æ¨¡å¼å‡†å¤‡" class="headerlink" title="ç”Ÿäº§æ¨¡å¼å‡†å¤‡"></a>ç”Ÿäº§æ¨¡å¼å‡†å¤‡</h2><p>æˆ‘ä»¬åˆ†åˆ«å‡†å¤‡ä¸¤ä¸ªé…ç½®æ–‡ä»¶æ¥æ”¾ä¸åŒçš„é…ç½®</p><h3 id="1-æ–‡ä»¶ç›®å½•"><a href="#1-æ–‡ä»¶ç›®å½•" class="headerlink" title="1. æ–‡ä»¶ç›®å½•"></a>1. æ–‡ä»¶ç›®å½•</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs :no-line-numbers">â”œâ”€â”€ webpack-test (é¡¹ç›®æ ¹ç›®å½•)<br>    â”œâ”€â”€ config (Webpacké…ç½®æ–‡ä»¶ç›®å½•)<br>    â”‚    â”œâ”€â”€ webpack.dev.js(å¼€å‘æ¨¡å¼é…ç½®æ–‡ä»¶)<br>    â”‚    â””â”€â”€ webpack.prod.js(ç”Ÿäº§æ¨¡å¼é…ç½®æ–‡ä»¶)<br>    â”œâ”€â”€ node_modules (ä¸‹è½½åŒ…å­˜æ”¾ç›®å½•)<br>    â”œâ”€â”€ src (é¡¹ç›®æºç ç›®å½•ï¼Œé™¤äº†htmlå…¶ä»–éƒ½åœ¨srcé‡Œé¢)<br>    â”‚    â””â”€â”€ ç•¥<br>    â”œâ”€â”€ public (é¡¹ç›®htmlæ–‡ä»¶)<br>    â”‚    â””â”€â”€ index.html<br>    â”œâ”€â”€ .eslintrc.js(Eslinté…ç½®æ–‡ä»¶)<br>    â”œâ”€â”€ babel.config.js(Babelé…ç½®æ–‡ä»¶)<br>    â””â”€â”€ package.json (åŒ…çš„ä¾èµ–ç®¡ç†é…ç½®æ–‡ä»¶)<br></code></pre></td></tr></table></figure><h3 id="2-ä¿®æ”¹-webpack-dev-js"><a href="#2-ä¿®æ”¹-webpack-dev-js" class="headerlink" title="2. ä¿®æ”¹ webpack.dev.js"></a>2. ä¿®æ”¹ webpack.dev.js</h3><p>å› ä¸ºæ–‡ä»¶ç›®å½•å˜äº†ï¼Œæ‰€ä»¥æ‰€æœ‰ç»å¯¹è·¯å¾„éœ€è¦å›é€€ä¸€å±‚ç›®å½•æ‰èƒ½æ‰¾åˆ°å¯¹åº”çš„æ–‡ä»¶</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;path&quot;</span>);<br><span class="hljs-keyword">const</span> <span class="hljs-title class_">ESLintWebpackPlugin</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;eslint-webpack-plugin&quot;</span>);<br><span class="hljs-keyword">const</span> <span class="hljs-title class_">HtmlWebpackPlugin</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;html-webpack-plugin&quot;</span>);<br><br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>  <span class="hljs-attr">entry</span>: <span class="hljs-string">&quot;./src/main.js&quot;</span>,<br>  <span class="hljs-attr">output</span>: &#123;<br>    <span class="hljs-attr">path</span>: <span class="hljs-literal">undefined</span>, <span class="hljs-comment">// å¼€å‘æ¨¡å¼æ²¡æœ‰è¾“å‡ºï¼Œä¸éœ€è¦æŒ‡å®šè¾“å‡ºç›®å½•</span><br>    <span class="hljs-attr">filename</span>: <span class="hljs-string">&quot;static/js/main.js&quot;</span>, <span class="hljs-comment">// å°† js æ–‡ä»¶è¾“å‡ºåˆ° static/js ç›®å½•ä¸­</span><br>    <span class="hljs-comment">// clean: true, // å¼€å‘æ¨¡å¼æ²¡æœ‰è¾“å‡ºï¼Œä¸éœ€è¦æ¸…ç©ºè¾“å‡ºç»“æœ</span><br>  &#125;,<br>  <span class="hljs-attr">module</span>: &#123;<br>    <span class="hljs-attr">rules</span>: [<br>      &#123;<br>        <span class="hljs-comment">// ç”¨æ¥åŒ¹é… .css ç»“å°¾çš„æ–‡ä»¶</span><br>        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.css$/</span>,<br>        <span class="hljs-comment">// use æ•°ç»„é‡Œé¢ Loader æ‰§è¡Œé¡ºåºæ˜¯ä»å³åˆ°å·¦</span><br>        <span class="hljs-attr">use</span>: [<span class="hljs-string">&quot;style-loader&quot;</span>, <span class="hljs-string">&quot;css-loader&quot;</span>],<br>      &#125;,<br>      &#123;<br>        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.less$/</span>,<br>        <span class="hljs-attr">use</span>: [<span class="hljs-string">&quot;style-loader&quot;</span>, <span class="hljs-string">&quot;css-loader&quot;</span>, <span class="hljs-string">&quot;less-loader&quot;</span>],<br>      &#125;,<br>      &#123;<br>        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.s[ac]ss$/</span>,<br>        <span class="hljs-attr">use</span>: [<span class="hljs-string">&quot;style-loader&quot;</span>, <span class="hljs-string">&quot;css-loader&quot;</span>, <span class="hljs-string">&quot;sass-loader&quot;</span>],<br>      &#125;,<br>      &#123;<br>        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.styl$/</span>,<br>        <span class="hljs-attr">use</span>: [<span class="hljs-string">&quot;style-loader&quot;</span>, <span class="hljs-string">&quot;css-loader&quot;</span>, <span class="hljs-string">&quot;stylus-loader&quot;</span>],<br>      &#125;,<br>      &#123;<br>        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.(png|jpe?g|gif|webp)$/</span>,<br>        <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;asset&quot;</span>,<br>        <span class="hljs-attr">parser</span>: &#123;<br>          <span class="hljs-attr">dataUrlCondition</span>: &#123;<br>            <span class="hljs-attr">maxSize</span>: <span class="hljs-number">10</span> * <span class="hljs-number">1024</span>, <span class="hljs-comment">// å°äº10kbçš„å›¾ç‰‡ä¼šè¢«base64å¤„ç†</span><br>          &#125;,<br>        &#125;,<br>        <span class="hljs-attr">generator</span>: &#123;<br>          <span class="hljs-comment">// å°†å›¾ç‰‡æ–‡ä»¶è¾“å‡ºåˆ° static/imgs ç›®å½•ä¸­</span><br>          <span class="hljs-comment">// å°†å›¾ç‰‡æ–‡ä»¶å‘½å [hash:8][ext][query]</span><br>          <span class="hljs-comment">// [hash:8]: hashå€¼å–8ä½</span><br>          <span class="hljs-comment">// [ext]: ä½¿ç”¨ä¹‹å‰çš„æ–‡ä»¶æ‰©å±•å</span><br>          <span class="hljs-comment">// [query]: æ·»åŠ ä¹‹å‰çš„queryå‚æ•°</span><br>          <span class="hljs-attr">filename</span>: <span class="hljs-string">&quot;static/imgs/[hash:8][ext][query]&quot;</span>,<br>        &#125;,<br>      &#125;,<br>      &#123;<br>        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.(ttf|woff2?)$/</span>,<br>        <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;asset/resource&quot;</span>,<br>        <span class="hljs-attr">generator</span>: &#123;<br>          <span class="hljs-attr">filename</span>: <span class="hljs-string">&quot;static/media/[hash:8][ext][query]&quot;</span>,<br>        &#125;,<br>      &#125;,<br>      &#123;<br>        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.js$/</span>,<br>        <span class="hljs-attr">exclude</span>: <span class="hljs-regexp">/node_modules/</span>, <span class="hljs-comment">// æ’é™¤node_modulesä»£ç ä¸ç¼–è¯‘</span><br>        <span class="hljs-attr">loader</span>: <span class="hljs-string">&quot;babel-loader&quot;</span>,<br>      &#125;,<br>    ],<br>  &#125;,<br>  <span class="hljs-attr">plugins</span>: [<br>    <span class="hljs-keyword">new</span> <span class="hljs-title class_">ESLintWebpackPlugin</span>(&#123;<br>      <span class="hljs-comment">// æŒ‡å®šæ£€æŸ¥æ–‡ä»¶çš„æ ¹ç›®å½•</span><br>      <span class="hljs-attr">context</span>: path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">&quot;../src&quot;</span>),<br>    &#125;),<br>    <span class="hljs-keyword">new</span> <span class="hljs-title class_">HtmlWebpackPlugin</span>(&#123;<br>      <span class="hljs-comment">// ä»¥ public/index.html ä¸ºæ¨¡æ¿åˆ›å»ºæ–‡ä»¶</span><br>      <span class="hljs-comment">// æ–°çš„htmlæ–‡ä»¶æœ‰ä¸¤ä¸ªç‰¹ç‚¹ï¼š1. å†…å®¹å’Œæºæ–‡ä»¶ä¸€è‡´ 2. è‡ªåŠ¨å¼•å…¥æ‰“åŒ…ç”Ÿæˆçš„jsç­‰èµ„æº</span><br>      <span class="hljs-attr">template</span>: path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">&quot;../public/index.html&quot;</span>),<br>    &#125;),<br>  ],<br>  <span class="hljs-comment">// å…¶ä»–çœç•¥</span><br>  <span class="hljs-attr">devServer</span>: &#123;<br>    <span class="hljs-attr">host</span>: <span class="hljs-string">&quot;localhost&quot;</span>, <span class="hljs-comment">// å¯åŠ¨æœåŠ¡å™¨åŸŸå</span><br>    <span class="hljs-attr">port</span>: <span class="hljs-string">&quot;3000&quot;</span>, <span class="hljs-comment">// å¯åŠ¨æœåŠ¡å™¨ç«¯å£å·</span><br>    <span class="hljs-attr">open</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// æ˜¯å¦è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨</span><br>  &#125;,<br>  <span class="hljs-attr">mode</span>: <span class="hljs-string">&quot;development&quot;</span>,<br>&#125;;<br></code></pre></td></tr></table></figure><p>è¿è¡Œå¼€å‘æ¨¡å¼çš„æŒ‡ä»¤ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs :no-line-numbers">npx webpack serve --config ./config/webpack.dev.js<br></code></pre></td></tr></table></figure><h3 id="3-ä¿®æ”¹-webpack-prod-js"><a href="#3-ä¿®æ”¹-webpack-prod-js" class="headerlink" title="3. ä¿®æ”¹ webpack.prod.js"></a>3. ä¿®æ”¹ webpack.prod.js</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;path&quot;</span>);<br><span class="hljs-keyword">const</span> <span class="hljs-title class_">ESLintWebpackPlugin</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;eslint-webpack-plugin&quot;</span>);<br><span class="hljs-keyword">const</span> <span class="hljs-title class_">HtmlWebpackPlugin</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;html-webpack-plugin&quot;</span>);<br><br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>  <span class="hljs-attr">entry</span>: <span class="hljs-string">&quot;./src/main.js&quot;</span>,<br>  <span class="hljs-attr">output</span>: &#123;<br>    <span class="hljs-attr">path</span>: path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">&quot;../dist&quot;</span>), <span class="hljs-comment">// ç”Ÿäº§æ¨¡å¼éœ€è¦è¾“å‡º</span><br>    <span class="hljs-attr">filename</span>: <span class="hljs-string">&quot;static/js/main.js&quot;</span>, <span class="hljs-comment">// å°† js æ–‡ä»¶è¾“å‡ºåˆ° static/js ç›®å½•ä¸­</span><br>    <span class="hljs-attr">clean</span>: <span class="hljs-literal">true</span>,<br>  &#125;,<br>  <span class="hljs-attr">module</span>: &#123;<br>    <span class="hljs-attr">rules</span>: [<br>      &#123;<br>        <span class="hljs-comment">// ç”¨æ¥åŒ¹é… .css ç»“å°¾çš„æ–‡ä»¶</span><br>        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.css$/</span>,<br>        <span class="hljs-comment">// use æ•°ç»„é‡Œé¢ Loader æ‰§è¡Œé¡ºåºæ˜¯ä»å³åˆ°å·¦</span><br>        <span class="hljs-attr">use</span>: [<span class="hljs-string">&quot;style-loader&quot;</span>, <span class="hljs-string">&quot;css-loader&quot;</span>],<br>      &#125;,<br>      &#123;<br>        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.less$/</span>,<br>        <span class="hljs-attr">use</span>: [<span class="hljs-string">&quot;style-loader&quot;</span>, <span class="hljs-string">&quot;css-loader&quot;</span>, <span class="hljs-string">&quot;less-loader&quot;</span>],<br>      &#125;,<br>      &#123;<br>        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.s[ac]ss$/</span>,<br>        <span class="hljs-attr">use</span>: [<span class="hljs-string">&quot;style-loader&quot;</span>, <span class="hljs-string">&quot;css-loader&quot;</span>, <span class="hljs-string">&quot;sass-loader&quot;</span>],<br>      &#125;,<br>      &#123;<br>        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.styl$/</span>,<br>        <span class="hljs-attr">use</span>: [<span class="hljs-string">&quot;style-loader&quot;</span>, <span class="hljs-string">&quot;css-loader&quot;</span>, <span class="hljs-string">&quot;stylus-loader&quot;</span>],<br>      &#125;,<br>      &#123;<br>        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.(png|jpe?g|gif|webp)$/</span>,<br>        <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;asset&quot;</span>,<br>        <span class="hljs-attr">parser</span>: &#123;<br>          <span class="hljs-attr">dataUrlCondition</span>: &#123;<br>            <span class="hljs-attr">maxSize</span>: <span class="hljs-number">10</span> * <span class="hljs-number">1024</span>, <span class="hljs-comment">// å°äº10kbçš„å›¾ç‰‡ä¼šè¢«base64å¤„ç†</span><br>          &#125;,<br>        &#125;,<br>        <span class="hljs-attr">generator</span>: &#123;<br>          <span class="hljs-comment">// å°†å›¾ç‰‡æ–‡ä»¶è¾“å‡ºåˆ° static/imgs ç›®å½•ä¸­</span><br>          <span class="hljs-comment">// å°†å›¾ç‰‡æ–‡ä»¶å‘½å [hash:8][ext][query]</span><br>          <span class="hljs-comment">// [hash:8]: hashå€¼å–8ä½</span><br>          <span class="hljs-comment">// [ext]: ä½¿ç”¨ä¹‹å‰çš„æ–‡ä»¶æ‰©å±•å</span><br>          <span class="hljs-comment">// [query]: æ·»åŠ ä¹‹å‰çš„queryå‚æ•°</span><br>          <span class="hljs-attr">filename</span>: <span class="hljs-string">&quot;static/imgs/[hash:8][ext][query]&quot;</span>,<br>        &#125;,<br>      &#125;,<br>      &#123;<br>        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.(ttf|woff2?)$/</span>,<br>        <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;asset/resource&quot;</span>,<br>        <span class="hljs-attr">generator</span>: &#123;<br>          <span class="hljs-attr">filename</span>: <span class="hljs-string">&quot;static/media/[hash:8][ext][query]&quot;</span>,<br>        &#125;,<br>      &#125;,<br>      &#123;<br>        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.js$/</span>,<br>        <span class="hljs-attr">exclude</span>: <span class="hljs-regexp">/node_modules/</span>, <span class="hljs-comment">// æ’é™¤node_modulesä»£ç ä¸ç¼–è¯‘</span><br>        <span class="hljs-attr">loader</span>: <span class="hljs-string">&quot;babel-loader&quot;</span>,<br>      &#125;,<br>    ],<br>  &#125;,<br>  <span class="hljs-attr">plugins</span>: [<br>    <span class="hljs-keyword">new</span> <span class="hljs-title class_">ESLintWebpackPlugin</span>(&#123;<br>      <span class="hljs-comment">// æŒ‡å®šæ£€æŸ¥æ–‡ä»¶çš„æ ¹ç›®å½•</span><br>      <span class="hljs-attr">context</span>: path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">&quot;../src&quot;</span>),<br>    &#125;),<br>    <span class="hljs-keyword">new</span> <span class="hljs-title class_">HtmlWebpackPlugin</span>(&#123;<br>      <span class="hljs-comment">// ä»¥ public/index.html ä¸ºæ¨¡æ¿åˆ›å»ºæ–‡ä»¶</span><br>      <span class="hljs-comment">// æ–°çš„htmlæ–‡ä»¶æœ‰ä¸¤ä¸ªç‰¹ç‚¹ï¼š1. å†…å®¹å’Œæºæ–‡ä»¶ä¸€è‡´ 2. è‡ªåŠ¨å¼•å…¥æ‰“åŒ…ç”Ÿæˆçš„jsç­‰èµ„æº</span><br>      <span class="hljs-attr">template</span>: path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">&quot;../public/index.html&quot;</span>),<br>    &#125;),<br>  ],<br>  <span class="hljs-comment">// devServer: &#123;</span><br>  <span class="hljs-comment">//   host: &quot;localhost&quot;, // å¯åŠ¨æœåŠ¡å™¨åŸŸå</span><br>  <span class="hljs-comment">//   port: &quot;3000&quot;, // å¯åŠ¨æœåŠ¡å™¨ç«¯å£å·</span><br>  <span class="hljs-comment">//   open: true, // æ˜¯å¦è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨</span><br>  <span class="hljs-comment">// &#125;,</span><br>  <span class="hljs-attr">mode</span>: <span class="hljs-string">&quot;production&quot;</span>,<br>&#125;;<br></code></pre></td></tr></table></figure><p>è¿è¡Œç”Ÿäº§æ¨¡å¼çš„æŒ‡ä»¤ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs :no-line-numbers">npx webpack --config ./config/webpack.prod.js<br></code></pre></td></tr></table></figure><h3 id="4-é…ç½®è¿è¡ŒæŒ‡ä»¤"><a href="#4-é…ç½®è¿è¡ŒæŒ‡ä»¤" class="headerlink" title="4. é…ç½®è¿è¡ŒæŒ‡ä»¤"></a>4. é…ç½®è¿è¡ŒæŒ‡ä»¤</h3><p>ä¸ºäº†æ–¹ä¾¿è¿è¡Œä¸åŒæ¨¡å¼çš„æŒ‡ä»¤ï¼Œæˆ‘ä»¬å°†æŒ‡ä»¤å®šä¹‰åœ¨ package.json ä¸­ scripts é‡Œé¢</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-comment">// package.json</span><br><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-comment">// å…¶ä»–çœç•¥</span><br>  <span class="hljs-attr">&quot;scripts&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;start&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;npm run dev&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;dev&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;npx webpack serve --config ./config/webpack.dev.js&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;build&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;npx webpack --config ./config/webpack.prod.js&quot;</span><br>  <span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><p>ä»¥åå¯åŠ¨æŒ‡ä»¤ï¼š</p><ul><li>å¼€å‘æ¨¡å¼ï¼š<code>npm start</code> æˆ– <code>npm run dev</code></li><li>ç”Ÿäº§æ¨¡å¼ï¼š<code>npm run build</code></li></ul><h1 id="Css-å¤„ç†"><a href="#Css-å¤„ç†" class="headerlink" title="Css å¤„ç†"></a>Css å¤„ç†</h1><h2 id="æå–-Css-æˆå•ç‹¬æ–‡ä»¶"><a href="#æå–-Css-æˆå•ç‹¬æ–‡ä»¶" class="headerlink" title="æå– Css æˆå•ç‹¬æ–‡ä»¶"></a>æå– Css æˆå•ç‹¬æ–‡ä»¶</h2><p>Css æ–‡ä»¶ç›®å‰è¢«æ‰“åŒ…åˆ° js æ–‡ä»¶ä¸­ï¼Œå½“ js æ–‡ä»¶åŠ è½½æ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ª style æ ‡ç­¾æ¥ç”Ÿæˆæ ·å¼ã€‚è¿™æ ·å¯¹äºç½‘ç«™æ¥è¯´ï¼Œä¼šå‡ºç°é—ªå±ç°è±¡ï¼Œç”¨æˆ·ä½“éªŒä¸å¥½</p><p>æˆ‘ä»¬åº”è¯¥æ˜¯å•ç‹¬çš„ Css æ–‡ä»¶ï¼Œé€šè¿‡ link æ ‡ç­¾åŠ è½½æ€§èƒ½æ‰å¥½</p><h3 id="1-ä¸‹è½½åŒ…"><a href="#1-ä¸‹è½½åŒ…" class="headerlink" title="1. ä¸‹è½½åŒ…"></a>1. ä¸‹è½½åŒ…</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs :no-line-numbers">npm i mini-css-extract-plugin -D<br></code></pre></td></tr></table></figure><h3 id="2-é…ç½®"><a href="#2-é…ç½®" class="headerlink" title="2. é…ç½®"></a>2. é…ç½®</h3><ul><li>webpack.prod.js</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;path&quot;</span>);<br><span class="hljs-keyword">const</span> <span class="hljs-title class_">ESLintWebpackPlugin</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;eslint-webpack-plugin&quot;</span>);<br><span class="hljs-keyword">const</span> <span class="hljs-title class_">HtmlWebpackPlugin</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;html-webpack-plugin&quot;</span>);<br><span class="hljs-keyword">const</span> <span class="hljs-title class_">MiniCssExtractPlugin</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;mini-css-extract-plugin&quot;</span>);<br><br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>  <span class="hljs-attr">entry</span>: <span class="hljs-string">&quot;./src/main.js&quot;</span>,<br>  <span class="hljs-attr">output</span>: &#123;<br>    <span class="hljs-attr">path</span>: path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">&quot;../dist&quot;</span>), <span class="hljs-comment">// ç”Ÿäº§æ¨¡å¼éœ€è¦è¾“å‡º</span><br>    <span class="hljs-attr">filename</span>: <span class="hljs-string">&quot;static/js/main.js&quot;</span>, <span class="hljs-comment">// å°† js æ–‡ä»¶è¾“å‡ºåˆ° static/js ç›®å½•ä¸­</span><br>    <span class="hljs-attr">clean</span>: <span class="hljs-literal">true</span>,<br>  &#125;,<br>  <span class="hljs-attr">module</span>: &#123;<br>    <span class="hljs-attr">rules</span>: [<br>      &#123;<br>        <span class="hljs-comment">// ç”¨æ¥åŒ¹é… .css ç»“å°¾çš„æ–‡ä»¶</span><br>        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.css$/</span>,<br>        <span class="hljs-comment">// use æ•°ç»„é‡Œé¢ Loader æ‰§è¡Œé¡ºåºæ˜¯ä»å³åˆ°å·¦</span><br>        <span class="hljs-attr">use</span>: [<span class="hljs-title class_">MiniCssExtractPlugin</span>.<span class="hljs-property">loader</span>, <span class="hljs-string">&quot;css-loader&quot;</span>],<br>      &#125;,<br>      &#123;<br>        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.less$/</span>,<br>        <span class="hljs-attr">use</span>: [<span class="hljs-title class_">MiniCssExtractPlugin</span>.<span class="hljs-property">loader</span>, <span class="hljs-string">&quot;css-loader&quot;</span>, <span class="hljs-string">&quot;less-loader&quot;</span>],<br>      &#125;,<br>      &#123;<br>        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.s[ac]ss$/</span>,<br>        <span class="hljs-attr">use</span>: [<span class="hljs-title class_">MiniCssExtractPlugin</span>.<span class="hljs-property">loader</span>, <span class="hljs-string">&quot;css-loader&quot;</span>, <span class="hljs-string">&quot;sass-loader&quot;</span>],<br>      &#125;,<br>      &#123;<br>        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.styl$/</span>,<br>        <span class="hljs-attr">use</span>: [<span class="hljs-title class_">MiniCssExtractPlugin</span>.<span class="hljs-property">loader</span>, <span class="hljs-string">&quot;css-loader&quot;</span>, <span class="hljs-string">&quot;stylus-loader&quot;</span>],<br>      &#125;,<br>      &#123;<br>        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.(png|jpe?g|gif|webp)$/</span>,<br>        <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;asset&quot;</span>,<br>        <span class="hljs-attr">parser</span>: &#123;<br>          <span class="hljs-attr">dataUrlCondition</span>: &#123;<br>            <span class="hljs-attr">maxSize</span>: <span class="hljs-number">10</span> * <span class="hljs-number">1024</span>, <span class="hljs-comment">// å°äº10kbçš„å›¾ç‰‡ä¼šè¢«base64å¤„ç†</span><br>          &#125;,<br>        &#125;,<br>        <span class="hljs-attr">generator</span>: &#123;<br>          <span class="hljs-comment">// å°†å›¾ç‰‡æ–‡ä»¶è¾“å‡ºåˆ° static/imgs ç›®å½•ä¸­</span><br>          <span class="hljs-comment">// å°†å›¾ç‰‡æ–‡ä»¶å‘½å [hash:8][ext][query]</span><br>          <span class="hljs-comment">// [hash:8]: hashå€¼å–8ä½</span><br>          <span class="hljs-comment">// [ext]: ä½¿ç”¨ä¹‹å‰çš„æ–‡ä»¶æ‰©å±•å</span><br>          <span class="hljs-comment">// [query]: æ·»åŠ ä¹‹å‰çš„queryå‚æ•°</span><br>          <span class="hljs-attr">filename</span>: <span class="hljs-string">&quot;static/imgs/[hash:8][ext][query]&quot;</span>,<br>        &#125;,<br>      &#125;,<br>      &#123;<br>        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.(ttf|woff2?)$/</span>,<br>        <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;asset/resource&quot;</span>,<br>        <span class="hljs-attr">generator</span>: &#123;<br>          <span class="hljs-attr">filename</span>: <span class="hljs-string">&quot;static/media/[hash:8][ext][query]&quot;</span>,<br>        &#125;,<br>      &#125;,<br>      &#123;<br>        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.js$/</span>,<br>        <span class="hljs-attr">exclude</span>: <span class="hljs-regexp">/node_modules/</span>, <span class="hljs-comment">// æ’é™¤node_modulesä»£ç ä¸ç¼–è¯‘</span><br>        <span class="hljs-attr">loader</span>: <span class="hljs-string">&quot;babel-loader&quot;</span>,<br>      &#125;,<br>    ],<br>  &#125;,<br>  <span class="hljs-attr">plugins</span>: [<br>    <span class="hljs-keyword">new</span> <span class="hljs-title class_">ESLintWebpackPlugin</span>(&#123;<br>      <span class="hljs-comment">// æŒ‡å®šæ£€æŸ¥æ–‡ä»¶çš„æ ¹ç›®å½•</span><br>      <span class="hljs-attr">context</span>: path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">&quot;../src&quot;</span>),<br>    &#125;),<br>    <span class="hljs-keyword">new</span> <span class="hljs-title class_">HtmlWebpackPlugin</span>(&#123;<br>      <span class="hljs-comment">// ä»¥ public/index.html ä¸ºæ¨¡æ¿åˆ›å»ºæ–‡ä»¶</span><br>      <span class="hljs-comment">// æ–°çš„htmlæ–‡ä»¶æœ‰ä¸¤ä¸ªç‰¹ç‚¹ï¼š1. å†…å®¹å’Œæºæ–‡ä»¶ä¸€è‡´ 2. è‡ªåŠ¨å¼•å…¥æ‰“åŒ…ç”Ÿæˆçš„jsç­‰èµ„æº</span><br>      <span class="hljs-attr">template</span>: path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">&quot;../public/index.html&quot;</span>),<br>    &#125;),<br>    <span class="hljs-comment">// æå–cssæˆå•ç‹¬æ–‡ä»¶</span><br>    <span class="hljs-keyword">new</span> <span class="hljs-title class_">MiniCssExtractPlugin</span>(&#123;<br>      <span class="hljs-comment">// å®šä¹‰è¾“å‡ºæ–‡ä»¶åå’Œç›®å½•</span><br>      <span class="hljs-attr">filename</span>: <span class="hljs-string">&quot;static/css/main.css&quot;</span>,<br>    &#125;),<br>  ],<br>  <span class="hljs-comment">// devServer: &#123;</span><br>  <span class="hljs-comment">//   host: &quot;localhost&quot;, // å¯åŠ¨æœåŠ¡å™¨åŸŸå</span><br>  <span class="hljs-comment">//   port: &quot;3000&quot;, // å¯åŠ¨æœåŠ¡å™¨ç«¯å£å·</span><br>  <span class="hljs-comment">//   open: true, // æ˜¯å¦è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨</span><br>  <span class="hljs-comment">// &#125;,</span><br>  <span class="hljs-attr">mode</span>: <span class="hljs-string">&quot;production&quot;</span>,<br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="3-è¿è¡ŒæŒ‡ä»¤"><a href="#3-è¿è¡ŒæŒ‡ä»¤" class="headerlink" title="3. è¿è¡ŒæŒ‡ä»¤"></a>3. è¿è¡ŒæŒ‡ä»¤</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs :no-line-numbers">npm run build<br></code></pre></td></tr></table></figure><h2 id="Css-å…¼å®¹æ€§å¤„ç†"><a href="#Css-å…¼å®¹æ€§å¤„ç†" class="headerlink" title="Css å…¼å®¹æ€§å¤„ç†"></a>Css å…¼å®¹æ€§å¤„ç†</h2><h3 id="1-ä¸‹è½½åŒ…-1"><a href="#1-ä¸‹è½½åŒ…-1" class="headerlink" title="1. ä¸‹è½½åŒ…"></a>1. ä¸‹è½½åŒ…</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs :no-line-numbers">npm i postcss-loader postcss postcss-preset-env -D<br></code></pre></td></tr></table></figure><h3 id="2-é…ç½®-1"><a href="#2-é…ç½®-1" class="headerlink" title="2. é…ç½®"></a>2. é…ç½®</h3><ul><li>webpack.prod.js</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br></pre></td><td class="code"><pre><code class="hljs js&#123;22-31,39-48,57-66,75-84&#125;">const path = require(&quot;path&quot;);<br>const ESLintWebpackPlugin = require(&quot;eslint-webpack-plugin&quot;);<br>const HtmlWebpackPlugin = require(&quot;html-webpack-plugin&quot;);<br>const MiniCssExtractPlugin = require(&quot;mini-css-extract-plugin&quot;);<br><br>module.exports = &#123;<br>  entry: &quot;./src/main.js&quot;,<br>  output: &#123;<br>    path: path.resolve(__dirname, &quot;../dist&quot;), // ç”Ÿäº§æ¨¡å¼éœ€è¦è¾“å‡º<br>    filename: &quot;static/js/main.js&quot;, // å°† js æ–‡ä»¶è¾“å‡ºåˆ° static/js ç›®å½•ä¸­<br>    clean: true,<br>  &#125;,<br>  module: &#123;<br>    rules: [<br>      &#123;<br>        // ç”¨æ¥åŒ¹é… .css ç»“å°¾çš„æ–‡ä»¶<br>        test: /\.css$/,<br>        // use æ•°ç»„é‡Œé¢ Loader æ‰§è¡Œé¡ºåºæ˜¯ä»å³åˆ°å·¦<br>        use: [<br>          MiniCssExtractPlugin.loader,<br>          &quot;css-loader&quot;,<br>          &#123;<br>            loader: &quot;postcss-loader&quot;,<br>            options: &#123;<br>              postcssOptions: &#123;<br>                plugins: [<br>                  &quot;postcss-preset-env&quot;, // èƒ½è§£å†³å¤§å¤šæ•°æ ·å¼å…¼å®¹æ€§é—®é¢˜<br>                ],<br>              &#125;,<br>            &#125;,<br>          &#125;,<br>        ],<br>      &#125;,<br>      &#123;<br>        test: /\.less$/,<br>        use: [<br>          MiniCssExtractPlugin.loader,<br>          &quot;css-loader&quot;,<br>          &#123;<br>            loader: &quot;postcss-loader&quot;,<br>            options: &#123;<br>              postcssOptions: &#123;<br>                plugins: [<br>                  &quot;postcss-preset-env&quot;, // èƒ½è§£å†³å¤§å¤šæ•°æ ·å¼å…¼å®¹æ€§é—®é¢˜<br>                ],<br>              &#125;,<br>            &#125;,<br>          &#125;,<br>          &quot;less-loader&quot;,<br>        ],<br>      &#125;,<br>      &#123;<br>        test: /\.s[ac]ss$/,<br>        use: [<br>          MiniCssExtractPlugin.loader,<br>          &quot;css-loader&quot;,<br>          &#123;<br>            loader: &quot;postcss-loader&quot;,<br>            options: &#123;<br>              postcssOptions: &#123;<br>                plugins: [<br>                  &quot;postcss-preset-env&quot;, // èƒ½è§£å†³å¤§å¤šæ•°æ ·å¼å…¼å®¹æ€§é—®é¢˜<br>                ],<br>              &#125;,<br>            &#125;,<br>          &#125;,<br>          &quot;sass-loader&quot;,<br>        ],<br>      &#125;,<br>      &#123;<br>        test: /\.styl$/,<br>        use: [<br>          MiniCssExtractPlugin.loader,<br>          &quot;css-loader&quot;,<br>          &#123;<br>            loader: &quot;postcss-loader&quot;,<br>            options: &#123;<br>              postcssOptions: &#123;<br>                plugins: [<br>                  &quot;postcss-preset-env&quot;, // èƒ½è§£å†³å¤§å¤šæ•°æ ·å¼å…¼å®¹æ€§é—®é¢˜<br>                ],<br>              &#125;,<br>            &#125;,<br>          &#125;,<br>          &quot;stylus-loader&quot;,<br>        ],<br>      &#125;,<br>      &#123;<br>        test: /\.(png|jpe?g|gif|webp)$/,<br>        type: &quot;asset&quot;,<br>        parser: &#123;<br>          dataUrlCondition: &#123;<br>            maxSize: 10 * 1024, // å°äº10kbçš„å›¾ç‰‡ä¼šè¢«base64å¤„ç†<br>          &#125;,<br>        &#125;,<br>        generator: &#123;<br>          // å°†å›¾ç‰‡æ–‡ä»¶è¾“å‡ºåˆ° static/imgs ç›®å½•ä¸­<br>          // å°†å›¾ç‰‡æ–‡ä»¶å‘½å [hash:8][ext][query]<br>          // [hash:8]: hashå€¼å–8ä½<br>          // [ext]: ä½¿ç”¨ä¹‹å‰çš„æ–‡ä»¶æ‰©å±•å<br>          // [query]: æ·»åŠ ä¹‹å‰çš„queryå‚æ•°<br>          filename: &quot;static/imgs/[hash:8][ext][query]&quot;,<br>        &#125;,<br>      &#125;,<br>      &#123;<br>        test: /\.(ttf|woff2?)$/,<br>        type: &quot;asset/resource&quot;,<br>        generator: &#123;<br>          filename: &quot;static/media/[hash:8][ext][query]&quot;,<br>        &#125;,<br>      &#125;,<br>      &#123;<br>        test: /\.js$/,<br>        exclude: /node_modules/, // æ’é™¤node_modulesä»£ç ä¸ç¼–è¯‘<br>        loader: &quot;babel-loader&quot;,<br>      &#125;,<br>    ],<br>  &#125;,<br>  plugins: [<br>    new ESLintWebpackPlugin(&#123;<br>      // æŒ‡å®šæ£€æŸ¥æ–‡ä»¶çš„æ ¹ç›®å½•<br>      context: path.resolve(__dirname, &quot;../src&quot;),<br>    &#125;),<br>    new HtmlWebpackPlugin(&#123;<br>      // ä»¥ public/index.html ä¸ºæ¨¡æ¿åˆ›å»ºæ–‡ä»¶<br>      // æ–°çš„htmlæ–‡ä»¶æœ‰ä¸¤ä¸ªç‰¹ç‚¹ï¼š1. å†…å®¹å’Œæºæ–‡ä»¶ä¸€è‡´ 2. è‡ªåŠ¨å¼•å…¥æ‰“åŒ…ç”Ÿæˆçš„jsç­‰èµ„æº<br>      template: path.resolve(__dirname, &quot;../public/index.html&quot;),<br>    &#125;),<br>    // æå–cssæˆå•ç‹¬æ–‡ä»¶<br>    new MiniCssExtractPlugin(&#123;<br>      // å®šä¹‰è¾“å‡ºæ–‡ä»¶åå’Œç›®å½•<br>      filename: &quot;static/css/main.css&quot;,<br>    &#125;),<br>  ],<br>  // devServer: &#123;<br>  //   host: &quot;localhost&quot;, // å¯åŠ¨æœåŠ¡å™¨åŸŸå<br>  //   port: &quot;3000&quot;, // å¯åŠ¨æœåŠ¡å™¨ç«¯å£å·<br>  //   open: true, // æ˜¯å¦è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨<br>  // &#125;,<br>  mode: &quot;production&quot;,<br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="3-æ§åˆ¶å…¼å®¹æ€§"><a href="#3-æ§åˆ¶å…¼å®¹æ€§" class="headerlink" title="3. æ§åˆ¶å…¼å®¹æ€§"></a>3. æ§åˆ¶å…¼å®¹æ€§</h3><p>åœ¨ <code>package.json</code> æ–‡ä»¶ä¸­æ·»åŠ  <code>browserslist</code> æ¥æ§åˆ¶æ ·å¼çš„å…¼å®¹æ€§åšåˆ°ä»€ä¹ˆç¨‹åº¦ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-comment">// å…¶ä»–çœç•¥</span><br>  <span class="hljs-attr">&quot;browserslist&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;ie &gt;= 8&quot;</span><span class="hljs-punctuation">]</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><p>æƒ³è¦çŸ¥é“æ›´å¤šçš„ <code>browserslist</code> é…ç½®ï¼ŒæŸ¥çœ‹<a href="https://github.com/browserslist/browserslist">browserslist æ–‡æ¡£</a></p><p>ä»¥ä¸Šä¸ºäº†æµ‹è¯•å…¼å®¹æ€§æ‰€ä»¥è®¾ç½®å…¼å®¹æµè§ˆå™¨ ie8 ä»¥ä¸Šã€‚</p><p>å®é™…å¼€å‘ä¸­æˆ‘ä»¬ä¸€èˆ¬ä¸è€ƒè™‘æ—§ç‰ˆæœ¬æµè§ˆå™¨äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥è¿™æ ·è®¾ç½®ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-comment">// å…¶ä»–çœç•¥</span><br>  <span class="hljs-attr">&quot;browserslist&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;last 2 version&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;&gt; 1%&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;not dead&quot;</span><span class="hljs-punctuation">]</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><h3 id="4-å°è£…å¤„ç†æ ·å¼çš„-Loaders-å‡½æ•°ï¼Œåˆå¹¶é…ç½®"><a href="#4-å°è£…å¤„ç†æ ·å¼çš„-Loaders-å‡½æ•°ï¼Œåˆå¹¶é…ç½®" class="headerlink" title="4. å°è£…å¤„ç†æ ·å¼çš„ Loaders å‡½æ•°ï¼Œåˆå¹¶é…ç½®"></a>4. å°è£…å¤„ç†æ ·å¼çš„ Loaders å‡½æ•°ï¼Œåˆå¹¶é…ç½®</h3><p>å¯ä»¥çœ‹å‡ºä¸Šé¢é‡å¤çš„ä»£ç å¤ªå¤šäº†ï¼Œæ‰€ä»¥å°è£…ä¸€ä¸ª getStyleLoaders æ–¹æ³•ï¼Œå¢å¼ºä»£ç å¤ç”¨æ€§</p><ul><li>webpack.prod.js</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><code class="hljs js&#123;6-23,38,42,46,50&#125;">const path = require(&quot;path&quot;);<br>const ESLintWebpackPlugin = require(&quot;eslint-webpack-plugin&quot;);<br>const HtmlWebpackPlugin = require(&quot;html-webpack-plugin&quot;);<br>const MiniCssExtractPlugin = require(&quot;mini-css-extract-plugin&quot;);<br><br>// è·å–å¤„ç†æ ·å¼çš„Loaders<br>const getStyleLoaders = (preProcessor) =&gt; &#123;<br>  return [<br>    MiniCssExtractPlugin.loader,<br>    &quot;css-loader&quot;,<br>    &#123;<br>      loader: &quot;postcss-loader&quot;,<br>      options: &#123;<br>        postcssOptions: &#123;<br>          plugins: [<br>            &quot;postcss-preset-env&quot;, // èƒ½è§£å†³å¤§å¤šæ•°æ ·å¼å…¼å®¹æ€§é—®é¢˜<br>          ],<br>        &#125;,<br>      &#125;,<br>    &#125;,<br>    preProcessor,<br>  ].filter(Boolean);<br>&#125;;<br><br>module.exports = &#123;<br>  entry: &quot;./src/main.js&quot;,<br>  output: &#123;<br>    path: path.resolve(__dirname, &quot;../dist&quot;), // ç”Ÿäº§æ¨¡å¼éœ€è¦è¾“å‡º<br>    filename: &quot;static/js/main.js&quot;, // å°† js æ–‡ä»¶è¾“å‡ºåˆ° static/js ç›®å½•ä¸­<br>    clean: true,<br>  &#125;,<br>  module: &#123;<br>    rules: [<br>      &#123;<br>        // ç”¨æ¥åŒ¹é… .css ç»“å°¾çš„æ–‡ä»¶<br>        test: /\.css$/,<br>        // use æ•°ç»„é‡Œé¢ Loader æ‰§è¡Œé¡ºåºæ˜¯ä»å³åˆ°å·¦<br>        use: getStyleLoaders(),<br>      &#125;,<br>      &#123;<br>        test: /\.less$/,<br>        use: getStyleLoaders(&quot;less-loader&quot;),<br>      &#125;,<br>      &#123;<br>        test: /\.s[ac]ss$/,<br>        use: getStyleLoaders(&quot;sass-loader&quot;),<br>      &#125;,<br>      &#123;<br>        test: /\.styl$/,<br>        use: getStyleLoaders(&quot;stylus-loader&quot;),<br>      &#125;,<br>      &#123;<br>        test: /\.(png|jpe?g|gif|webp)$/,<br>        type: &quot;asset&quot;,<br>        parser: &#123;<br>          dataUrlCondition: &#123;<br>            maxSize: 10 * 1024, // å°äº10kbçš„å›¾ç‰‡ä¼šè¢«base64å¤„ç†<br>          &#125;,<br>        &#125;,<br>        generator: &#123;<br>          // å°†å›¾ç‰‡æ–‡ä»¶è¾“å‡ºåˆ° static/imgs ç›®å½•ä¸­<br>          // å°†å›¾ç‰‡æ–‡ä»¶å‘½å [hash:8][ext][query]<br>          // [hash:8]: hashå€¼å–8ä½<br>          // [ext]: ä½¿ç”¨ä¹‹å‰çš„æ–‡ä»¶æ‰©å±•å<br>          // [query]: æ·»åŠ ä¹‹å‰çš„queryå‚æ•°<br>          filename: &quot;static/imgs/[hash:8][ext][query]&quot;,<br>        &#125;,<br>      &#125;,<br>      &#123;<br>        test: /\.(ttf|woff2?)$/,<br>        type: &quot;asset/resource&quot;,<br>        generator: &#123;<br>          filename: &quot;static/media/[hash:8][ext][query]&quot;,<br>        &#125;,<br>      &#125;,<br>      &#123;<br>        test: /\.js$/,<br>        exclude: /node_modules/, // æ’é™¤node_modulesä»£ç ä¸ç¼–è¯‘<br>        loader: &quot;babel-loader&quot;,<br>      &#125;,<br>    ],<br>  &#125;,<br>  plugins: [<br>    new ESLintWebpackPlugin(&#123;<br>      // æŒ‡å®šæ£€æŸ¥æ–‡ä»¶çš„æ ¹ç›®å½•<br>      context: path.resolve(__dirname, &quot;../src&quot;),<br>    &#125;),<br>    new HtmlWebpackPlugin(&#123;<br>      // ä»¥ public/index.html ä¸ºæ¨¡æ¿åˆ›å»ºæ–‡ä»¶<br>      // æ–°çš„htmlæ–‡ä»¶æœ‰ä¸¤ä¸ªç‰¹ç‚¹ï¼š1. å†…å®¹å’Œæºæ–‡ä»¶ä¸€è‡´ 2. è‡ªåŠ¨å¼•å…¥æ‰“åŒ…ç”Ÿæˆçš„jsç­‰èµ„æº<br>      template: path.resolve(__dirname, &quot;../public/index.html&quot;),<br>    &#125;),<br>    // æå–cssæˆå•ç‹¬æ–‡ä»¶<br>    new MiniCssExtractPlugin(&#123;<br>      // å®šä¹‰è¾“å‡ºæ–‡ä»¶åå’Œç›®å½•<br>      filename: &quot;static/css/main.css&quot;,<br>    &#125;),<br>  ],<br>  // devServer: &#123;<br>  //   host: &quot;localhost&quot;, // å¯åŠ¨æœåŠ¡å™¨åŸŸå<br>  //   port: &quot;3000&quot;, // å¯åŠ¨æœåŠ¡å™¨ç«¯å£å·<br>  //   open: true, // æ˜¯å¦è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨<br>  // &#125;,<br>  mode: &quot;production&quot;,<br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="5-è¿è¡ŒæŒ‡ä»¤"><a href="#5-è¿è¡ŒæŒ‡ä»¤" class="headerlink" title="5. è¿è¡ŒæŒ‡ä»¤"></a>5. è¿è¡ŒæŒ‡ä»¤</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs :no-line-numbers">npm run build<br></code></pre></td></tr></table></figure><h2 id="Css-å‹ç¼©"><a href="#Css-å‹ç¼©" class="headerlink" title="Css å‹ç¼©"></a>Css å‹ç¼©</h2><p>é»˜è®¤ç”Ÿäº§æ¨¡å¼å·²ç»å¼€å¯äº† html å‹ç¼©å’Œ js å‹ç¼©ï¼Œä¸éœ€è¦é¢å¤–è¿›è¡Œé…ç½®ã€‚<br>æ‰€ä»¥é…ç½®ä¸€ä¸‹ css å‹ç¼©å³å¯ã€‚</p><h3 id="1-ä¸‹è½½åŒ…-2"><a href="#1-ä¸‹è½½åŒ…-2" class="headerlink" title="1. ä¸‹è½½åŒ…"></a>1. ä¸‹è½½åŒ…</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs :no-line-numbers">npm i css-minimizer-webpack-plugin -D<br></code></pre></td></tr></table></figure><h3 id="2-é…ç½®-2"><a href="#2-é…ç½®-2" class="headerlink" title="2. é…ç½®"></a>2. é…ç½®</h3><ul><li>webpack.prod.js</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> <span class="hljs-title class_">CssMinimizerPlugin</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;css-minimizer-webpack-plugin&quot;</span>);<br><br><span class="hljs-attr">plugins</span>: [<br><span class="hljs-comment">// csså‹ç¼©</span><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">CssMinimizerPlugin</span>(),<br>],<br></code></pre></td></tr></table></figure><h3 id="3-è¿è¡ŒæŒ‡ä»¤-1"><a href="#3-è¿è¡ŒæŒ‡ä»¤-1" class="headerlink" title="3. è¿è¡ŒæŒ‡ä»¤"></a>3. è¿è¡ŒæŒ‡ä»¤</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs :no-line-numbers">npm run build<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>JavaScriptï¼ŒWebpack</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Webpack5 å…¥é—¨å­¦ä¹ ç¬”è®°ï¼ˆä¸­ï¼‰ï¼šä½¿ç”¨ Eslint å’Œ Babel å¤„ç†jsèµ„æº</title>
    <link href="/2022/11/23/Webpack5%20%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%EF%BC%89%EF%BC%9A%E4%BD%BF%E7%94%A8%20Eslint%20%E5%92%8C%20Babel%20%E5%A4%84%E7%90%86js%E8%B5%84%E6%BA%90/"/>
    <url>/2022/11/23/Webpack5%20%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%EF%BC%89%EF%BC%9A%E4%BD%BF%E7%94%A8%20Eslint%20%E5%92%8C%20Babel%20%E5%A4%84%E7%90%86js%E8%B5%84%E6%BA%90/</url>
    
    <content type="html"><![CDATA[<h1 id="å¤„ç†-js-èµ„æº"><a href="#å¤„ç†-js-èµ„æº" class="headerlink" title="å¤„ç† js èµ„æº"></a>å¤„ç† js èµ„æº</h1><p>Webpack å¯¹ js å¤„ç†æ˜¯æœ‰é™çš„ï¼Œåªèƒ½ç¼–è¯‘ js ä¸­ ES æ¨¡å—åŒ–è¯­æ³•ï¼Œä¸èƒ½ç¼–è¯‘å…¶ä»–è¯­æ³•ï¼Œå¯¼è‡´ js ä¸èƒ½åœ¨ IE ç­‰æµè§ˆå™¨è¿è¡Œï¼Œéœ€è¦ä¸€äº›å…¼å®¹æ€§å¤„ç†ã€‚è€Œä¸”å›¢é˜Ÿå¯¹ä»£ç æ ¼å¼æ˜¯æœ‰ä¸¥æ ¼è¦æ±‚çš„ï¼Œä¸èƒ½ç”±è‚‰çœ¼å»æ£€æµ‹ä»£ç æ ¼å¼ï¼Œéœ€è¦ä½¿ç”¨ä¸“ä¸šçš„å·¥å…·æ¥æ£€æµ‹ã€‚</p><ul><li>é’ˆå¯¹ js å…¼å®¹æ€§å¤„ç†ï¼Œä½¿ç”¨ Babel æ¥å®Œæˆ</li><li>é’ˆå¯¹ä»£ç æ ¼å¼ï¼Œä½¿ç”¨ Eslint æ¥å®Œæˆ</li></ul><p>å…ˆå®Œæˆ Eslintï¼Œæ£€æµ‹ä»£ç æ ¼å¼æ— è¯¯åï¼Œåœ¨ç”± Babel åšä»£ç å…¼å®¹æ€§å¤„ç†</p><h2 id="Eslint"><a href="#Eslint" class="headerlink" title="Eslint"></a>Eslint</h2><p>å¯ç»„è£…çš„ JavaScript å’Œ JSX æ£€æŸ¥å·¥å…·ã€‚</p><p>è¿™å¥è¯æ„æ€å°±æ˜¯ï¼šå®ƒæ˜¯ç”¨æ¥æ£€æµ‹ js å’Œ jsx è¯­æ³•çš„å·¥å…·ï¼Œå¯ä»¥é…ç½®å„é¡¹åŠŸèƒ½ã€‚ä½¿ç”¨ Eslintï¼Œå…³é”®æ˜¯å†™ Eslint é…ç½®æ–‡ä»¶ï¼Œé‡Œé¢å†™ä¸Šå„ç§ rules è§„åˆ™ï¼Œå°†æ¥è¿è¡Œ Eslint æ—¶å°±ä¼šä»¥å†™çš„è§„åˆ™å¯¹ä»£ç è¿›è¡Œæ£€æŸ¥</p><h3 id="1-é…ç½®æ–‡ä»¶"><a href="#1-é…ç½®æ–‡ä»¶" class="headerlink" title="1. é…ç½®æ–‡ä»¶"></a>1. é…ç½®æ–‡ä»¶</h3><p>é…ç½®æ–‡ä»¶ç”±å¾ˆå¤šç§å†™æ³•ï¼š</p><ul><li><code>.eslintrc.*</code>ï¼šæ–°å»ºæ–‡ä»¶ï¼Œä½äºé¡¹ç›®æ ¹ç›®å½•<ul><li><code>.eslintrc</code></li><li><code>.eslintrc.js</code></li><li><code>.eslintrc.json</code></li><li>åŒºåˆ«åœ¨äºé…ç½®æ ¼å¼ä¸ä¸€æ ·</li></ul></li><li><code>package.json</code> ä¸­ <code>eslintConfig</code>ï¼šä¸éœ€è¦åˆ›å»ºæ–‡ä»¶ï¼Œåœ¨åŸæœ‰æ–‡ä»¶åŸºç¡€ä¸Šå†™</li></ul><p>ESLint ä¼šæŸ¥æ‰¾å’Œè‡ªåŠ¨è¯»å–å®ƒä»¬ï¼Œæ‰€ä»¥ä»¥ä¸Šé…ç½®æ–‡ä»¶åªéœ€è¦å­˜åœ¨ä¸€ä¸ªå³å¯</p><h3 id="2-å…·ä½“é…ç½®"><a href="#2-å…·ä½“é…ç½®" class="headerlink" title="2. å…·ä½“é…ç½®"></a>2. å…·ä½“é…ç½®</h3><p>ä»¥ <code>.eslintrc.js</code> é…ç½®æ–‡ä»¶ä¸ºä¾‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>  <span class="hljs-comment">// è§£æé€‰é¡¹</span><br>  <span class="hljs-attr">parserOptions</span>: &#123;&#125;,<br>  <span class="hljs-comment">// å…·ä½“æ£€æŸ¥è§„åˆ™</span><br>  <span class="hljs-attr">rules</span>: &#123;&#125;,<br>  <span class="hljs-comment">// ç»§æ‰¿å…¶ä»–è§„åˆ™</span><br>  <span class="hljs-attr">extends</span>: [],<br>  <span class="hljs-comment">// ...</span><br>  <span class="hljs-comment">// å…¶ä»–è§„åˆ™è¯¦è§ï¼šhttps://eslint.bootcss.com/docs/user-guide/configuring</span><br>&#125;;<br></code></pre></td></tr></table></figure><ol><li>parserOptions è§£æé€‰é¡¹</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-attr">parserOptions</span>: &#123;<br>  <span class="hljs-attr">ecmaVersion</span>: <span class="hljs-number">6</span>, <span class="hljs-comment">// ES è¯­æ³•ç‰ˆæœ¬</span><br>  <span class="hljs-attr">sourceType</span>: <span class="hljs-string">&quot;module&quot;</span>, <span class="hljs-comment">// ES æ¨¡å—åŒ–</span><br>  <span class="hljs-attr">ecmaFeatures</span>: &#123; <span class="hljs-comment">// ES å…¶ä»–ç‰¹æ€§</span><br>    <span class="hljs-attr">jsx</span>: <span class="hljs-literal">true</span> <span class="hljs-comment">// å¦‚æœæ˜¯ React é¡¹ç›®ï¼Œå°±éœ€è¦å¼€å¯ jsx è¯­æ³•</span><br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ol start="2"><li>rules å…·ä½“è§„åˆ™</li></ol><ul><li><code>&quot;off&quot;</code> æˆ– <code>0</code> - å…³é—­è§„åˆ™</li><li><code>&quot;warn&quot;</code> æˆ– <code>1</code> - å¼€å¯è§„åˆ™ï¼Œä½¿ç”¨è­¦å‘Šçº§åˆ«çš„é”™è¯¯ï¼š<code>warn</code> (ä¸ä¼šå¯¼è‡´ç¨‹åºé€€å‡º)</li><li><code>&quot;error&quot;</code> æˆ– <code>2</code> - å¼€å¯è§„åˆ™ï¼Œä½¿ç”¨é”™è¯¯çº§åˆ«çš„é”™è¯¯ï¼š<code>error</code> (å½“è¢«è§¦å‘çš„æ—¶å€™ï¼Œç¨‹åºä¼šé€€å‡º)</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-attr">rules</span>: &#123;<br>  <span class="hljs-attr">semi</span>: <span class="hljs-string">&quot;error&quot;</span>, <span class="hljs-comment">// ç¦æ­¢ä½¿ç”¨åˆ†å·</span><br>  <span class="hljs-string">&#x27;array-callback-return&#x27;</span>: <span class="hljs-string">&#x27;warn&#x27;</span>, <span class="hljs-comment">// å¼ºåˆ¶æ•°ç»„æ–¹æ³•çš„å›è°ƒå‡½æ•°ä¸­æœ‰ return è¯­å¥ï¼Œå¦åˆ™è­¦å‘Š</span><br>  <span class="hljs-string">&#x27;default-case&#x27;</span>: [<br>    <span class="hljs-string">&#x27;warn&#x27;</span>, <span class="hljs-comment">// è¦æ±‚ switch è¯­å¥ä¸­æœ‰ default åˆ†æ”¯ï¼Œå¦åˆ™è­¦å‘Š</span><br>    &#123; <span class="hljs-attr">commentPattern</span>: <span class="hljs-string">&#x27;^no default$&#x27;</span> &#125; <span class="hljs-comment">// å…è®¸åœ¨æœ€åæ³¨é‡Š no default, å°±ä¸ä¼šæœ‰è­¦å‘Šäº†</span><br>  ],<br>  <span class="hljs-attr">eqeqeq</span>: [<br>    <span class="hljs-string">&#x27;warn&#x27;</span>, <span class="hljs-comment">// å¼ºåˆ¶ä½¿ç”¨ === å’Œ !==ï¼Œå¦åˆ™è­¦å‘Š</span><br>    <span class="hljs-string">&#x27;smart&#x27;</span> <span class="hljs-comment">// https://eslint.bootcss.com/docs/rules/eqeqeq#smart é™¤äº†å°‘æ•°æƒ…å†µä¸‹ä¸ä¼šæœ‰è­¦å‘Š</span><br>  ],<br>&#125;<br></code></pre></td></tr></table></figure><p>æ›´å¤šè§„åˆ™è¯¦è§ï¼š<a href="https://eslint.bootcss.com/docs/rules/">è§„åˆ™æ–‡æ¡£</a></p><ol start="3"><li>extends ç»§æ‰¿</li></ol><p>å¼€å‘ä¸­ä¸€ç‚¹ç‚¹å†™ rules è§„åˆ™å¤ªè´¹åŠ²äº†ã€‚</p><p>ç°æœ‰ä»¥ä¸‹è¾ƒä¸ºæœ‰åçš„è§„åˆ™ï¼š</p><ul><li><a href="https://eslint.bootcss.com/docs/rules/">Eslint å®˜æ–¹çš„è§„åˆ™</a>ï¼š<code>eslint:recommended</code></li><li><a href="https://github.com/vuejs/vue-cli/tree/dev/packages/@vue/cli-plugin-eslint">Vue Cli å®˜æ–¹çš„è§„åˆ™</a>ï¼š<code>plugin:vue/essential</code></li><li><a href="https://github.com/facebook/create-react-app/tree/main/packages/eslint-config-react-app">React Cli å®˜æ–¹çš„è§„åˆ™</a>ï¼š<code>react-app</code></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// ä¾‹å¦‚åœ¨Reacté¡¹ç›®ä¸­ï¼Œå¯ä»¥è¿™æ ·å†™é…ç½®</span><br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>  <span class="hljs-attr">extends</span>: [<span class="hljs-string">&quot;react-app&quot;</span>],<br>  <span class="hljs-attr">rules</span>: &#123;<br>    <span class="hljs-comment">// çš„è§„åˆ™ä¼šè¦†ç›–æ‰react-appçš„è§„åˆ™</span><br>    <span class="hljs-comment">// æ‰€ä»¥æƒ³è¦ä¿®æ”¹è§„åˆ™ç›´æ¥æ”¹å°±æ˜¯äº†</span><br>    <span class="hljs-attr">eqeqeq</span>: [<span class="hljs-string">&quot;warn&quot;</span>, <span class="hljs-string">&quot;smart&quot;</span>],<br>  &#125;,<br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="3-åœ¨-Webpack-ä¸­ä½¿ç”¨"><a href="#3-åœ¨-Webpack-ä¸­ä½¿ç”¨" class="headerlink" title="3. åœ¨ Webpack ä¸­ä½¿ç”¨"></a>3. åœ¨ Webpack ä¸­ä½¿ç”¨</h3><ol><li>ä¸‹è½½åŒ…</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs :no-line-numbers">npm i eslint-webpack-plugin eslint -D<br></code></pre></td></tr></table></figure><ol start="2"><li>å®šä¹‰ Eslint é…ç½®æ–‡ä»¶</li></ol><ul><li>.eslintrc.js</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>  <span class="hljs-comment">// ç»§æ‰¿ Eslint è§„åˆ™</span><br>  <span class="hljs-attr">extends</span>: [<span class="hljs-string">&quot;eslint:recommended&quot;</span>],<br>  <span class="hljs-attr">env</span>: &#123;<br>    <span class="hljs-attr">node</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// å¯ç”¨nodeä¸­å…¨å±€å˜é‡</span><br>    <span class="hljs-attr">browser</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// å¯ç”¨æµè§ˆå™¨ä¸­å…¨å±€å˜é‡</span><br>  &#125;,<br>  <span class="hljs-attr">parserOptions</span>: &#123;<br>    <span class="hljs-attr">ecmaVersion</span>: <span class="hljs-number">6</span>,<br>    <span class="hljs-attr">sourceType</span>: <span class="hljs-string">&quot;module&quot;</span>,<br>  &#125;,<br>  <span class="hljs-attr">rules</span>: &#123;<br>    <span class="hljs-string">&quot;no-var&quot;</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// ä¸èƒ½ä½¿ç”¨ var å®šä¹‰å˜é‡</span><br>  &#125;,<br>&#125;;<br></code></pre></td></tr></table></figure><ol start="3"><li>ä¿®æ”¹ js æ–‡ä»¶ä»£ç </li></ol><ul><li>main.js</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs js&#123;11-14&#125;">import count from &quot;./js/count&quot;;<br>import sum from &quot;./js/sum&quot;;<br>// å¼•å…¥èµ„æºï¼ŒWebpackæ‰ä¼šå¯¹å…¶æ‰“åŒ…<br>import &quot;./css/iconfont.css&quot;;<br>import &quot;./css/index.css&quot;;<br>import &quot;./less/index.less&quot;;<br>import &quot;./sass/index.sass&quot;;<br>import &quot;./sass/index.scss&quot;;<br>import &quot;./styl/index.styl&quot;;<br><br>var result1 = count(2, 1);<br>console.log(result1);<br>var result2 = sum(1, 2, 3, 4);<br>console.log(result2);<br></code></pre></td></tr></table></figure><ol><li>é…ç½®</li></ol><ul><li>webpack.config.js</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> <span class="hljs-title class_">ESLintWebpackPlugin</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;eslint-webpack-plugin&quot;</span>);<br><br> <span class="hljs-attr">plugins</span>: [<br>    <span class="hljs-keyword">new</span> <span class="hljs-title class_">ESLintWebpackPlugin</span>(&#123;<br>      <span class="hljs-comment">// æŒ‡å®šæ£€æŸ¥æ–‡ä»¶çš„æ ¹ç›®å½•</span><br>      <span class="hljs-attr">context</span>: path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">&quot;src&quot;</span>),<br>    &#125;),<br>  ],<br></code></pre></td></tr></table></figure><ol start="5"><li>è¿è¡ŒæŒ‡ä»¤ï¼Œåœ¨æ§åˆ¶å°æŸ¥çœ‹ Eslint æ£€æŸ¥æ•ˆæœ</li></ol><h3 id="4-VSCode-Eslint-æ’ä»¶"><a href="#4-VSCode-Eslint-æ’ä»¶" class="headerlink" title="4. VSCode Eslint æ’ä»¶"></a>4. VSCode Eslint æ’ä»¶</h3><p>ä¸‹è½½äº† Eslint æ’ä»¶ä¹‹åï¼Œå³å¯ä¸ç”¨ç¼–è¯‘å°±èƒ½çœ‹åˆ°é”™è¯¯ï¼Œå¯ä»¥æå‰è§£å†³ã€‚ä½†æ˜¯æ­¤æ—¶å°±ä¼šå¯¹é¡¹ç›®æ‰€æœ‰æ–‡ä»¶é»˜è®¤è¿›è¡Œ Eslint æ£€æŸ¥äº†ï¼Œ dist ç›®å½•ä¸‹çš„æ‰“åŒ…åæ–‡ä»¶å°±ä¼šæŠ¥é”™ã€‚ä½†æ˜¯åªéœ€è¦æ£€æŸ¥ src ä¸‹é¢çš„æ–‡ä»¶ï¼Œä¸éœ€è¦æ£€æŸ¥ dist ä¸‹é¢çš„æ–‡ä»¶ã€‚æ‰€ä»¥å¯ä»¥ä½¿ç”¨ Eslint å¿½ç•¥æ–‡ä»¶è§£å†³ã€‚åœ¨é¡¹ç›®æ ¹ç›®å½•æ–°å»ºä¸‹é¢æ–‡ä»¶:</p><ul><li><code>.eslintignore</code></li></ul><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs processing"># å¿½ç•¥<span class="hljs-built_in">dist</span>ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶<br><span class="hljs-built_in">dist</span><br></code></pre></td></tr></table></figure><h2 id="Babel"><a href="#Babel" class="headerlink" title="Babel"></a>Babel</h2><p>JavaScript ç¼–è¯‘å™¨ã€‚</p><p>ä¸»è¦ç”¨äºå°† ES6 è¯­æ³•ç¼–å†™çš„ä»£ç è½¬æ¢ä¸ºå‘åå…¼å®¹çš„ JavaScript è¯­æ³•ï¼Œä»¥ä¾¿èƒ½å¤Ÿè¿è¡Œåœ¨å½“å‰å’Œæ—§ç‰ˆæœ¬çš„æµè§ˆå™¨æˆ–å…¶ä»–ç¯å¢ƒä¸­</p><h3 id="1-é…ç½®æ–‡ä»¶-1"><a href="#1-é…ç½®æ–‡ä»¶-1" class="headerlink" title="1. é…ç½®æ–‡ä»¶"></a>1. é…ç½®æ–‡ä»¶</h3><p>é…ç½®æ–‡ä»¶ç”±å¾ˆå¤šç§å†™æ³•ï¼š</p><ul><li><code>babel.config.*</code>ï¼šæ–°å»ºæ–‡ä»¶ï¼Œä½äºé¡¹ç›®æ ¹ç›®å½•<ul><li><code>babel.config.js</code></li><li><code>babel.config.json</code></li></ul></li><li><code>.babelrc.*</code>ï¼šæ–°å»ºæ–‡ä»¶ï¼Œä½äºé¡¹ç›®æ ¹ç›®å½•<ul><li><code>.babelrc</code></li><li><code>.babelrc.js</code></li><li><code>.babelrc.json</code></li></ul></li><li><code>package.json</code> ä¸­ <code>babel</code>ï¼šä¸éœ€è¦åˆ›å»ºæ–‡ä»¶ï¼Œåœ¨åŸæœ‰æ–‡ä»¶åŸºç¡€ä¸Šå†™</li></ul><p>Babel ä¼šæŸ¥æ‰¾å’Œè‡ªåŠ¨è¯»å–å®ƒä»¬ï¼Œæ‰€ä»¥ä»¥ä¸Šé…ç½®æ–‡ä»¶åªéœ€è¦å­˜åœ¨ä¸€ä¸ªå³å¯</p><h3 id="2-å…·ä½“é…ç½®-1"><a href="#2-å…·ä½“é…ç½®-1" class="headerlink" title="2. å…·ä½“é…ç½®"></a>2. å…·ä½“é…ç½®</h3><p>ä»¥ <code>babel.config.js</code> é…ç½®æ–‡ä»¶ä¸ºä¾‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>  <span class="hljs-comment">// é¢„è®¾</span><br>  <span class="hljs-attr">presets</span>: [],<br>&#125;;<br></code></pre></td></tr></table></figure><ol><li>presets é¢„è®¾</li></ol><p>ç®€å•ç†è§£ï¼šå°±æ˜¯ä¸€ç»„ Babel æ’ä»¶, æ‰©å±• Babel åŠŸèƒ½</p><ul><li><code>@babel/preset-env</code>: ä¸€ä¸ªæ™ºèƒ½é¢„è®¾ï¼Œå…è®¸æ‚¨ä½¿ç”¨æœ€æ–°çš„ JavaScriptã€‚</li><li><code>@babel/preset-react</code>ï¼šä¸€ä¸ªç”¨æ¥ç¼–è¯‘ React jsx è¯­æ³•çš„é¢„è®¾</li><li><code>@babel/preset-typescript</code>ï¼šä¸€ä¸ªç”¨æ¥ç¼–è¯‘ TypeScript è¯­æ³•çš„é¢„è®¾</li></ul><h3 id="3-åœ¨-Webpack-ä¸­ä½¿ç”¨-1"><a href="#3-åœ¨-Webpack-ä¸­ä½¿ç”¨-1" class="headerlink" title="3. åœ¨ Webpack ä¸­ä½¿ç”¨"></a>3. åœ¨ Webpack ä¸­ä½¿ç”¨</h3><ol><li>ä¸‹è½½åŒ…</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs :no-line-numbers">npm i babel-loader @babel/core @babel/preset-env -D<br></code></pre></td></tr></table></figure><ol start="2"><li>å®šä¹‰ Babel é…ç½®æ–‡ä»¶</li></ol><ul><li>babel.config.js</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>  <span class="hljs-attr">presets</span>: [<span class="hljs-string">&quot;@babel/preset-env&quot;</span>],<br>&#125;;<br></code></pre></td></tr></table></figure><ol start="3"><li>ä¿®æ”¹ js æ–‡ä»¶ä»£ç </li></ol><ul><li>main.js</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> count <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./js/count&quot;</span>;<br><span class="hljs-keyword">import</span> sum <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./js/sum&quot;</span>;<br><span class="hljs-comment">// å¼•å…¥èµ„æºï¼ŒWebpackæ‰ä¼šå¯¹å…¶æ‰“åŒ…</span><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;./css/iconfont.css&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;./css/index.css&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;./less/index.less&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;./sass/index.sass&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;./sass/index.scss&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;./styl/index.styl&quot;</span>;<br><br><span class="hljs-keyword">const</span> result1 = <span class="hljs-title function_">count</span>(<span class="hljs-number">2</span>, <span class="hljs-number">1</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(result1);<br><span class="hljs-keyword">const</span> result2 = <span class="hljs-title function_">sum</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(result2);<br></code></pre></td></tr></table></figure><ol start="4"><li>é…ç½®</li></ol><ul><li>webpack.config.js</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js">&#123;<br>    <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.js$/</span>,<br>    <span class="hljs-attr">exclude</span>: <span class="hljs-regexp">/node_modules/</span>, <span class="hljs-comment">// æ’é™¤node_modulesä»£ç ä¸ç¼–è¯‘</span><br>    <span class="hljs-attr">loader</span>: <span class="hljs-string">&quot;babel-loader&quot;</span>,<br>&#125;,<br><br></code></pre></td></tr></table></figure><ol start="5"><li>è¿è¡ŒæŒ‡ä»¤</li></ol><p>æ‰“å¼€æ‰“åŒ…åçš„ <code>dist/static/js/main.js</code> æ–‡ä»¶æŸ¥çœ‹ï¼Œä¼šå‘ç°ç®­å¤´å‡½æ•°ç­‰ ES6 è¯­æ³•å·²ç»è½¬æ¢äº†</p><h1 id="å¤„ç†-Html-èµ„æºï¼Œè‡ªåŠ¨å¼•å…¥æ‰“åŒ…"><a href="#å¤„ç†-Html-èµ„æºï¼Œè‡ªåŠ¨å¼•å…¥æ‰“åŒ…" class="headerlink" title="å¤„ç† Html èµ„æºï¼Œè‡ªåŠ¨å¼•å…¥æ‰“åŒ…"></a>å¤„ç† Html èµ„æºï¼Œè‡ªåŠ¨å¼•å…¥æ‰“åŒ…</h1><h2 id="1-ä¸‹è½½åŒ…-npm-i-html-webpack-plugin-D"><a href="#1-ä¸‹è½½åŒ…-npm-i-html-webpack-plugin-D" class="headerlink" title="1. ä¸‹è½½åŒ… npm i html-webpack-plugin -D"></a>1. ä¸‹è½½åŒ… <code>npm i html-webpack-plugin -D</code></h2><h2 id="2-é…ç½®"><a href="#2-é…ç½®" class="headerlink" title="2. é…ç½®"></a>2. é…ç½®</h2><ul><li>webpack.config.js</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-attr">plugins</span>: [<br><br>  <span class="hljs-keyword">new</span> <span class="hljs-title class_">HtmlWebpackPlugin</span>(&#123;<br>    <span class="hljs-comment">// ä»¥ public/index.html ä¸ºæ¨¡æ¿åˆ›å»ºæ–‡ä»¶</span><br>    <span class="hljs-comment">// æ–°çš„htmlæ–‡ä»¶æœ‰ä¸¤ä¸ªç‰¹ç‚¹ï¼š1. å†…å®¹å’Œæºæ–‡ä»¶ä¸€è‡´ 2. è‡ªåŠ¨å¼•å…¥æ‰“åŒ…ç”Ÿæˆçš„jsç­‰èµ„æº</span><br>    <span class="hljs-attr">template</span>: path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">&quot;public/index.html&quot;</span>),<br>  &#125;),<br>],<br><br></code></pre></td></tr></table></figure><h2 id="3-ä¿®æ”¹-index-html"><a href="#3-ä¿®æ”¹-index-html" class="headerlink" title="3. ä¿®æ”¹ index.html"></a>3. ä¿®æ”¹ index.html</h2><p>å»æ‰å¼•å…¥çš„ js æ–‡ä»¶ï¼Œå› ä¸º HtmlWebpackPlugin ä¼šè‡ªåŠ¨å¼•å…¥</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>webpack5<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Hello Webpack5<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;box1&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;box2&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;box3&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;box4&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;box5&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;iconfont icon-arrow-down&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;iconfont icon-ashbin&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;iconfont icon-browse&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="4-è¿è¡ŒæŒ‡ä»¤"><a href="#4-è¿è¡ŒæŒ‡ä»¤" class="headerlink" title="4. è¿è¡ŒæŒ‡ä»¤"></a>4. è¿è¡ŒæŒ‡ä»¤</h2><p>æ­¤æ—¶ dist ç›®å½•å°±ä¼šè¾“å‡ºä¸€ä¸ª index.html æ–‡ä»¶<br><code>Tips</code>ï¼šè‡ªåŠ¨å¼•å…¥çš„ script é‡Œå«æœ‰ defer å±æ€§ï¼Œä¸‹è½½åä»£ç å¹¶ä¸ä¼šç«‹åˆ»æ‰§è¡Œï¼Œç›´åˆ°domåŠ è½½å®Œæˆï¼Œonloadä¹‹å‰æ‰§è¡Œï¼Œå¹¶ä¸”ä¸ä¼šé˜»å¡å…¶ä»–å¤„ç†è¿‡ç¨‹ï¼Œå¯ä»¥å¹¶è¡Œä¸‹è½½ã€‚å¸¦æœ‰deferå±æ€§çš„scriptæ ‡ç­¾å¯ä»¥æ”¾åˆ°é¡µé¢ä¸­çš„ä»»ä½•ä½ç½®ã€‚</p><h1 id="å¼€å‘æœåŠ¡å™¨-amp-è‡ªåŠ¨åŒ–"><a href="#å¼€å‘æœåŠ¡å™¨-amp-è‡ªåŠ¨åŒ–" class="headerlink" title="å¼€å‘æœåŠ¡å™¨ &amp; è‡ªåŠ¨åŒ–"></a>å¼€å‘æœåŠ¡å™¨ &amp; è‡ªåŠ¨åŒ–</h1><p>æ¯æ¬¡å†™å®Œä»£ç éƒ½éœ€è¦æ‰‹åŠ¨è¾“å…¥æŒ‡ä»¤æ‰èƒ½ç¼–è¯‘ä»£ç ï¼Œä¸ºäº†è®©å…¶è‡ªåŠ¨åŒ–éœ€è¦ dev-server</p><h2 id="1-ä¸‹è½½åŒ…"><a href="#1-ä¸‹è½½åŒ…" class="headerlink" title="1. ä¸‹è½½åŒ…"></a>1. ä¸‹è½½åŒ…</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs :no-line-numbers">npm i webpack-dev-server -D<br></code></pre></td></tr></table></figure><h2 id="2-é…ç½®-1"><a href="#2-é…ç½®-1" class="headerlink" title="2. é…ç½®"></a>2. é…ç½®</h2><ul><li>webpack.config.js</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// å¼€å‘æœåŠ¡å™¨ï¼šä¸ä¼šè¾“å‡ºèµ„æºï¼Œåœ¨å†…å­˜ä¸­ç¼–è¯‘æ‰“åŒ…ï¼›å› ä¸ºä¸è¾“å‡ºèµ„æºï¼Œclearnï¼štrue éœ€è¦æ³¨é‡Šæ‰</span><br>  <span class="hljs-attr">devServer</span>: &#123;<br>    <span class="hljs-attr">host</span>: <span class="hljs-string">&quot;localhost&quot;</span>, <span class="hljs-comment">// å¯åŠ¨æœåŠ¡å™¨åŸŸå</span><br>    <span class="hljs-attr">port</span>: <span class="hljs-string">&quot;3000&quot;</span>, <span class="hljs-comment">// å¯åŠ¨æœåŠ¡å™¨ç«¯å£å·</span><br>    <span class="hljs-attr">open</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// æ˜¯å¦è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨</span><br>  &#125;,<br></code></pre></td></tr></table></figure><h2 id="3-è¿è¡ŒæŒ‡ä»¤"><a href="#3-è¿è¡ŒæŒ‡ä»¤" class="headerlink" title="3. è¿è¡ŒæŒ‡ä»¤"></a>3. è¿è¡ŒæŒ‡ä»¤</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs :no-line-numbers">npx webpack serve<br></code></pre></td></tr></table></figure><p><strong>æ³¨æ„è¿è¡ŒæŒ‡ä»¤å‘ç”Ÿäº†å˜åŒ–</strong></p><p>ä½¿ç”¨å¼€å‘æœåŠ¡å™¨æ—¶ï¼Œæ‰€æœ‰ä»£ç éƒ½ä¼šåœ¨å†…å­˜ä¸­ç¼–è¯‘æ‰“åŒ…ï¼Œå¹¶ä¸ä¼šè¾“å‡ºåˆ° dist ç›®å½•ä¸‹ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>JavaScriptï¼ŒWebpack</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Webpack5 å…¥é—¨å­¦ä¹ ç¬”è®°ï¼ˆä¸Šï¼‰ï¼šå¤„ç†å›¾ç‰‡å­—ä½“ç­‰èµ„æº</title>
    <link href="/2022/11/23/Webpack5%20%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%8A%EF%BC%89%EF%BC%9A%E5%A4%84%E7%90%86%E5%9B%BE%E7%89%87%E5%AD%97%E4%BD%93%E7%AD%89%E8%B5%84%E6%BA%90/"/>
    <url>/2022/11/23/Webpack5%20%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%8A%EF%BC%89%EF%BC%9A%E5%A4%84%E7%90%86%E5%9B%BE%E7%89%87%E5%AD%97%E4%BD%93%E7%AD%89%E8%B5%84%E6%BA%90/</url>
    
    <content type="html"><![CDATA[<h2 id="5-å¤§æ ¸å¿ƒæ¦‚å¿µ"><a href="#5-å¤§æ ¸å¿ƒæ¦‚å¿µ" class="headerlink" title="5 å¤§æ ¸å¿ƒæ¦‚å¿µ"></a>5 å¤§æ ¸å¿ƒæ¦‚å¿µ</h2><ol><li><p>entryï¼ˆå…¥å£ï¼‰ï¼ŒæŒ‡ç¤º Webpack ä»å“ªä¸ªæ–‡ä»¶å¼€å§‹æ‰“åŒ…</p></li><li><p>outputï¼ˆè¾“å‡ºï¼‰ï¼ŒæŒ‡ç¤º Webpack æ‰“åŒ…å®Œçš„æ–‡ä»¶è¾“å‡ºåˆ°å“ªé‡Œå»ï¼Œå¦‚ä½•å‘½åç­‰</p></li><li><p>loaderï¼ˆåŠ è½½å™¨ï¼‰ï¼Œwebpack æœ¬èº«åªèƒ½å¤„ç† jsã€json ç­‰èµ„æºï¼Œå…¶ä»–èµ„æºéœ€è¦å€ŸåŠ© loaderï¼ŒWebpack æ‰èƒ½è§£æ</p></li><li><p>pluginsï¼ˆæ’ä»¶ï¼‰æ‰©å±• Webpack çš„åŠŸèƒ½</p></li><li><p>modeï¼ˆæ¨¡å¼ï¼‰ï¼Œdevelopment å’Œ production</p></li></ol><h2 id="å‡†å¤‡åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºé…ç½®æ–‡ä»¶ï¼šwebpack-config-js"><a href="#å‡†å¤‡åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºé…ç½®æ–‡ä»¶ï¼šwebpack-config-js" class="headerlink" title="å‡†å¤‡åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºé…ç½®æ–‡ä»¶ï¼šwebpack.config.js"></a>å‡†å¤‡åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºé…ç½®æ–‡ä»¶ï¼š<code>webpack.config.js</code></h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// Node.jsçš„æ ¸å¿ƒæ¨¡å—ï¼Œä¸“é—¨ç”¨æ¥å¤„ç†æ–‡ä»¶è·¯å¾„</span><br><span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;path&quot;</span>);<br><br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>  <span class="hljs-comment">// å…¥å£</span><br>  <span class="hljs-comment">// ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„éƒ½è¡Œ</span><br>  <span class="hljs-attr">entry</span>: <span class="hljs-string">&quot;./src/main.js&quot;</span>,<br>  <span class="hljs-comment">// è¾“å‡º</span><br>  <span class="hljs-attr">output</span>: &#123;<br>    <span class="hljs-comment">// path: æ–‡ä»¶è¾“å‡ºç›®å½•ï¼Œå¿…é¡»æ˜¯ç»å¯¹è·¯å¾„</span><br>    <span class="hljs-comment">// path.resolve()æ–¹æ³•è¿”å›ä¸€ä¸ªç»å¯¹è·¯å¾„</span><br>    <span class="hljs-comment">// __dirname å½“å‰æ–‡ä»¶çš„æ–‡ä»¶å¤¹ç»å¯¹è·¯å¾„</span><br>    <span class="hljs-attr">path</span>: path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">&quot;dist&quot;</span>),<br>    <span class="hljs-comment">// filename: è¾“å‡ºæ–‡ä»¶å</span><br>    <span class="hljs-attr">filename</span>: <span class="hljs-string">&quot;main.js&quot;</span>,<br>  &#125;,<br>  <span class="hljs-comment">// åŠ è½½å™¨</span><br>  <span class="hljs-attr">module</span>: &#123;<br>    <span class="hljs-attr">rules</span>: [],<br>  &#125;,<br>  <span class="hljs-comment">// æ’ä»¶</span><br>  <span class="hljs-attr">plugins</span>: [],<br>  <span class="hljs-comment">// æ¨¡å¼</span><br>  <span class="hljs-attr">mode</span>: <span class="hljs-string">&quot;development&quot;</span>, <span class="hljs-comment">// å¼€å‘æ¨¡å¼</span><br>&#125;;<br></code></pre></td></tr></table></figure><p>Webpack æ˜¯åŸºäº Node.js è¿è¡Œçš„ï¼Œæ‰€ä»¥é‡‡ç”¨ Common.js æ¨¡å—åŒ–è§„èŒƒ<br>è¿è¡ŒæŒ‡ä»¤ <code>npx webpack</code><br>é¢ä¼šä»¥ä¸¤ä¸ªæ¨¡å¼æ¥åˆ†åˆ«æ­å»º Webpack çš„é…ç½®ï¼Œå…ˆè¿›è¡Œå¼€å‘æ¨¡å¼ï¼Œå†å®Œæˆç”Ÿäº§æ¨¡å¼</p><h2 id="å¼€å‘æ¨¡å¼ä»‹ç»"><a href="#å¼€å‘æ¨¡å¼ä»‹ç»" class="headerlink" title="å¼€å‘æ¨¡å¼ä»‹ç»"></a>å¼€å‘æ¨¡å¼ä»‹ç»</h2><p>å¼€å‘æ¨¡å¼é¡¾åæ€ä¹‰å°±æ˜¯å¼€å‘ä»£ç æ—¶ä½¿ç”¨çš„æ¨¡å¼ã€‚</p><p>è¿™ä¸ªæ¨¡å¼ä¸‹ä¸»è¦åšä¸¤ä»¶äº‹ï¼š</p><ol><li>ç¼–è¯‘ä»£ç ï¼Œä½¿æµè§ˆå™¨èƒ½è¯†åˆ«è¿è¡Œ</li></ol><p>å¼€å‘æ—¶æœ‰æ ·å¼èµ„æºã€å­—ä½“å›¾æ ‡ã€å›¾ç‰‡èµ„æºã€html èµ„æºç­‰ï¼Œwebpack é»˜è®¤éƒ½ä¸èƒ½å¤„ç†è¿™äº›èµ„æºï¼Œæ‰€ä»¥è¦åŠ è½½é…ç½®æ¥ç¼–è¯‘è¿™äº›èµ„æº</p><ol start="2"><li>ä»£ç è´¨é‡æ£€æŸ¥ï¼Œæ ‘ç«‹ä»£ç è§„èŒƒ</li></ol><p>æå‰æ£€æŸ¥ä»£ç çš„ä¸€äº›éšæ‚£ï¼Œè®©ä»£ç è¿è¡Œæ—¶èƒ½æ›´åŠ å¥å£®ã€‚<br>æå‰æ£€æŸ¥ä»£ç è§„èŒƒå’Œæ ¼å¼ï¼Œç»Ÿä¸€å›¢é˜Ÿç¼–ç é£æ ¼ï¼Œè®©ä»£ç æ›´ä¼˜é›…ç¾è§‚ã€‚</p><h2 id="å¤„ç†æ ·å¼èµ„æºï¼šCssã€Lessã€Sassã€Scssã€Styl"><a href="#å¤„ç†æ ·å¼èµ„æºï¼šCssã€Lessã€Sassã€Scssã€Styl" class="headerlink" title="å¤„ç†æ ·å¼èµ„æºï¼šCssã€Lessã€Sassã€Scssã€Styl"></a>å¤„ç†æ ·å¼èµ„æºï¼šCssã€Lessã€Sassã€Scssã€Styl</h2><h3 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h3><p>Webpack æœ¬èº«æ˜¯ä¸èƒ½è¯†åˆ«æ ·å¼èµ„æºçš„ï¼Œæ‰€ä»¥éœ€è¦å€ŸåŠ© Loader æ¥å¸®åŠ© Webpack è§£ææ ·å¼èµ„æºã€‚æ‰¾ Loader éƒ½åº”è¯¥å»å®˜æ–¹æ–‡æ¡£ä¸­æ‰¾åˆ°å¯¹åº”çš„ Loaderï¼Œç„¶åä½¿ç”¨å®˜æ–¹æ–‡æ¡£(<a href="https://webpack.docschina.org/loaders/)%E6%89%BE%E4%B8%8D%E5%88%B0%E7%9A%84%E8%AF%9D%EF%BC%8C%E5%8F%AF%E4%BB%A5%E4%BB%8E%E7%A4%BE%E5%8C%BA">https://webpack.docschina.org/loaders/)æ‰¾ä¸åˆ°çš„è¯ï¼Œå¯ä»¥ä»ç¤¾åŒº</a> Github ä¸­æœç´¢æŸ¥è¯¢ã€‚</p><h3 id="å¤„ç†-Css-èµ„æº"><a href="#å¤„ç†-Css-èµ„æº" class="headerlink" title="å¤„ç† Css èµ„æº"></a>å¤„ç† Css èµ„æº</h3><h4 id="1-ä¸‹è½½åŒ…ï¼Œéœ€è¦ä¸‹è½½ä¸¤ä¸ª-loader"><a href="#1-ä¸‹è½½åŒ…ï¼Œéœ€è¦ä¸‹è½½ä¸¤ä¸ª-loader" class="headerlink" title="1. ä¸‹è½½åŒ…ï¼Œéœ€è¦ä¸‹è½½ä¸¤ä¸ª loader"></a>1. ä¸‹è½½åŒ…ï¼Œéœ€è¦ä¸‹è½½ä¸¤ä¸ª loader</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs :no-line-numbers">npm i css-loader style-loader -D<br></code></pre></td></tr></table></figure><h4 id="2-åŠŸèƒ½ä»‹ç»"><a href="#2-åŠŸèƒ½ä»‹ç»" class="headerlink" title="2. åŠŸèƒ½ä»‹ç»"></a>2. åŠŸèƒ½ä»‹ç»</h4><ul><li><code>css-loader</code>ï¼šè´Ÿè´£å°† Css æ–‡ä»¶ç¼–è¯‘æˆ Webpack èƒ½è¯†åˆ«çš„æ¨¡å—</li><li><code>style-loader</code>ï¼šä¼šåŠ¨æ€åˆ›å»ºä¸€ä¸ª Style æ ‡ç­¾ï¼Œé‡Œé¢æ”¾ç½® Webpack ä¸­ Css æ¨¡å—å†…å®¹</li></ul><p>æ­¤æ—¶æ ·å¼å°±ä¼šä»¥ Style æ ‡ç­¾çš„å½¢å¼åœ¨é¡µé¢ä¸Šç”Ÿæ•ˆ</p><h4 id="3-é…ç½®"><a href="#3-é…ç½®" class="headerlink" title="3. é…ç½®"></a>3. é…ç½®</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs js&#123;11-16&#125;">const path = require(&quot;path&quot;);<br><br>module.exports = &#123;<br>  entry: &quot;./src/main.js&quot;,<br>  output: &#123;<br>    path: path.resolve(__dirname, &quot;dist&quot;),<br>    filename: &quot;main.js&quot;,<br>  &#125;,<br>  module: &#123;<br>    rules: [<br>      &#123;<br>        // ç”¨æ¥åŒ¹é… .css ç»“å°¾çš„æ–‡ä»¶<br>        test: /\.css$/,<br>        // use æ•°ç»„é‡Œé¢ Loader æ‰§è¡Œé¡ºåºæ˜¯ä»å³åˆ°å·¦<br>        use: [&quot;style-loader&quot;, &quot;css-loader&quot;],<br>      &#125;,<br>    ],<br>  &#125;,<br>  plugins: [],<br>  mode: &quot;development&quot;,<br>&#125;;<br></code></pre></td></tr></table></figure><p>æ·»åŠ  Css èµ„æº ç„¶åè¿è¡ŒæŸ¥çœ‹æ•ˆæœ</p><h3 id="å¤„ç†-Less-èµ„æº"><a href="#å¤„ç†-Less-èµ„æº" class="headerlink" title="å¤„ç† Less èµ„æº"></a>å¤„ç† Less èµ„æº</h3><ol><li>ä¸‹è½½åŒ… <code>npm i less-loader -D</code></li></ol><ul><li><code>less-loader</code>ï¼šè´Ÿè´£å°† Less æ–‡ä»¶ç¼–è¯‘æˆ Css æ–‡ä»¶</li></ul><ol start="2"><li>é…ç½®<br>åœ¨ module rules æ•°ç»„é‡Œæ·»åŠ å¦‚ä¸‹å¯¹è±¡<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js">&#123;<br>    <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.less$/</span>,<br>    <span class="hljs-attr">use</span>: [<span class="hljs-string">&quot;style-loader&quot;</span>, <span class="hljs-string">&quot;css-loader&quot;</span>, <span class="hljs-string">&quot;less-loader&quot;</span>],<br>&#125;,<br></code></pre></td></tr></table></figure></li><li>æ·»åŠ lessèµ„æºï¼Œç„¶åè¿è¡ŒæŒ‡ä»¤æŸ¥çœ‹æ•ˆæœ</li></ol><h3 id="å¤„ç†-Sass-å’Œ-Scssèµ„æº"><a href="#å¤„ç†-Sass-å’Œ-Scssèµ„æº" class="headerlink" title="å¤„ç† Sass å’Œ Scssèµ„æº"></a>å¤„ç† Sass å’Œ Scssèµ„æº</h3><ol><li>ä¸‹è½½åŒ… <code>npm i sass-loader sass -D</code></li></ol><ul><li><code>sass-loader</code>ï¼šè´Ÿè´£å°† Sass æ–‡ä»¶ç¼–è¯‘æˆ css æ–‡ä»¶</li><li><code>sass</code>ï¼š<code>sass-loader</code> ä¾èµ– <code>sass</code> è¿›è¡Œç¼–è¯‘</li></ul><ol start="2"><li>é…ç½®ï¼Œåœ¨ module rules æ•°ç»„é‡Œæ·»åŠ å¦‚ä¸‹å¯¹è±¡</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js">&#123;<br>    <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.s[ac]ss$/</span>,<br>    <span class="hljs-attr">use</span>: [<span class="hljs-string">&quot;style-loader&quot;</span>, <span class="hljs-string">&quot;css-loader&quot;</span>, <span class="hljs-string">&quot;sass-loader&quot;</span>],<br>&#125;,<br></code></pre></td></tr></table></figure><ol start="3"><li>æ·»åŠ  Sass èµ„æºï¼Œç„¶åè¿è¡ŒæŒ‡ä»¤æŸ¥çœ‹æ•ˆæœ</li></ol><h3 id="å¤„ç†-Styl-èµ„æº"><a href="#å¤„ç†-Styl-èµ„æº" class="headerlink" title="å¤„ç† Styl èµ„æº"></a>å¤„ç† Styl èµ„æº</h3><ol><li>ä¸‹è½½åŒ… <code>npm i stylus-loader -D</code></li></ol><ul><li><code>stylus-loader</code>ï¼šè´Ÿè´£å°† Styl æ–‡ä»¶ç¼–è¯‘æˆ Css æ–‡ä»¶</li></ul><ol start="2"><li>é…ç½®ï¼Œåœ¨ module rules æ•°ç»„é‡Œæ·»åŠ å¦‚ä¸‹å¯¹è±¡</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js">&#123;<br>    <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.s[ac]ss$/</span>,<br>    <span class="hljs-attr">use</span>: [<span class="hljs-string">&quot;style-loader&quot;</span>, <span class="hljs-string">&quot;css-loader&quot;</span>, <span class="hljs-string">&quot;sass-loader&quot;</span>],<br>&#125;,<br></code></pre></td></tr></table></figure><ol start="3"><li>æ·»åŠ  Styl èµ„æºï¼Œç„¶åè¿è¡ŒæŒ‡ä»¤æŸ¥çœ‹æ•ˆæœ</li></ol><h3 id="å¤„ç†å›¾ç‰‡èµ„æº"><a href="#å¤„ç†å›¾ç‰‡èµ„æº" class="headerlink" title="å¤„ç†å›¾ç‰‡èµ„æº"></a>å¤„ç†å›¾ç‰‡èµ„æº</h3><p>Webpack4 æ˜¯é€šè¿‡ <code>file-loader</code> å’Œ <code>url-loader</code> è¿›è¡Œå¤„ç†çš„ã€‚ Webpack5 å·²ç»å°†ä¸¤ä¸ª Loader åŠŸèƒ½å†…ç½®åˆ° Webpack é‡Œäº†ï¼Œåªéœ€ç®€å•é…ç½®å³å¯ä½¿ç”¨ã€‚</p><ol><li>é…ç½®</li></ol><figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs coq">&#123;<br>    test: /\.(png|<span class="hljs-type">jpe</span>?g|<span class="hljs-type">gif</span>|<span class="hljs-type">webp</span>)$/,<br>    type: <span class="hljs-string">&quot;asset&quot;</span>,<br>&#125;,<br></code></pre></td></tr></table></figure><ol start="2"><li>æ·»åŠ å›¾ç‰‡èµ„æº</li></ol><ul><li>src&#x2F;images&#x2F;1.jpeg</li><li>src&#x2F;images&#x2F;2.png</li><li>src&#x2F;images&#x2F;3.gif</li></ul><ol start="3"><li>ä½¿ç”¨å›¾ç‰‡èµ„æº</li></ol><ul><li>src&#x2F;less&#x2F;index.less</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.box2</span> &#123;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;<br>  <span class="hljs-attribute">background-image</span>: <span class="hljs-built_in">url</span>(<span class="hljs-string">&quot;../images/1.jpeg&quot;</span>);<br>  <span class="hljs-attribute">background-size</span>: cover;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>src&#x2F;sass&#x2F;index.sass</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.box3</span><br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span><br>  height: <span class="hljs-number">100px</span><br>  background-image: <span class="hljs-built_in">url</span>(<span class="hljs-string">&quot;../images/2.png&quot;</span>)<br>  background-size: cover<br></code></pre></td></tr></table></figure><ul><li>src&#x2F;styl&#x2F;index.styl</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.box5</span><br>  <span class="hljs-attribute">width</span> <span class="hljs-number">100px</span><br>  <span class="hljs-attribute">height</span> <span class="hljs-number">100px</span><br>  <span class="hljs-attribute">background-image</span> url(&quot;../images/<span class="hljs-number">3</span><span class="hljs-selector-class">.gif</span>&quot;)<br>  <span class="hljs-attribute">background-size</span> cover<br></code></pre></td></tr></table></figure><ol start="4"><li>è¿è¡ŒæŒ‡ä»¤åæŸ¥çœ‹èµ„æºè¾“å‡ºæƒ…å†µ</li></ol><p>æ­¤æ—¶å¦‚æœæŸ¥çœ‹ dist ç›®å½•çš„è¯ï¼Œä¼šå‘ç°å¤šäº†ä¸‰å¼ å›¾ç‰‡èµ„æºã€‚å› ä¸º Webpack ä¼šå°†æ‰€æœ‰æ‰“åŒ…å¥½çš„èµ„æºè¾“å‡ºåˆ° dist ç›®å½•ä¸‹ã€‚ä¸ºä»€ä¹ˆæ ·å¼èµ„æºæ²¡æœ‰å‘¢ï¼Ÿå› ä¸ºç»è¿‡ <code>style-loader</code> çš„å¤„ç†ï¼Œæ ·å¼èµ„æºæ‰“åŒ…åˆ° main.js é‡Œé¢å»äº†ï¼Œæ‰€ä»¥æ²¡æœ‰é¢å¤–è¾“å‡ºå‡ºæ¥ã€‚</p><ol start="5"><li>å¯¹å›¾ç‰‡èµ„æºè¿›è¡Œä¼˜åŒ–</li></ol><p>å°†å°äºæŸä¸ªå¤§å°çš„å›¾ç‰‡è½¬åŒ–æˆ data URI å½¢å¼ï¼ˆBase64 æ ¼å¼ï¼‰, ä¼˜ç‚¹æ˜¯å‡å°‘è¯·æ±‚æ•°é‡ï¼Œç¼ºç‚¹æ˜¯ä½“ç§¯å˜å¾—æ›´å¤§ã€‚</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs dts"><span class="hljs-punctuation">&#123;</span><br><span class="hljs-symbol">      test:</span> /\.(png|jpe?g|gif|webp)$/,<br><span class="hljs-symbol">      type:</span> <span class="hljs-string">&quot;asset&quot;</span>,<br><span class="hljs-symbol">      parser:</span> <span class="hljs-punctuation">&#123;</span><br><span class="hljs-symbol">        dataUrlCondition:</span> <span class="hljs-punctuation">&#123;</span><br><span class="hljs-symbol">          maxSize:</span> <span class="hljs-number">10</span> * <span class="hljs-number">1024</span> <span class="hljs-comment">// å°äº10kbçš„å›¾ç‰‡ä¼šè¢«base64å¤„ç†</span><br>        <span class="hljs-punctuation">&#125;</span><br>      <span class="hljs-punctuation">&#125;</span><br>    <span class="hljs-punctuation">&#125;</span>,<br></code></pre></td></tr></table></figure><p>æ­¤æ—¶è¾“å‡ºçš„å›¾ç‰‡æ–‡ä»¶å°±åªæœ‰ä¸¤å¼ ï¼Œæœ‰ä¸€å¼ å›¾ç‰‡ä»¥ data URI å½¢å¼å†…ç½®åˆ° js ä¸­äº†<br>ï¼ˆæ³¨æ„ï¼šéœ€è¦å°†ä¸Šæ¬¡æ‰“åŒ…ç”Ÿæˆçš„æ–‡ä»¶æ¸…ç©ºï¼Œå†é‡æ–°æ‰“åŒ…æ‰æœ‰æ•ˆæœï¼‰</p><h3 id="ä¿®æ”¹è¾“å‡ºèµ„æºçš„åç§°å’Œè·¯å¾„"><a href="#ä¿®æ”¹è¾“å‡ºèµ„æºçš„åç§°å’Œè·¯å¾„" class="headerlink" title="ä¿®æ”¹è¾“å‡ºèµ„æºçš„åç§°å’Œè·¯å¾„"></a>ä¿®æ”¹è¾“å‡ºèµ„æºçš„åç§°å’Œè·¯å¾„</h3><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs awk">filename: <span class="hljs-string">&quot;static/js/main.js&quot;</span>, <span class="hljs-regexp">//</span> å°† js æ–‡ä»¶è¾“å‡ºåˆ° static/js ç›®å½•ä¸­<br><br>&#123;<br>    test: <span class="hljs-regexp">/\.(png|jpe?g|gif|webp)$/</span>,<br>    type: <span class="hljs-string">&quot;asset&quot;</span>,<br>    parser: &#123;<br>        dataUrlCondition: &#123;<br>        maxSize: <span class="hljs-number">10</span> * <span class="hljs-number">1024</span>, <span class="hljs-regexp">//</span> å°äº<span class="hljs-number">10</span>kbçš„å›¾ç‰‡ä¼šè¢«base64å¤„ç†<br>        &#125;,<br>    &#125;,<br>    generator: &#123;<br>        <span class="hljs-regexp">//</span> å°†å›¾ç‰‡æ–‡ä»¶è¾“å‡ºåˆ° static/imgs ç›®å½•ä¸­<br>        <span class="hljs-regexp">//</span> å°†å›¾ç‰‡æ–‡ä»¶å‘½å [hash:<span class="hljs-number">8</span>][ext][query]<br>        <span class="hljs-regexp">//</span> [hash:<span class="hljs-number">8</span>]: hashå€¼å–<span class="hljs-number">8</span>ä½<br>        <span class="hljs-regexp">//</span> [ext]: ä½¿ç”¨ä¹‹å‰çš„æ–‡ä»¶æ‰©å±•å<br>        <span class="hljs-regexp">//</span> [query]: æ·»åŠ ä¹‹å‰çš„queryå‚æ•°<br>        filename: <span class="hljs-string">&quot;static/imgs/[hash:8][ext][query]&quot;</span>,<br>    &#125;,<br>&#125;,<br></code></pre></td></tr></table></figure><h3 id="è‡ªåŠ¨æ¸…ç©ºæ‰“åŒ…ä¸Šæ¬¡çš„èµ„æº"><a href="#è‡ªåŠ¨æ¸…ç©ºæ‰“åŒ…ä¸Šæ¬¡çš„èµ„æº" class="headerlink" title="è‡ªåŠ¨æ¸…ç©ºæ‰“åŒ…ä¸Šæ¬¡çš„èµ„æº"></a>è‡ªåŠ¨æ¸…ç©ºæ‰“åŒ…ä¸Šæ¬¡çš„èµ„æº</h3><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs dts"><span class="hljs-symbol">output:</span> <span class="hljs-punctuation">&#123;</span><br><span class="hljs-symbol">   path:</span> path.resolve(__dirname, <span class="hljs-string">&quot;dist&quot;</span>),<br><span class="hljs-symbol">   filename:</span> <span class="hljs-string">&quot;static/js/main.js&quot;</span>,<br><span class="hljs-symbol">   clean:</span> true, <span class="hljs-comment">// è‡ªåŠ¨å°†ä¸Šæ¬¡æ‰“åŒ…ç›®å½•èµ„æºæ¸…ç©º</span><br> <span class="hljs-punctuation">&#125;</span>,<br></code></pre></td></tr></table></figure><h3 id="å¤„ç†å­—ä½“å›¾æ ‡èµ„æº"><a href="#å¤„ç†å­—ä½“å›¾æ ‡èµ„æº" class="headerlink" title="å¤„ç†å­—ä½“å›¾æ ‡èµ„æº"></a>å¤„ç†å­—ä½“å›¾æ ‡èµ„æº</h3><ol><li>ä»<a href="https://www.iconfont.cn/">é˜¿é‡Œå·´å·´çŸ¢é‡å›¾æ ‡åº“</a>ä¸‹è½½å­—ä½“å›¾æ ‡æ–‡ä»¶</li><li>æ·»åŠ å­—ä½“å›¾æ ‡èµ„æº</li></ol><ul><li><p>src&#x2F;fonts&#x2F;iconfont.ttf</p></li><li><p>src&#x2F;fonts&#x2F;iconfont.woff</p></li><li><p>src&#x2F;fonts&#x2F;iconfont.woff2</p></li><li><p>src&#x2F;css&#x2F;iconfont.css<br>æ³¨æ„ä¿®æ”¹å­—ä½“æ–‡ä»¶çš„è·¯å¾„</p></li></ul><ol start="3"><li>åœ¨jsä¸­å¼•å…¥èµ„æºï¼Œåœ¨htmlä¸­ä½¿ç”¨èµ„æº<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- ä½¿ç”¨å­—ä½“å›¾æ ‡ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;iconfont icon-arrow-down&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;iconfont icon-ashbin&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;iconfont icon-browse&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li>é…ç½®ç„¶åæ‰§è¡ŒæŒ‡ä»¤</li></ol><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs dts"><span class="hljs-punctuation">&#123;</span><br><span class="hljs-symbol">    test:</span> /\.(ttf|woff2?)$/,<br><span class="hljs-symbol">    type:</span> <span class="hljs-string">&quot;asset/resource&quot;</span>,<br><span class="hljs-symbol">    generator:</span> <span class="hljs-punctuation">&#123;</span><br><span class="hljs-symbol">        filename:</span> <span class="hljs-string">&quot;static/media/[hash:8][ext][query]&quot;</span>,<br>    <span class="hljs-punctuation">&#125;</span>,<br><span class="hljs-punctuation">&#125;</span>,<br></code></pre></td></tr></table></figure><p><code>type: &quot;asset/resource&quot;</code>å’Œ<code>type: &quot;asset&quot;</code>çš„åŒºåˆ«ï¼š</p><ol><li><code>type: &quot;asset/resource&quot;</code> ç›¸å½“äº<code>file-loader</code>, å°†æ–‡ä»¶è½¬åŒ–æˆ Webpack èƒ½è¯†åˆ«çš„èµ„æºï¼Œå…¶ä»–ä¸åšå¤„ç†</li><li><code>type: &quot;asset&quot;</code> ç›¸å½“äº<code>url-loader</code>, å°†æ–‡ä»¶è½¬åŒ–æˆ Webpack èƒ½è¯†åˆ«çš„èµ„æºï¼ŒåŒæ—¶å°äºæŸä¸ªå¤§å°çš„èµ„æºä¼šå¤„ç†æˆ data URI å½¢å¼</li></ol><h3 id="å¤„ç†å…¶ä»–éŸ³é¢‘è§†é¢‘èµ„æº"><a href="#å¤„ç†å…¶ä»–éŸ³é¢‘è§†é¢‘èµ„æº" class="headerlink" title="å¤„ç†å…¶ä»–éŸ³é¢‘è§†é¢‘èµ„æº"></a>å¤„ç†å…¶ä»–éŸ³é¢‘è§†é¢‘èµ„æº</h3><p>é…ç½®ï¼šåœ¨ä¸Šä¸€æ­¥çš„è§„åˆ™åŒ¹é…ä¸Šä¿®æ”¹ </p><figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs coq">&#123;<br>    test: /\.(ttf|<span class="hljs-type">woff2</span>?|<span class="hljs-type">map4</span>|<span class="hljs-type">map3</span>|<span class="hljs-type">avi</span>)$/,<br>    type: <span class="hljs-string">&quot;asset/resource&quot;</span>,<br>    generator: &#123;<br>        filename: <span class="hljs-string">&quot;static/media/[hash:8][ext][query]&quot;</span>,<br>    &#125;,<br>&#125;,<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>JavaScriptï¼ŒWebpack</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç”¨csså®ç°é™æ€å’ŒåŠ¨æ€å½©è™¹</title>
    <link href="/2022/11/22/%E7%94%A8css%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E5%BD%A9%E8%99%B9/"/>
    <url>/2022/11/22/%E7%94%A8css%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E5%BD%A9%E8%99%B9/</url>
    
    <content type="html"><![CDATA[<p>å¦‚å›¾ï¼š</p><p><img src="http://tva1.sinaimg.cn/large/006hVAtMly1h8dtmhsyvgj30dc089gnk.jpg" alt="cssç®€å•å½©è™¹æ•ˆæœ"></p><p>ä»£ç ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">    * &#123;</span><br><span class="language-css">        <span class="hljs-attribute">box-sizing</span>: border-box;</span><br><span class="language-css">        <span class="hljs-attribute">margin</span>:auto auto;</span><br><span class="language-css">    &#125;</span><br><span class="language-css">    <span class="hljs-selector-class">.rainbow</span> &#123;</span><br><span class="language-css">        <span class="hljs-attribute">height</span>: <span class="hljs-number">200px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">overflow</span>: hidden;</span><br><span class="language-css">        <span class="hljs-attribute">margin</span>:<span class="hljs-number">100px</span>;</span><br><span class="language-css">    &#125;</span><br><span class="language-css">    <span class="hljs-selector-class">.rainbow</span> <span class="hljs-selector-tag">div</span> &#123;</span><br><span class="language-css">        <span class="hljs-attribute">overflow</span>: hidden;</span><br><span class="language-css">    &#125;</span><br><span class="language-css">    </span><br><span class="language-css">    <span class="hljs-selector-class">.rainbow</span> &gt; <span class="hljs-selector-tag">div</span> &#123;</span><br><span class="language-css">        <span class="hljs-attribute">width</span>: <span class="hljs-number">400px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">height</span>: <span class="hljs-number">400px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#FF0000</span>;</span><br><span class="language-css">        <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">50%</span>;</span><br><span class="language-css">        <span class="hljs-attribute">overflow</span>: hidden;</span><br><span class="language-css">    &#125;</span><br><span class="language-css">    <span class="hljs-selector-class">.rainbow</span> &gt; <span class="hljs-selector-tag">div</span> &gt;  <span class="hljs-selector-tag">div</span> &#123;</span><br><span class="language-css">        <span class="hljs-attribute">width</span>: <span class="hljs-number">380px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">height</span>: <span class="hljs-number">380px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">margin</span>: <span class="hljs-number">10px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#FF7F00</span>;</span><br><span class="language-css">        <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">50%</span>;</span><br><span class="language-css">    &#125;</span><br><span class="language-css"></span><br><span class="language-css">    <span class="hljs-selector-class">.rainbow</span> &gt; <span class="hljs-selector-tag">div</span> &gt;  <span class="hljs-selector-tag">div</span>  &gt; <span class="hljs-selector-tag">div</span> &#123;</span><br><span class="language-css">        <span class="hljs-attribute">width</span>: <span class="hljs-number">360px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">height</span>: <span class="hljs-number">360px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">margin</span>: <span class="hljs-number">10px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">background-color</span>:<span class="hljs-number">#FFFF00</span>;</span><br><span class="language-css">        <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">50%</span>;</span><br><span class="language-css">    &#125;</span><br><span class="language-css"></span><br><span class="language-css">    <span class="hljs-selector-class">.rainbow</span> &gt; <span class="hljs-selector-tag">div</span> &gt;  <span class="hljs-selector-tag">div</span>  &gt; <span class="hljs-selector-tag">div</span> &gt; <span class="hljs-selector-tag">div</span> &#123;</span><br><span class="language-css">        <span class="hljs-attribute">width</span>: <span class="hljs-number">340px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">height</span>: <span class="hljs-number">340px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">margin</span>: <span class="hljs-number">10px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">background-color</span>: greenyellow;</span><br><span class="language-css">        <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">50%</span>;</span><br><span class="language-css">    &#125;</span><br><span class="language-css"></span><br><span class="language-css">    <span class="hljs-selector-class">.rainbow</span> &gt; <span class="hljs-selector-tag">div</span> &gt;  <span class="hljs-selector-tag">div</span>  &gt; <span class="hljs-selector-tag">div</span> &gt; <span class="hljs-selector-tag">div</span> &gt; <span class="hljs-selector-tag">div</span>&#123;</span><br><span class="language-css">        <span class="hljs-attribute">width</span>: <span class="hljs-number">320px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">height</span>: <span class="hljs-number">320px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">margin</span>: <span class="hljs-number">10px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">background-color</span>: cyan;</span><br><span class="language-css">        <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">50%</span>;</span><br><span class="language-css">    &#125;</span><br><span class="language-css"></span><br><span class="language-css">    <span class="hljs-selector-class">.rainbow</span> &gt; <span class="hljs-selector-tag">div</span> &gt;  <span class="hljs-selector-tag">div</span>  &gt; <span class="hljs-selector-tag">div</span> &gt; <span class="hljs-selector-tag">div</span> &gt; <span class="hljs-selector-tag">div</span> &gt; <span class="hljs-selector-tag">div</span>&#123;</span><br><span class="language-css">        <span class="hljs-attribute">width</span>: <span class="hljs-number">300px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">height</span>: <span class="hljs-number">300px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">margin</span>: <span class="hljs-number">10px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">background-color</span>: blue;</span><br><span class="language-css">        <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">50%</span>;</span><br><span class="language-css">    &#125;</span><br><span class="language-css"></span><br><span class="language-css">    <span class="hljs-selector-class">.rainbow</span> &gt; <span class="hljs-selector-tag">div</span> &gt;  <span class="hljs-selector-tag">div</span>  &gt; <span class="hljs-selector-tag">div</span> &gt; <span class="hljs-selector-tag">div</span> &gt; <span class="hljs-selector-tag">div</span> &gt; <span class="hljs-selector-tag">div</span> &gt; <span class="hljs-selector-tag">div</span>&#123;</span><br><span class="language-css">        <span class="hljs-attribute">width</span>: <span class="hljs-number">280px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">height</span>: <span class="hljs-number">280px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">margin</span>: <span class="hljs-number">10px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">background-color</span>: purple;</span><br><span class="language-css">        <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">50%</span>;</span><br><span class="language-css">    &#125;</span><br><span class="language-css"></span><br><span class="language-css">    <span class="hljs-selector-class">.rainbow</span> &gt; <span class="hljs-selector-tag">div</span> &gt;  <span class="hljs-selector-tag">div</span>  &gt; <span class="hljs-selector-tag">div</span> &gt; <span class="hljs-selector-tag">div</span> &gt; <span class="hljs-selector-tag">div</span> &gt; <span class="hljs-selector-tag">div</span> &gt; <span class="hljs-selector-tag">div</span> &gt; <span class="hljs-selector-tag">div</span> &#123;</span><br><span class="language-css">        <span class="hljs-attribute">width</span>: <span class="hljs-number">260px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">height</span>: <span class="hljs-number">260px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">margin</span>: <span class="hljs-number">10px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">background-color</span>: white;</span><br><span class="language-css">        <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">50%</span>;</span><br><span class="language-css">    &#125;</span><br><span class="language-css"></span><br><span class="language-css"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;rainbow&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>                            <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>                                <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br><br>                                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>                            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>                        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>                    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><p>åœ¨æ˜é‡‘ä¸Šçœ‹åˆ°åˆ«äººå®ç°çš„åŠ¨æ€å½©è™¹æ•ˆæœï¼Œè§‰å¾—ä¸é”™ä¹Ÿå®è·µäº†ä¸‹ï¼š</p><p><img src="http://tva1.sinaimg.cn/large/006hVAtMly1h8dtqd9ht5j30ck08vq4b.jpg" alt="cssåŠ¨æ€å½©è™¹"></p><p>æºä»£ç </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">    * &#123;</span><br><span class="language-css">        <span class="hljs-attribute">margin</span>:<span class="hljs-number">0</span>;</span><br><span class="language-css">        <span class="hljs-attribute">padding</span>:<span class="hljs-number">0</span>;</span><br><span class="language-css">    &#125;</span><br><span class="language-css">    <span class="hljs-selector-class">.center</span> &#123;</span><br><span class="language-css">        <span class="hljs-attribute">position</span>: absolute;</span><br><span class="language-css">        <span class="hljs-attribute">top</span>:<span class="hljs-number">40%</span>;</span><br><span class="language-css">        <span class="hljs-attribute">left</span>:<span class="hljs-number">50%</span>;</span><br><span class="language-css">        <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translate</span>(-<span class="hljs-number">50%</span>,-<span class="hljs-number">50%</span>);</span><br><span class="language-css">    &#125;</span><br><span class="language-css">    <span class="hljs-selector-class">.center</span> <span class="hljs-selector-tag">ul</span>&#123;</span><br><span class="language-css">        <span class="hljs-attribute">position</span>: relative;</span><br><span class="language-css">        <span class="hljs-attribute">width</span>:<span class="hljs-number">500px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">height</span>:<span class="hljs-number">320px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">overflow</span>:hidden;</span><br><span class="language-css">        <span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">1px</span> solid <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,.<span class="hljs-number">2</span>);</span><br><span class="language-css">        &#125;</span><br><span class="language-css">    <span class="hljs-selector-class">.center</span> <span class="hljs-selector-tag">ul</span> <span class="hljs-selector-tag">li</span> &#123;</span><br><span class="language-css">        <span class="hljs-attribute">list-style</span>: none;</span><br><span class="language-css">        <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">50%</span>;</span><br><span class="language-css">        <span class="hljs-attribute">border</span>: <span class="hljs-number">20px</span> solid <span class="hljs-number">#000</span>;</span><br><span class="language-css">        <span class="hljs-attribute">position</span>: absolute;</span><br><span class="language-css">        <span class="hljs-attribute">top</span>: <span class="hljs-number">100%</span>;</span><br><span class="language-css">        <span class="hljs-attribute">left</span>: <span class="hljs-number">50%</span>;</span><br><span class="language-css">        <span class="hljs-attribute">border-bottom-color</span>: transparent <span class="hljs-meta">!important</span>;</span><br><span class="language-css">        <span class="hljs-attribute">border-left-color</span>: transparent <span class="hljs-meta">!important</span>;</span><br><span class="language-css">        <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">10px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, .<span class="hljs-number">5</span>);</span><br><span class="language-css">        <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translate</span>(-<span class="hljs-number">50%</span>, -<span class="hljs-number">50%</span>);</span><br><span class="language-css">        <span class="hljs-attribute">animation</span>: animate <span class="hljs-number">5s</span> infinite alternate;</span><br><span class="language-css">    &#125;</span><br><span class="language-css">    <span class="hljs-selector-class">.center</span> <span class="hljs-selector-tag">ul</span> <span class="hljs-selector-tag">li</span><span class="hljs-selector-pseudo">:nth-child</span>(<span class="hljs-number">1</span>) &#123;</span><br><span class="language-css">        <span class="hljs-attribute">width</span>: <span class="hljs-number">80px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">height</span>: <span class="hljs-number">80px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">border-color</span>: <span class="hljs-number">#9400D3</span>;</span><br><span class="language-css">        <span class="hljs-attribute">animation-delay</span>: <span class="hljs-number">0.2s</span>;</span><br><span class="language-css">    &#125;</span><br><span class="language-css"></span><br><span class="language-css">    <span class="hljs-selector-class">.center</span> <span class="hljs-selector-tag">ul</span> <span class="hljs-selector-tag">li</span><span class="hljs-selector-pseudo">:nth-child</span>(<span class="hljs-number">2</span>) &#123;</span><br><span class="language-css">        <span class="hljs-attribute">width</span>: <span class="hljs-number">120px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">height</span>: <span class="hljs-number">120px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">border-color</span>: blue;</span><br><span class="language-css">        <span class="hljs-attribute">animation-delay</span>: <span class="hljs-number">0.4s</span>;</span><br><span class="language-css">    &#125;</span><br><span class="language-css"></span><br><span class="language-css">    <span class="hljs-selector-class">.center</span> <span class="hljs-selector-tag">ul</span> <span class="hljs-selector-tag">li</span><span class="hljs-selector-pseudo">:nth-child</span>(<span class="hljs-number">3</span>) &#123;</span><br><span class="language-css">        <span class="hljs-attribute">width</span>: <span class="hljs-number">160px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">height</span>: <span class="hljs-number">160px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">border-color</span>: cyan;</span><br><span class="language-css">        <span class="hljs-attribute">animation-delay</span>: <span class="hljs-number">0.6s</span>;</span><br><span class="language-css">    &#125;</span><br><span class="language-css">    <span class="hljs-selector-class">.center</span> <span class="hljs-selector-tag">ul</span> <span class="hljs-selector-tag">li</span><span class="hljs-selector-pseudo">:nth-child</span>(<span class="hljs-number">4</span>) &#123;</span><br><span class="language-css">        <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">height</span>: <span class="hljs-number">200px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">border-color</span>: <span class="hljs-number">#00FF00</span>;</span><br><span class="language-css">        <span class="hljs-attribute">animation-delay</span>: <span class="hljs-number">0.8s</span>;</span><br><span class="language-css">    &#125;</span><br><span class="language-css">    <span class="hljs-selector-class">.center</span> <span class="hljs-selector-tag">ul</span> <span class="hljs-selector-tag">li</span><span class="hljs-selector-pseudo">:nth-child</span>(<span class="hljs-number">5</span>) &#123;</span><br><span class="language-css">        <span class="hljs-attribute">width</span>: <span class="hljs-number">240px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">height</span>: <span class="hljs-number">240px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">border-color</span>:<span class="hljs-number">#FFFF00</span>;</span><br><span class="language-css">        <span class="hljs-attribute">animation-delay</span>: <span class="hljs-number">1s</span>;</span><br><span class="language-css">    &#125;</span><br><span class="language-css">    <span class="hljs-selector-class">.center</span> <span class="hljs-selector-tag">ul</span> <span class="hljs-selector-tag">li</span><span class="hljs-selector-pseudo">:nth-child</span>(<span class="hljs-number">6</span>) &#123;</span><br><span class="language-css">        <span class="hljs-attribute">width</span>: <span class="hljs-number">280px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">height</span>: <span class="hljs-number">280px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">border-color</span>: <span class="hljs-number">#FF7F00</span>;</span><br><span class="language-css">        <span class="hljs-attribute">animation-delay</span>: <span class="hljs-number">1.2s</span>;</span><br><span class="language-css">    &#125;</span><br><span class="language-css">    <span class="hljs-selector-class">.center</span> <span class="hljs-selector-tag">ul</span> <span class="hljs-selector-tag">li</span><span class="hljs-selector-pseudo">:nth-child</span>(<span class="hljs-number">7</span>) &#123;</span><br><span class="language-css">        <span class="hljs-attribute">width</span>: <span class="hljs-number">320px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">height</span>: <span class="hljs-number">320px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">border-color</span>:<span class="hljs-number">#FF0000</span>;</span><br><span class="language-css">        <span class="hljs-attribute">animation-delay</span>: <span class="hljs-number">1.4s</span>;</span><br><span class="language-css">    &#125;</span><br><span class="language-css">    <span class="hljs-keyword">@keyframes</span> animate &#123;</span><br><span class="language-css">    <span class="hljs-number">0%</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translate</span>(-<span class="hljs-number">50%</span>, -<span class="hljs-number">50%</span>) <span class="hljs-built_in">rotate</span>(-<span class="hljs-number">45deg</span>);</span><br><span class="language-css">    &#125;</span><br><span class="language-css">    <span class="hljs-number">100%</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translate</span>(-<span class="hljs-number">50%</span>, -<span class="hljs-number">50%</span>) <span class="hljs-built_in">rotate</span>(<span class="hljs-number">315deg</span>);</span><br><span class="language-css">    &#125;</span><br><span class="language-css">&#125;</span><br><span class="language-css"></span><br><span class="language-css"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;center&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><p>é€šè¿‡è®¾ç½®liçš„borderå±æ€§ï¼Œæ¸²æŸ“äº†ä¸€ä¸ª20pxçš„è¾¹æ¡†ï¼Œç„¶åè®¾ç½®borderå·¦ä¾§å’Œåº•éƒ¨çš„é¢œè‰²ä¸ºé€æ˜è‰²ï¼Œå¹¶å°†border-radiusçš„è®¾ç½®ä¸º50%å½¢æˆä¸€ä¸ªåŠåœ†ã€‚</p><p>åŠ¨ç”»æ•ˆæœç”¨çš„æ˜¯CSS3ä¸­çš„animationåŠ¨ç”»å±æ€§ï¼Œé€šè¿‡ @keyfroms å…³é”®è¯å®šä¹‰ç›¸å…³åŠ¨ç”»ï¼Œç„¶åç”¨ animationæ¥æ‰§è¡Œã€‚æœ€åå†ç»™æ¯ä¸ªliå•ç‹¬æ·»åŠ ä¸€ä¸ªå»¶è¿Ÿæ‰§è¡Œçš„animation-delayå±æ€§ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>JavaScript æ•°ç»„å»é‡ã€æ‰å¹³åŒ–å®é™…åº”ç”¨</title>
    <link href="/2022/11/20/JavaScript%20%E6%95%B0%E7%BB%84%E5%8E%BB%E9%87%8D%E3%80%81%E6%89%81%E5%B9%B3%E5%8C%96%E5%AE%9E%E9%99%85%E5%BA%94%E7%94%A8/"/>
    <url>/2022/11/20/JavaScript%20%E6%95%B0%E7%BB%84%E5%8E%BB%E9%87%8D%E3%80%81%E6%89%81%E5%B9%B3%E5%8C%96%E5%AE%9E%E9%99%85%E5%BA%94%E7%94%A8/</url>
    
    <content type="html"><![CDATA[<h3 id="1-æ•°ç»„å»é‡"><a href="#1-æ•°ç»„å»é‡" class="headerlink" title="1.æ•°ç»„å»é‡"></a>1.æ•°ç»„å»é‡</h3><h4 id="åˆ©ç”¨set"><a href="#åˆ©ç”¨set" class="headerlink" title="åˆ©ç”¨set"></a>åˆ©ç”¨set</h4><figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs haxe"><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">2</span>,<span class="hljs-number">9</span>]<br><span class="hljs-keyword">var</span> <span class="hljs-keyword">new</span><span class="hljs-type">arr</span> = [...<span class="hljs-keyword">new</span> <span class="hljs-type">Set</span>(arr)]<br>console.log(<span class="hljs-keyword">new</span><span class="hljs-type">arr</span>);<span class="hljs-comment">//[1, 2, 3, 9]</span><br></code></pre></td></tr></table></figure><h4 id="åˆ©ç”¨indexOf"><a href="#åˆ©ç”¨indexOf" class="headerlink" title="åˆ©ç”¨indexOf"></a>åˆ©ç”¨indexOf</h4><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">2</span>,<span class="hljs-number">9</span>]<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">fn</span>(<span class="hljs-params">arr</span>)&#123;<br>    <span class="hljs-keyword">var</span> newarr = []<br>    arr.<span class="hljs-built_in">filter</span>(<span class="hljs-function">(<span class="hljs-params">item,index</span>)=&gt;</span>&#123;<br>        <span class="hljs-keyword">if</span>(newarr.<span class="hljs-built_in">indexOf</span>(item)==<span class="hljs-number">-1</span>)&#123;<br>            newarr.<span class="hljs-built_in">push</span>(item)<br>        &#125;<br>    &#125;)<br>    <span class="hljs-keyword">return</span> newarr<br>&#125;<br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(fn(arr));<span class="hljs-comment">//[1, 2, 3, 9]</span><br></code></pre></td></tr></table></figure><h4 id="åˆ©ç”¨includes"><a href="#åˆ©ç”¨includes" class="headerlink" title="åˆ©ç”¨includes"></a>åˆ©ç”¨includes</h4><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-keyword">var</span> arr=[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">2</span>,<span class="hljs-number">9</span>]<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">fn</span>(<span class="hljs-params">arr</span>)&#123;<br>    <span class="hljs-keyword">var</span> newarr=[]<br>    arr.<span class="hljs-built_in">filter</span>(<span class="hljs-function">(<span class="hljs-params">item,index</span>)=&gt;</span>&#123;<br>        <span class="hljs-keyword">if</span>(!newarr.<span class="hljs-built_in">includes</span>(item))&#123;<br>            newarr.<span class="hljs-built_in">push</span>(item)<br>        &#125;<br>    &#125;)<br>    <span class="hljs-keyword">return</span> newarr<br>&#125;<br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(fn(arr));<br></code></pre></td></tr></table></figure><h4 id="åˆ©ç”¨reduce"><a href="#åˆ©ç”¨reduce" class="headerlink" title="åˆ©ç”¨reduce"></a>åˆ©ç”¨reduce</h4><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-keyword">var</span> arr=[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">2</span>,<span class="hljs-number">9</span>]<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">fn</span>(<span class="hljs-params">arr</span>)&#123;<br>    <span class="hljs-keyword">var</span> newarr=[]<br>    arr.<span class="hljs-built_in">sort</span>().<span class="hljs-built_in">reduce</span>(<span class="hljs-function">(<span class="hljs-params">pre,value,index</span>)=&gt;</span>&#123;<br>        <span class="hljs-comment">//æ¯”è¾ƒpreä¸­æœ€åä¸€ä¸ªå…ƒç´ å’Œå½“å‰çš„å€¼æ˜¯å¦ç›¸ç­‰ï¼Œä¸ç›¸ç­‰åŠ å…¥æ–°æ•°ç»„</span><br>         <span class="hljs-keyword">if</span> (pre[index<span class="hljs-number">-1</span>]!==value) &#123;<br>            newarr.<span class="hljs-built_in">push</span>(value)<br>         &#125;<br>         <span class="hljs-keyword">return</span> newarr<br>    &#125;,[])<br>    <span class="hljs-keyword">return</span> newarr<br>&#125;<br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(fn(arr));<br></code></pre></td></tr></table></figure><h3 id="2-æ•°ç»„æ‰å¹³åŒ–"><a href="#2-æ•°ç»„æ‰å¹³åŒ–" class="headerlink" title="2.æ•°ç»„æ‰å¹³åŒ–"></a>2.æ•°ç»„æ‰å¹³åŒ–</h3><h4 id="åˆ©ç”¨flat"><a href="#åˆ©ç”¨flat" class="headerlink" title="åˆ©ç”¨flat"></a>åˆ©ç”¨flat</h4><p>æ³¨æ„æ­¤apiä¸ä¼ å‚æ•°å°±åªèƒ½æ·±åº¦åˆ°1ï¼Œå‚æ•°ä»£è¡¨ç€æ·±åº¦ï¼Œå½“ä¸çŸ¥é“æ·±åº¦æ—¶å¯ä»¥ä¼ Infinity</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">var</span> arr=[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">2</span>,<span class="hljs-number">9</span>,[<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,[<span class="hljs-number">1</span>]]]<br><span class="hljs-attribute">console</span>.log(arr.flat());//[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">9</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, Array(<span class="hljs-number">1</span>)]<br><span class="hljs-attribute">var</span> arr=[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">2</span>,<span class="hljs-number">9</span>,[<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,[<span class="hljs-number">1</span>]]] <br><span class="hljs-attribute">console</span>.log(arr.flat(Infinity));//[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">9</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>]<br></code></pre></td></tr></table></figure><p>flatå‡½æ•°ä¼šé»˜è®¤å°†åŸæ•°ç»„ä¸­çš„ç©ºå€¼åˆ é™¤ï¼Œæ¼”ç¤ºæ•ˆæœå¦‚ä¸‹</p><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver">let <span class="hljs-keyword">a</span> = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,,<span class="hljs-number">6</span>]<br>console.<span class="hljs-built_in">log</span>(<span class="hljs-keyword">a</span>.flat());<span class="hljs-comment"> // [1, 2, 3, 4, 6]</span><br></code></pre></td></tr></table></figure><h4 id="åˆ©ç”¨reduce-1"><a href="#åˆ©ç”¨reduce-1" class="headerlink" title="åˆ©ç”¨reduce"></a>åˆ©ç”¨reduce</h4><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-keyword">var</span> arr=[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">2</span>,<span class="hljs-number">9</span>,[<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,[<span class="hljs-number">1</span>]]]<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">flat</span>(<span class="hljs-params">arr</span>)&#123;<br>    <span class="hljs-keyword">return</span> arr.<span class="hljs-built_in">reduce</span>(<span class="hljs-function">(<span class="hljs-params">pre,value,index</span>)=&gt;</span>&#123;<br>        <span class="hljs-keyword">return</span> pre.concat(<span class="hljs-built_in">Array</span>.isArray(value)?flat(value):value)<br>    &#125;,[])<br>&#125;<br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(flat(arr));<span class="hljs-comment">//[1, 2, 3, 2, 9, 2, 3, 1]</span><br></code></pre></td></tr></table></figure><h4 id="ä½¿ç”¨mapé€’å½’"><a href="#ä½¿ç”¨mapé€’å½’" class="headerlink" title="ä½¿ç”¨mapé€’å½’"></a>ä½¿ç”¨mapé€’å½’</h4><figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs haxe">let arr = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,[<span class="hljs-number">9</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,[<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">78</span>]]]<br><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">flat_map</span></span>(arr4) &#123;<br>  let <span class="hljs-keyword">new</span><span class="hljs-type">arr</span> = []<br>    arr.map(item =&gt;&#123;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">Array</span>.isArray(item))&#123;<br>            <span class="hljs-keyword">new</span><span class="hljs-type">arr</span> = <span class="hljs-keyword">new</span><span class="hljs-type">arr</span>.concat(flat_map(item))<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-keyword">new</span><span class="hljs-type">arr</span>.push(item)<br>        &#125;<br>    &#125;)<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span><span class="hljs-type">arr</span><br>&#125;<br><br>flat_map(arr)<br><br></code></pre></td></tr></table></figure><h4 id="å°†æ•°ç»„è½¬ä¸ºå­—ç¬¦ä¸²ï¼Œå†è½¬ä¸ºæ•°ç»„"><a href="#å°†æ•°ç»„è½¬ä¸ºå­—ç¬¦ä¸²ï¼Œå†è½¬ä¸ºæ•°ç»„" class="headerlink" title="å°†æ•°ç»„è½¬ä¸ºå­—ç¬¦ä¸²ï¼Œå†è½¬ä¸ºæ•°ç»„"></a>å°†æ•°ç»„è½¬ä¸ºå­—ç¬¦ä¸²ï¼Œå†è½¬ä¸ºæ•°ç»„</h4><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-keyword">var</span> arr=[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">2</span>,<span class="hljs-number">9</span>,[<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,[<span class="hljs-number">1</span>]],[<span class="hljs-number">2</span>,<span class="hljs-number">3</span>]]<br><span class="hljs-comment">//æ•°ç»„è½¬ä¸ºå­—ç¬¦ä¸²ï¼Œå†å°†å­—ç¬¦ä¸²è½¬ä¸ºæ•°ç»„</span><br><span class="hljs-keyword">var</span> newarr = arr.join(<span class="hljs-string">&#x27;,&#x27;</span>).<span class="hljs-built_in">split</span>(<span class="hljs-string">&#x27;,&#x27;</span>).<span class="hljs-built_in">map</span>(<span class="hljs-function">(<span class="hljs-params">item,index</span>)=&gt;</span>&#123;<br>    <span class="hljs-keyword">return</span> parseInt(item)<br>&#125;)<br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(newarr);<span class="hljs-comment">//[1, 2, 3, 2, 9, 2, 3, 1, 2, 3]</span><br></code></pre></td></tr></table></figure><p>å¤‡æ³¨: è¿™é‡Œçš„joinæ”¹æˆtoStringï¼ŒparseIntæ”¹æˆNumberä¹Ÿæ˜¯ä¸€ç§æ–¹æ³•</p><h4 id="ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦"><a href="#ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦" class="headerlink" title="ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦"></a>ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦</h4><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"><span class="hljs-keyword">let</span> arr = <span class="hljs-literal">[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,[<span class="hljs-number">9</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,[<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">78</span>]</span>]]<br><span class="hljs-keyword">function</span> flat<span class="hljs-constructor">_concat(<span class="hljs-params">arr6</span>)</span> &#123;<br>  <span class="hljs-keyword">while</span> (arr.some(item =&gt;<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Array</span>.</span></span>is<span class="hljs-constructor">Array(<span class="hljs-params">item</span>)</span>))&#123;<br>      arr = <span class="hljs-literal">[]</span>.concat(...arr4)<br>  &#125;<br>  return arr<br>&#125;<br>flat<span class="hljs-constructor">_concat(<span class="hljs-params">arr</span>)</span><br></code></pre></td></tr></table></figure><h3 id="æ•°ç»„åº”ç”¨"><a href="#æ•°ç»„åº”ç”¨" class="headerlink" title="æ•°ç»„åº”ç”¨"></a>æ•°ç»„åº”ç”¨</h3><h4 id="1-åˆ¤æ–­æ•°ç»„å…ƒç´ å‡ºç°ä¸ªæ•°"><a href="#1-åˆ¤æ–­æ•°ç»„å…ƒç´ å‡ºç°ä¸ªæ•°" class="headerlink" title="1.åˆ¤æ–­æ•°ç»„å…ƒç´ å‡ºç°ä¸ªæ•°"></a>1.åˆ¤æ–­æ•°ç»„å…ƒç´ å‡ºç°ä¸ªæ•°</h4><p>ä¾‹å¦‚ï¼švar arr&#x3D;[â€˜nameâ€™,â€™ageâ€™,â€™hhhâ€™,â€™hhhâ€™]å„å‡ºç°å¤šå°‘æ¬¡</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-keyword">var</span> arr=[<span class="hljs-string">&#x27;name&#x27;</span>,<span class="hljs-string">&#x27;age&#x27;</span>,<span class="hljs-string">&#x27;hhh&#x27;</span>,<span class="hljs-string">&#x27;hhh&#x27;</span>]<br><span class="hljs-keyword">var</span> newarr = arr.<span class="hljs-built_in">reduce</span>(<span class="hljs-function">(<span class="hljs-params">pre,item,index</span>)=&gt;</span>&#123;<br>    <span class="hljs-keyword">if</span> (!pre[item]) &#123;<br>        pre[item]=<span class="hljs-number">1</span><br>    &#125;<span class="hljs-keyword">else</span>&#123;<br>        pre[item]++<br>    &#125;<br>    <span class="hljs-keyword">return</span> pre<br>&#125;,&#123;&#125;)<br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(newarr);<br></code></pre></td></tr></table></figure><h4 id="2-åˆ¤æ–­æ•°ç»„ä¸­å‡ºç°æ¬¡æ•°æœ€å¤šçš„å…ƒç´ "><a href="#2-åˆ¤æ–­æ•°ç»„ä¸­å‡ºç°æ¬¡æ•°æœ€å¤šçš„å…ƒç´ " class="headerlink" title="2.åˆ¤æ–­æ•°ç»„ä¸­å‡ºç°æ¬¡æ•°æœ€å¤šçš„å…ƒç´ "></a>2.åˆ¤æ–­æ•°ç»„ä¸­å‡ºç°æ¬¡æ•°æœ€å¤šçš„å…ƒç´ </h4><p>åœ¨ç»Ÿè®¡ä¸ªå…ƒç´ å‡ºç°ä¸ªæ•°çš„åŸºç¡€ä¸Š</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-keyword">var</span> arr=[<span class="hljs-string">&#x27;name&#x27;</span>,<span class="hljs-string">&#x27;age&#x27;</span>,<span class="hljs-string">&#x27;hhh&#x27;</span>,<span class="hljs-string">&#x27;hhh&#x27;</span>]<br><span class="hljs-keyword">var</span> newarr = arr.<span class="hljs-built_in">reduce</span>(<span class="hljs-function">(<span class="hljs-params">pre,item,index</span>)=&gt;</span>&#123;<br>    <span class="hljs-keyword">if</span> (!pre[item]) &#123;<br>        pre[item]=<span class="hljs-number">1</span><br>    &#125;<span class="hljs-keyword">else</span>&#123;<br>        pre[item]++<br>    &#125;<br>    <span class="hljs-keyword">return</span> pre<br>&#125;,&#123;&#125;)<br><span class="hljs-keyword">var</span> <span class="hljs-built_in">max</span>=<span class="hljs-number">0</span><span class="hljs-comment">//æœ€å¤šçš„æ•°é‡</span><br><span class="hljs-keyword">var</span> attr<span class="hljs-comment">//æœ€å¤šçš„å±æ€§æ˜¯ä»€ä¹ˆ</span><br><span class="hljs-keyword">for</span> (const key in newarr) &#123;<br>    <span class="hljs-comment">//keyä¸ºå±æ€§</span><br>    <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(newarr[key]);<br>    <span class="hljs-keyword">if</span> (newarr[key]&gt;<span class="hljs-built_in">max</span>) &#123;<br>        <span class="hljs-built_in">max</span>=newarr[key]<br>        attr=key<br>    &#125;<br>&#125;<br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-built_in">max</span>,attr);<br></code></pre></td></tr></table></figure><h4 id="3-ç»Ÿè®¡æ•°ç»„ä¸­é‡å¤çš„å…ƒç´ "><a href="#3-ç»Ÿè®¡æ•°ç»„ä¸­é‡å¤çš„å…ƒç´ " class="headerlink" title="3.ç»Ÿè®¡æ•°ç»„ä¸­é‡å¤çš„å…ƒç´ "></a>3.ç»Ÿè®¡æ•°ç»„ä¸­é‡å¤çš„å…ƒç´ </h4><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-keyword">var</span> arr=[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">6</span>,<span class="hljs-number">2</span>,<span class="hljs-number">9</span>,<span class="hljs-number">1</span>]<br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(arr.<span class="hljs-built_in">sort</span>());<br><span class="hljs-keyword">var</span> arr2=[]<br>arr.<span class="hljs-built_in">sort</span>().<span class="hljs-built_in">sort</span>(<span class="hljs-function">(<span class="hljs-params">e1,e2</span>)=&gt;</span>&#123;<br>    e1===e2?arr2.<span class="hljs-built_in">push</span>(e2):<span class="hljs-string">&#x27;&#x27;</span><br>&#125;)<br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(arr2);<br></code></pre></td></tr></table></figure><h3 id="4-åœ¨aä¸åœ¨b"><a href="#4-åœ¨aä¸åœ¨b" class="headerlink" title="4.åœ¨aä¸åœ¨b"></a>4.åœ¨aä¸åœ¨b</h3><p>ç°åœ¨ä¸¤ä¸ªæ•°ç»„ï¼Œåˆ¤æ–­åœ¨aä¸­çš„å…ƒç´ ï¼Œä¸åœ¨bä¸­<br>const a &#x3D; [1,2,3,5]<br>const b&#x3D;[1,3,5,6]</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs arcade">const a = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">5</span>]<br>const b=[<span class="hljs-number">1</span>,<span class="hljs-number">3</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>]<br>const newarr = a.<span class="hljs-built_in">filter</span>(<span class="hljs-function">(<span class="hljs-params">item,index</span>)=&gt;</span>&#123;<br><span class="hljs-comment">//å°†åœ¨aä¸åœ¨bä¸­çš„ç­›é€‰å‡ºæ¥</span><br>   <span class="hljs-keyword">return</span> b.<span class="hljs-built_in">indexOf</span>(item)==<span class="hljs-number">-1</span><br>&#125;)<br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(newarr);<br></code></pre></td></tr></table></figure><h3 id="ç»¼åˆé¢˜"><a href="#ç»¼åˆé¢˜" class="headerlink" title="ç»¼åˆé¢˜"></a>ç»¼åˆé¢˜</h3><p>å…¬å¸å‰åæ‹›è˜äº†10ä¸ªå‘˜å·¥(æ€§åˆ«,å¹´é¾„, æœˆè–ªå„ä¸ç›¸åŒ),æœ‰ä»¥ä¸‹éœ€æ±‚<br>1). åˆ—è¡¨æ˜¾ç¤ºæ‰€æœ‰å‘˜å·¥çš„æ‰€æœ‰ä¿¡æ¯<br>2). å¯¹å‘˜å·¥è¿›è¡Œå¹´è–ªé™åºåˆ—è¡¨æ˜¾ç¤º<br>3). å¾—åˆ°ç”·å‘˜å·¥çš„æ€»æœˆè–ª<br>4). æŸ¥æ‰¾ä¸€ä¸ªæœˆè–ªåªæ¯”12000é«˜ä¸€ç‚¹ç‚¹çš„å‘˜å·¥<br>5). æŸ¥æ‰¾å‡ºæ‰€æœ‰æœˆè–ªé«˜äº12000çš„å‘˜å·¥</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-string">const</span> <span class="hljs-string">employees</span> <span class="hljs-string">=</span> [<br>   &#123;<span class="hljs-attr">name:</span> <span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-attr">sex:</span> <span class="hljs-string">&#x27;ç”·&#x27;</span>, <span class="hljs-attr">age:</span> <span class="hljs-number">21</span>, <span class="hljs-attr">salary:</span> <span class="hljs-number">10000</span>&#125;,<br>   &#123;<span class="hljs-attr">name:</span> <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-attr">sex:</span> <span class="hljs-string">&#x27;å¥³&#x27;</span>, <span class="hljs-attr">age:</span> <span class="hljs-number">25</span>, <span class="hljs-attr">salary:</span> <span class="hljs-number">12000</span>&#125;,<br>   &#123;<span class="hljs-attr">name:</span> <span class="hljs-string">&#x27;C&#x27;</span>, <span class="hljs-attr">sex:</span> <span class="hljs-string">&#x27;ç”·&#x27;</span>, <span class="hljs-attr">age:</span> <span class="hljs-number">24</span>, <span class="hljs-attr">salary:</span> <span class="hljs-number">13000</span>&#125;,<br>   &#123;<span class="hljs-attr">name:</span> <span class="hljs-string">&#x27;D&#x27;</span>, <span class="hljs-attr">sex:</span> <span class="hljs-string">&#x27;ç”·&#x27;</span>, <span class="hljs-attr">age:</span> <span class="hljs-number">24</span>, <span class="hljs-attr">salary:</span> <span class="hljs-number">12500</span>&#125;,<br>   &#123;<span class="hljs-attr">name:</span> <span class="hljs-string">&#x27;E&#x27;</span>, <span class="hljs-attr">sex:</span> <span class="hljs-string">&#x27;å¥³&#x27;</span>, <span class="hljs-attr">age:</span> <span class="hljs-number">21</span>, <span class="hljs-attr">salary:</span> <span class="hljs-number">14000</span>&#125;,<br>   &#123;<span class="hljs-attr">name:</span> <span class="hljs-string">&#x27;F&#x27;</span>, <span class="hljs-attr">sex:</span> <span class="hljs-string">&#x27;ç”·&#x27;</span>, <span class="hljs-attr">age:</span> <span class="hljs-number">24</span>, <span class="hljs-attr">salary:</span> <span class="hljs-number">16000</span>&#125;,<br>   &#123;<span class="hljs-attr">name:</span> <span class="hljs-string">&#x27;G&#x27;</span>, <span class="hljs-attr">sex:</span> <span class="hljs-string">&#x27;ç”·&#x27;</span>, <span class="hljs-attr">age:</span> <span class="hljs-number">23</span>, <span class="hljs-attr">salary:</span> <span class="hljs-number">9000</span>&#125;,<br>   &#123;<span class="hljs-attr">name:</span> <span class="hljs-string">&#x27;H&#x27;</span>, <span class="hljs-attr">sex:</span> <span class="hljs-string">&#x27;å¥³&#x27;</span>, <span class="hljs-attr">age:</span> <span class="hljs-number">21</span>, <span class="hljs-attr">salary:</span> <span class="hljs-number">11000</span>&#125;,<br>   &#123;<span class="hljs-attr">name:</span> <span class="hljs-string">&#x27;I&#x27;</span>, <span class="hljs-attr">sex:</span> <span class="hljs-string">&#x27;ç”·&#x27;</span>, <span class="hljs-attr">age:</span> <span class="hljs-number">23</span>, <span class="hljs-attr">salary:</span> <span class="hljs-number">13200</span>&#125;,<br>   &#123;<span class="hljs-attr">name:</span> <span class="hljs-string">&#x27;J&#x27;</span>, <span class="hljs-attr">sex:</span> <span class="hljs-string">&#x27;ç”·&#x27;</span>, <span class="hljs-attr">age:</span> <span class="hljs-number">23</span>, <span class="hljs-attr">salary:</span> <span class="hljs-number">15000</span>&#125;<br>]<br></code></pre></td></tr></table></figure><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-number">1</span>)employees.forEach(<span class="hljs-function">(<span class="hljs-params">item,index</span>)=&gt;</span>&#123;<br>    <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(item);<br>&#125;)<br><br><span class="hljs-number">2</span>)<span class="hljs-keyword">var</span> newArr= employees.<span class="hljs-built_in">sort</span>(<span class="hljs-function">(<span class="hljs-params">e1,e2</span>)=&gt;</span>&#123;<br>    <span class="hljs-keyword">return</span> e2.salary-e1.salary<br>&#125;)<br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(newArr);<br><br><span class="hljs-number">3</span>)<span class="hljs-keyword">var</span> newArr= employees.<span class="hljs-built_in">reduce</span>(<span class="hljs-function">(<span class="hljs-params">pre,item</span>)=&gt;</span>&#123;<br>    <span class="hljs-keyword">return</span> pre = item.sex===<span class="hljs-string">&#x27;ç”·&#x27;</span>?pre+item.salary:<span class="hljs-number">0</span><br>&#125;,<span class="hljs-number">0</span>)<br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(newArr);<br><br><span class="hljs-number">4</span>)<span class="hljs-keyword">var</span> newArr= employees.<span class="hljs-built_in">sort</span>(<span class="hljs-function">(<span class="hljs-params">e1,e2</span>)=&gt;</span>&#123;<br>    <span class="hljs-keyword">return</span> e1.salary-e2.salary<br>&#125;).<span class="hljs-built_in">find</span>(<span class="hljs-function">(<span class="hljs-params">item,index</span>)=&gt;</span>&#123;<br>    <span class="hljs-keyword">return</span> item.salary&gt;<span class="hljs-number">12000</span><br>&#125;)<br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(newArr);<br><br><span class="hljs-number">5</span>)<span class="hljs-keyword">var</span> newArr = employees.<span class="hljs-built_in">filter</span>(<span class="hljs-function">(<span class="hljs-params">item,index</span>)=&gt;</span>&#123;<br>    <span class="hljs-keyword">return</span> item.salary&gt;<span class="hljs-number">12000</span><br>&#125;)<br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(newArr);<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Promise çš„ä¸¤ä¸ªå°è£…å®ç°</title>
    <link href="/2022/09/16/promise%E7%9A%84%E4%B8%A4%E4%B8%AA%E5%B0%81%E8%A3%85%E5%AE%9E%E7%8E%B0/"/>
    <url>/2022/09/16/promise%E7%9A%84%E4%B8%A4%E4%B8%AA%E5%B0%81%E8%A3%85%E5%AE%9E%E7%8E%B0/</url>
    
    <content type="html"><![CDATA[<h4 id="ä½¿ç”¨Promiseå°è£…å¼‚æ­¥å›¾ç‰‡åŠ è½½"><a href="#ä½¿ç”¨Promiseå°è£…å¼‚æ­¥å›¾ç‰‡åŠ è½½" class="headerlink" title="ä½¿ç”¨Promiseå°è£…å¼‚æ­¥å›¾ç‰‡åŠ è½½"></a>ä½¿ç”¨Promiseå°è£…å¼‚æ­¥å›¾ç‰‡åŠ è½½</h4><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"><span class="hljs-keyword">function</span> load<span class="hljs-constructor">ImageAsync(<span class="hljs-params">url</span>)</span> &#123;<br>  return <span class="hljs-keyword">new</span> <span class="hljs-constructor">Promise(<span class="hljs-params">function</span>(<span class="hljs-params">resolve</span>, <span class="hljs-params">reject</span>)</span> &#123;<br>    const image = <span class="hljs-keyword">new</span> <span class="hljs-constructor">Image()</span>;<br><br>    image.onload = <span class="hljs-keyword">function</span><span class="hljs-literal">()</span> &#123;<br>      resolve(image);<br>    &#125;;<br><br>    image.onerror = <span class="hljs-keyword">function</span><span class="hljs-literal">()</span> &#123;<br>      reject(<span class="hljs-keyword">new</span> <span class="hljs-constructor">Error(&#x27;Could <span class="hljs-params">not</span> <span class="hljs-params">load</span> <span class="hljs-params">image</span> <span class="hljs-params">at</span> &#x27; + <span class="hljs-params">url</span>)</span>);<br>    &#125;;<br><br>    image.src = url;<br>  &#125;);<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="ä½¿ç”¨Promiseå¯¹è±¡å®ç°AJAXæ“ä½œ"><a href="#ä½¿ç”¨Promiseå¯¹è±¡å®ç°AJAXæ“ä½œ" class="headerlink" title="ä½¿ç”¨Promiseå¯¹è±¡å®ç°AJAXæ“ä½œ"></a>ä½¿ç”¨Promiseå¯¹è±¡å®ç°AJAXæ“ä½œ</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> getJSON = <span class="hljs-keyword">function</span>(<span class="hljs-params">url</span>) &#123;<br>  <span class="hljs-keyword">const</span> promise = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">resolve, reject</span>)&#123;<br>    <span class="hljs-keyword">const</span> handler = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">readyState</span> !== <span class="hljs-number">4</span>) &#123;<br>        <span class="hljs-keyword">return</span>;<br>      &#125;<br>      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">status</span> === <span class="hljs-number">200</span>) &#123;<br>        <span class="hljs-title function_">resolve</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">response</span>);<br>      &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">statusText</span>));<br>      &#125;<br>    &#125;;<br>    <span class="hljs-keyword">const</span> client = <span class="hljs-keyword">new</span> <span class="hljs-title class_">XMLHttpRequest</span>();<br>    client.<span class="hljs-title function_">open</span>(<span class="hljs-string">&quot;GET&quot;</span>, url);<br>    client.<span class="hljs-property">onreadystatechange</span> = handler;<br>    client.<span class="hljs-property">responseType</span> = <span class="hljs-string">&quot;json&quot;</span>;<br>    client.<span class="hljs-title function_">setRequestHeader</span>(<span class="hljs-string">&quot;Accept&quot;</span>, <span class="hljs-string">&quot;application/json&quot;</span>);<br>    client.<span class="hljs-title function_">send</span>();<br><br>  &#125;);<br><br>  <span class="hljs-keyword">return</span> promise;<br>&#125;;<br><br><span class="hljs-title function_">getJSON</span>(<span class="hljs-string">&quot;/posts.json&quot;</span>).<span class="hljs-title function_">then</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">json</span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Contents: &#x27;</span> + json);<br>&#125;, <span class="hljs-keyword">function</span>(<span class="hljs-params">error</span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">&#x27;å‡ºé”™äº†&#x27;</span>, error);<br>&#125;);<br></code></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç ä¸­ï¼ŒgetJSONæ˜¯å¯¹ XMLHttpRequest å¯¹è±¡çš„å°è£…ï¼Œç”¨äºå‘å‡ºä¸€ä¸ªé’ˆå¯¹ JSON æ•°æ®çš„ HTTP è¯·æ±‚ï¼Œå¹¶ä¸”è¿”å›ä¸€ä¸ªPromiseå¯¹è±¡ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨getJSONå†…éƒ¨ï¼Œresolveå‡½æ•°å’Œrejectå‡½æ•°è°ƒç”¨æ—¶ï¼Œéƒ½å¸¦æœ‰å‚æ•°ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>JavaScript æ·±å…¥ç»§æ‰¿çš„å…­ç§æ–¹å¼å’Œä¼˜ç¼ºç‚¹</title>
    <link href="/2022/09/10/JavaScript%20%E6%B7%B1%E5%85%A5%E7%BB%A7%E6%89%BF%E7%9A%84%E5%A4%9A%E7%A7%8D%E6%96%B9%E5%BC%8F%E5%92%8C%E4%BC%98%E7%BC%BA%E7%82%B9/"/>
    <url>/2022/09/10/JavaScript%20%E6%B7%B1%E5%85%A5%E7%BB%A7%E6%89%BF%E7%9A%84%E5%A4%9A%E7%A7%8D%E6%96%B9%E5%BC%8F%E5%92%8C%E4%BC%98%E7%BC%BA%E7%82%B9/</url>
    
    <content type="html"><![CDATA[<h2 id="ä½œè€…æŒ‰ï¼š"><a href="#ä½œè€…æŒ‰ï¼š" class="headerlink" title="ä½œè€…æŒ‰ï¼š"></a>ä½œè€…æŒ‰ï¼š</h2><p>å…³äºJavaScript ç»§æ‰¿çš„å‡ ç§æ–¹å¼ï¼Œç½‘ä¸Šæœ‰å¾ˆå¤šæ–‡ç« ã€‚ä½†å…¶å®çº¢å®ä¹¦é‡Œå·²ç»è®²è§£çš„éå¸¸é€å½»ï¼Œæ€è·¯æ¸…æ™°ã€‚æœ¬ç¯‡æ–‡ç« æ›´åƒæ˜¯å­¦ä¹ ç¬”è®°ï¼Œç¬¬å…«ç« å¸¸è¯»å¸¸æ–°ã€‚</p><p><img src="http://tva1.sinaimg.cn/large/006hVAtMly1h7ywzta6htj30rs0pp7db.jpg" alt="çº¢å®ä¹¦ç¬¬å…«ç« ç»§æ‰¿-from å¾®ä¿¡è¯»ä¹¦"></p><hr><h3 id="ä»¥ä¸‹æ˜¯æ­£æ–‡ï¼š"><a href="#ä»¥ä¸‹æ˜¯æ­£æ–‡ï¼š" class="headerlink" title="ä»¥ä¸‹æ˜¯æ­£æ–‡ï¼š"></a>ä»¥ä¸‹æ˜¯æ­£æ–‡ï¼š</h3><h3 id="1-åŸå‹é“¾ç»§æ‰¿"><a href="#1-åŸå‹é“¾ç»§æ‰¿" class="headerlink" title="1. åŸå‹é“¾ç»§æ‰¿"></a>1. åŸå‹é“¾ç»§æ‰¿</h3><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Parent</span> (<span class="hljs-params"></span>) &#123;<br>    this.name = <span class="hljs-string">&#x27;yang&#x27;</span>;<br>&#125;<br><br>Parent.prototype.getName = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(this.name);<br>&#125;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">Child</span> (<span class="hljs-params"></span>) &#123;<br><br>&#125;<br>Child.prototype = <span class="hljs-keyword">new</span> Parent();<br><span class="hljs-keyword">var</span> child1 = <span class="hljs-keyword">new</span> Child();<br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(child1.getName()) <span class="hljs-comment">// yang</span><br></code></pre></td></tr></table></figure><p>é—®é¢˜1ï¼šå¼•ç”¨ç±»å‹çš„å±æ€§è¢«æ‰€æœ‰å®ä¾‹å…±äº«<br>é—®é¢˜2ï¼šåœ¨åˆ›å»º Childå®ä¾‹æ—¶ï¼Œä¸èƒ½åƒParentä¼ å‚</p><h3 id="2-constructor-stealing-ï¼ˆç›—ç”¨æ„é€ å‡½æ•°ï¼‰"><a href="#2-constructor-stealing-ï¼ˆç›—ç”¨æ„é€ å‡½æ•°ï¼‰" class="headerlink" title="2. constructor stealing ï¼ˆç›—ç”¨æ„é€ å‡½æ•°ï¼‰"></a>2. constructor stealing ï¼ˆç›—ç”¨æ„é€ å‡½æ•°ï¼‰</h3><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Parent</span> (<span class="hljs-params"></span>) &#123;<br>    this.names = [<span class="hljs-string">&#x27;yang&#x27;</span>, <span class="hljs-string">&#x27;yao&#x27;</span>];<br>&#125;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">Child</span> (<span class="hljs-params"></span>) &#123;<br>    Parent.call(this);<br>&#125;<br><span class="hljs-keyword">var</span> child1 = <span class="hljs-keyword">new</span> Child();<br>child1.names.<span class="hljs-built_in">push</span>(<span class="hljs-string">&#x27;xuezhuo&#x27;</span>);<br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(child1.names); <span class="hljs-comment">// [&quot;yang&quot;, &quot;yao&quot;, &quot;xuezhou&quot;]</span><br><span class="hljs-keyword">var</span> child2 = <span class="hljs-keyword">new</span> Child();<br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(child2.names); <span class="hljs-comment">// [&quot;yang&quot;, yao&quot;]</span><br></code></pre></td></tr></table></figure><p>ä¼˜ç‚¹ï¼š<br>1.é¿å…äº†å¼•ç”¨ç±»å‹çš„å±æ€§è¢«æ‰€æœ‰å®ä¾‹å…±äº«<br>2.å¯ä»¥åœ¨ Child ä¸­å‘ Parent ä¼ å‚<br>ç¼ºç‚¹ï¼š<br>æ–¹æ³•éƒ½åœ¨æ„é€ å‡½æ•°ä¸­å®šä¹‰ï¼Œæ¯æ¬¡åˆ›å»ºå®ä¾‹éƒ½ä¼šåˆ›å»ºä¸€éæ–¹æ³•ã€‚</p><h3 id="3-ç»„åˆç»§æ‰¿ï¼ˆç»å…¸ç»§æ‰¿ï¼‰"><a href="#3-ç»„åˆç»§æ‰¿ï¼ˆç»å…¸ç»§æ‰¿ï¼‰" class="headerlink" title="3. ç»„åˆç»§æ‰¿ï¼ˆç»å…¸ç»§æ‰¿ï¼‰"></a>3. ç»„åˆç»§æ‰¿ï¼ˆç»å…¸ç»§æ‰¿ï¼‰</h3><p>åŸå‹é“¾ç»§æ‰¿å’Œç»å…¸ç»§æ‰¿çš„åŒå‰‘åˆç’§ï¼ŒåŸºæœ¬çš„æ€è·¯æ˜¯ä½¿ç”¨åŸå‹é“¾ç»§æ‰¿åŸå‹ä¸Šçš„å±æ€§å’Œæ–¹æ³•ï¼Œè€Œé€šè¿‡ç›—ç”¨æ„é€ å‡½æ•°ç»§æ‰¿å®ä¾‹å±æ€§ã€‚è¿™æ ·æ—¢å¯ä»¥æŠŠæ–¹æ³•å®šä¹‰åœ¨åŸå‹ä¸Šä»¥å®ç°é‡ç”¨ï¼Œåˆå¯ä»¥è®©æ¯ä¸ªå®ä¾‹éƒ½æœ‰è‡ªå·±çš„å±æ€§ã€‚</p><p>å¼¥è¡¥äº†åŸå‹é“¾å’Œç›—ç”¨æ„é€ å‡½æ•°çš„ä¸è¶³ï¼Œæ˜¯ JavaScript ä¸­ä½¿ç”¨æœ€å¤šçš„ç»§æ‰¿æ¨¡å¼</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Parent</span> (<span class="hljs-params">name</span>) &#123;<br>    this.name = name;<br>    this.colors = [<span class="hljs-string">&#x27;red&#x27;</span>, <span class="hljs-string">&#x27;blue&#x27;</span>, <span class="hljs-string">&#x27;green&#x27;</span>];<br>&#125;<br>Parent.prototype.getName = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(this.name)<br>&#125;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">Child</span> (<span class="hljs-params">name, age</span>) &#123;<br>    Parent.call(this, name);<br>    this.age = age;<br>&#125;<br>Child.prototype = <span class="hljs-keyword">new</span> Parent();<br>Child.prototype.constructor = Child;<br><br><span class="hljs-keyword">var</span> child1 = <span class="hljs-keyword">new</span> Child(<span class="hljs-string">&#x27;yang&#x27;</span>, <span class="hljs-string">&#x27;18&#x27;</span>);<br>child1.colors.<span class="hljs-built_in">push</span>(<span class="hljs-string">&#x27;black&#x27;</span>);<br><br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(child1.name); <span class="hljs-comment">// yang</span><br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(child1.age); <span class="hljs-comment">// 18</span><br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(child1.colors); <span class="hljs-comment">// [&quot;red&quot;, &quot;blue&quot;, &quot;green&quot;, &quot;black&quot;]</span><br><br><span class="hljs-keyword">var</span> child2 = <span class="hljs-keyword">new</span> Child(<span class="hljs-string">&#x27;miemie&#x27;</span>, <span class="hljs-string">&#x27;20&#x27;</span>);<br><br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(child2.name); <span class="hljs-comment">// miemie</span><br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(child2.age); <span class="hljs-comment">// 20</span><br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(child2.colors); <span class="hljs-comment">// [&quot;red&quot;, &quot;blue&quot;, &quot;green&quot;]</span><br></code></pre></td></tr></table></figure><h3 id="4-åŸå‹å¼ç»§æ‰¿"><a href="#4-åŸå‹å¼ç»§æ‰¿" class="headerlink" title="4. åŸå‹å¼ç»§æ‰¿"></a>4. åŸå‹å¼ç»§æ‰¿</h3><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"><span class="hljs-keyword">function</span> create<span class="hljs-constructor">Obj(<span class="hljs-params">o</span>)</span> &#123;<br>    <span class="hljs-keyword">function</span> <span class="hljs-constructor">F()</span>&#123;&#125;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">F</span>.</span></span>prototype = o;<br>    return <span class="hljs-keyword">new</span> <span class="hljs-constructor">F()</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™ä¸ªå‡½æ•°æ˜¯ Douglas Crockford ç»™å‡ºçš„ï¼Œé€‚ç”¨äºåœ¨ä¸€ä¸ªå¯¹è±¡çš„åŸºç¡€ä¸Šåœ¨åˆ›é€ ä¸€ä¸ªå¯¹è±¡ã€‚<br>ECMAScript 5é€šè¿‡å¢åŠ Object.create()æ–¹æ³•å°†åŸå‹å¼ç»§æ‰¿çš„æ¦‚å¿µè§„èŒƒåŒ–äº†ã€‚<br>ä½†æ˜¯å®ƒçš„ç¼ºç‚¹è¿˜æ˜¯è·ŸåŸå‹é“¾ç»§æ‰¿ä¸€æ ·ï¼Œå±æ€§ä¸­åŒ…å«çš„å¼•ç”¨å€¼è¿˜æ˜¯ä¼šåœ¨å¯¹è±¡ä¸­å…±äº«ã€‚</p><h3 id="5-å¯„ç”Ÿå¼ç»§æ‰¿"><a href="#5-å¯„ç”Ÿå¼ç»§æ‰¿" class="headerlink" title="5. å¯„ç”Ÿå¼ç»§æ‰¿"></a>5. å¯„ç”Ÿå¼ç»§æ‰¿</h3><p>åˆ›å»ºä¸€ä¸ªå®ç°ç»§æ‰¿çš„å‡½æ•°ï¼Œä»¥æŸç§æ–¹å¼å¢å¼ºå¯¹è±¡ï¼Œç„¶åè¿”å›è¿™ä¸ªå¯¹è±¡ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createObj</span> (<span class="hljs-params">o</span>) </span>&#123;<br>    <span class="hljs-keyword">var</span> <span class="hljs-keyword">clone</span> = Object.<span class="hljs-title function_ invoke__">create</span>(o);<br>    <span class="hljs-keyword">clone</span>.sayName = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>        console.<span class="hljs-title function_ invoke__">log</span>(<span class="hljs-string">&#x27;hi&#x27;</span>);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">clone</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä½†æ˜¯å®ƒè¿˜æ˜¯æœ‰è·Ÿæ„é€ å‡½æ•°æ¨¡å¼ä¸€æ ·çš„ç¼ºç‚¹</p><h3 id="6-ç»ˆææ³•å™¨ï¼šå¯„ç”Ÿç»„åˆå¼ç»§æ‰¿"><a href="#6-ç»ˆææ³•å™¨ï¼šå¯„ç”Ÿç»„åˆå¼ç»§æ‰¿" class="headerlink" title="6. ç»ˆææ³•å™¨ï¼šå¯„ç”Ÿç»„åˆå¼ç»§æ‰¿"></a>6. ç»ˆææ³•å™¨ï¼šå¯„ç”Ÿç»„åˆå¼ç»§æ‰¿</h3><p>å…ˆæ¥å¤ä¹ ä¸€ä¸‹ç»„åˆç»§æ‰¿çš„ä»£ç ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Parent</span> (name) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">colors</span> = [<span class="hljs-string">&#x27;red&#x27;</span>, <span class="hljs-string">&#x27;blue&#x27;</span>, <span class="hljs-string">&#x27;green&#x27;</span>];<br>&#125;<br><span class="hljs-title class_">Parent</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">getName</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>)<br>&#125;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">Child</span> (name, age) &#123;<br>    <span class="hljs-title class_">Parent</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, name);<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;<br>&#125;<br><span class="hljs-title class_">Child</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Parent</span>();<br><span class="hljs-keyword">var</span> child1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Child</span>(<span class="hljs-string">&#x27;kevin&#x27;</span>, <span class="hljs-string">&#x27;18&#x27;</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(child1)<br></code></pre></td></tr></table></figure><p>ç»„åˆç»§æ‰¿æœ€å¤§çš„ç¼ºç‚¹æ˜¯ä¼šè°ƒç”¨ä¸¤æ¬¡çˆ¶æ„é€ å‡½æ•°ã€‚</p><p>ä¸€æ¬¡æ˜¯è®¾ç½®å­ç±»å‹å®ä¾‹çš„åŸå‹çš„æ—¶å€™ï¼š</p><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs elm"><span class="hljs-type">Child</span>.proto<span class="hljs-keyword">type</span> = new <span class="hljs-type">Parent</span>();<br></code></pre></td></tr></table></figure><p>ä¸€æ¬¡åœ¨åˆ›å»ºå­ç±»å‹å®ä¾‹çš„æ—¶å€™ï¼š</p><figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs haxe"><span class="hljs-keyword">var</span> child1 = <span class="hljs-keyword">new</span> <span class="hljs-type">Child</span>(<span class="hljs-string">&#x27;yang&#x27;</span>, <span class="hljs-string">&#x27;18&#x27;</span>);<br></code></pre></td></tr></table></figure><p>å›æƒ³ä¸‹ new çš„æ¨¡æ‹Ÿå®ç°ï¼Œå…¶å®åœ¨è¿™å¥ä¸­ï¼Œæˆ‘ä»¬ä¼šæ‰§è¡Œï¼š</p><figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs fortran">Parent.<span class="hljs-keyword">call</span>(this, <span class="hljs-keyword">name</span>);<br></code></pre></td></tr></table></figure><p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬åˆä¼šè°ƒç”¨äº†ä¸€æ¬¡ Parent æ„é€ å‡½æ•°ã€‚</p><p>æ‰€ä»¥ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå¦‚æœæˆ‘ä»¬æ‰“å° child1 å¯¹è±¡ï¼Œæˆ‘ä»¬ä¼šå‘ç° Child.prototype å’Œ child1 éƒ½æœ‰ä¸€ä¸ªå±æ€§ä¸ºcolorsï¼Œå±æ€§å€¼ä¸º[â€˜redâ€™, â€˜blueâ€™, â€˜greenâ€™]ã€‚</p><p>é‚£ä¹ˆæˆ‘ä»¬è¯¥å¦‚ä½•ç²¾ç›Šæ±‚ç²¾ï¼Œé¿å…è¿™ä¸€æ¬¡é‡å¤è°ƒç”¨å‘¢ï¼Ÿ</p><p>å¦‚æœæˆ‘ä»¬ä¸ä½¿ç”¨ Child.prototype &#x3D; new Parent() ï¼Œè€Œæ˜¯é—´æ¥çš„è®© Child.prototype è®¿é—®åˆ° Parent.prototype å‘¢ï¼Ÿ</p><p>çœ‹çœ‹å¦‚ä½•å®ç°ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Parent</span> (name) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">colors</span> = [<span class="hljs-string">&#x27;red&#x27;</span>, <span class="hljs-string">&#x27;blue&#x27;</span>, <span class="hljs-string">&#x27;green&#x27;</span>];<br>&#125;<br><br><span class="hljs-title class_">Parent</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">getName</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>)<br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">Child</span> (name, age) &#123;<br>    <span class="hljs-title class_">Parent</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, name);<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;<br>&#125;<br><br><span class="hljs-comment">// å…³é”®çš„ä¸‰æ­¥</span><br><span class="hljs-keyword">var</span> F = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;&#125;;<br><br>F.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-title class_">Parent</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>;<br><br><span class="hljs-title class_">Child</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-keyword">new</span> <span class="hljs-title function_">F</span>();<br><br><br><span class="hljs-keyword">var</span> child1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Child</span>(<span class="hljs-string">&#x27;yang&#x27;</span>, <span class="hljs-string">&#x27;18&#x27;</span>);<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(child1);<br></code></pre></td></tr></table></figure><p>æœ€åæˆ‘ä»¬å°è£…ä¸€ä¸‹è¿™ä¸ªç»§æ‰¿æ–¹æ³•ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">object</span>(<span class="hljs-params">o</span>) &#123;<br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">F</span>(<span class="hljs-params"></span>) &#123;&#125;<br>    F.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = o;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title function_">F</span>();<br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">prototype</span>(<span class="hljs-params">child, parent</span>) &#123;<br>    <span class="hljs-keyword">var</span> prototype = <span class="hljs-title function_">object</span>(parent.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);<br>    prototype.<span class="hljs-property">constructor</span> = child;<br>    child.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = prototype;<br>&#125;<br><br><span class="hljs-comment">// å½“æˆ‘ä»¬ä½¿ç”¨çš„æ—¶å€™ï¼š</span><br><span class="hljs-title function_">prototype</span>(<span class="hljs-title class_">Child</span>, <span class="hljs-title class_">Parent</span>);<br></code></pre></td></tr></table></figure><p>å¯„ç”Ÿå¼ç»„åˆç»§æ‰¿å¯ä»¥ç®—æ˜¯å¼•ç”¨ç±»å‹ç»§æ‰¿çš„æœ€ä½³æ¨¡å¼ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>JavaScript åŸå‹ä¸­çš„å“²å­¦æ€æƒ³</title>
    <link href="/2022/08/03/JavaScript%20%E5%8E%9F%E5%9E%8B%E4%B8%AD%E7%9A%84%E5%93%B2%E5%AD%A6%E6%80%9D%E6%83%B3/"/>
    <url>/2022/08/03/JavaScript%20%E5%8E%9F%E5%9E%8B%E4%B8%AD%E7%9A%84%E5%93%B2%E5%AD%A6%E6%80%9D%E6%83%B3/</url>
    
    <content type="html"><![CDATA[<h2 id="ä½œè€…æŒ‰ï¼š"><a href="#ä½œè€…æŒ‰ï¼š" class="headerlink" title="ä½œè€…æŒ‰ï¼š"></a>ä½œè€…æŒ‰ï¼š</h2><p>å­¦åŸå‹é“¾çš„æ—¶å€™æ„Ÿè§‰é¢‡æœ‰äº›å“²å­¦æ€æƒ³åœ¨é‡Œé¢ï¼Œäºæ˜¯æœåˆ°è¿™æ ·ä¸€ç¯‡æ–‡ç« ï¼Œè§‰å¾—å¾ˆæœ‰æ„æ€ï¼Œè®°å½•ä¸‹æ¥ã€‚<br>æ–‡ç« è¯´ Object å’Œ Function çŠ¹å¦‚ JavaScript ä¸–ç•Œä¸­çš„äºšå½“ä¸å¤å¨ƒï¼Œæˆ‘å€’è§‰å¾—åŸå‹å®¶æ—ä¹Ÿæ˜¯ä¸ªæ¯ç³»æ°æ—ç¤¾ä¼šå‘¢ï¼ŒObject ä¸ºæ¯ï¼ŒFunction ä¸ºçˆ¶ï¼Œæ¯”è¾ƒåƒæˆ‘å›½å¤ä»£çš„å¥³å¨²é€ äººï¼Œå› ä¸º Function.prototype ä¹ŸæŒ‡å‘ Object.prototype</p><p><img src="http://tva1.sinaimg.cn/large/006hVAtMly1h7yqysoxbmj33402c0b2b.jpg" alt="çº¢å®ä¹¦ç¬¬å…«ç« åŸå‹å­¦ä¹ ç¬”è®°"></p><hr><h3 id="ä»¥ä¸‹æ˜¯æ­£æ–‡ï¼š"><a href="#ä»¥ä¸‹æ˜¯æ­£æ–‡ï¼š" class="headerlink" title="ä»¥ä¸‹æ˜¯æ­£æ–‡ï¼š"></a>ä»¥ä¸‹æ˜¯æ­£æ–‡ï¼š</h3><p>è®°å¾—å½“å¹´åˆè¯•å‰ç«¯çš„æ—¶å€™ï¼Œå­¦ä¹  JavaScript è¿‡ç¨‹ä¸­ï¼ŒåŸå‹é—®é¢˜ä¸€ç›´è®©æˆ‘ç–‘æƒ‘è®¸ä¹…ï¼Œé‚£æ—¶å€™æ§ç€é‚£æœ¬è‘—åçš„çº¢çš®ä¹¦ï¼Œçœ‹åˆ°æœ‰å…³åŸå‹çš„è®²è§£æ—¶ï¼Œæ€»æ˜¯å¿ƒå­˜ç–‘è™‘ã€‚<br>å½“åœ¨ JavaScript ä¸–ç•Œä¸­èµ°è¿‡ä¸å°‘æ—…ç¨‹ä¹‹åï¼Œå†æ¬¡èŒå‘èµ·ç ”ç©¶è¿™éƒ¨åˆ†çŸ¥è¯†çš„æ¬²æœ›ï¼Œç¿»é˜…äº†ä¸å°‘ä¹¦ç±å’Œèµ„æ–™ï¼Œæ‰ææ‡‚__proto__ å’Œ prototype çš„æ¦‚å¿µã€‚<br>æ•…ä»¥ä½œæ­¤ç¬”è®°ï¼Œæ—¥åå¿˜äº†å¯ä»¥å›æ¥çœ‹çœ‹ã€‚<br>å¦‚æœä½ çœ‹çš„è¿‡ç¨‹ä¸­è§‰å¾—ç†è§£æœ‰äº›å›°éš¾ï¼ŒæŠŠä¾‹å­åœ¨ä»£ç ä¸­è·‘ä¸€è·‘ï¼Œäº²æ‰‹è¯•ä¸€è¯•ä¹Ÿè®¸èƒ½è§£å†³ä¸å°‘ç–‘æƒ‘ã€‚</p><h3 id="ä¸€åˆ‡çš†ä¸ºå¯¹è±¡"><a href="#ä¸€åˆ‡çš†ä¸ºå¯¹è±¡" class="headerlink" title="ä¸€åˆ‡çš†ä¸ºå¯¹è±¡"></a>ä¸€åˆ‡çš†ä¸ºå¯¹è±¡</h3><blockquote><p>æ®Šä¸çŸ¥ï¼ŒJavaScriptçš„ä¸–ç•Œä¸­çš„å¯¹è±¡ï¼Œè¿½æ ¹æº¯æºæ¥è‡ªäºä¸€ä¸ª null</p></blockquote><p>ã€Œä¸€åˆ‡çš†ä¸ºå¯¹è±¡ã€ï¼Œè¿™å¥ç€å®æ˜¯ä¸€æ‰‹å¥½è¥é”€ï¼Œæ˜“è®°ï¼Œæ˜“ä¸Šå£ï¼Œå°è±¡æ·±åˆ»ã€‚<br>ä¸‡ç‰©åˆç”Ÿæ—¶ï¼Œä¸€ä¸ª null å¯¹è±¡ï¼Œå‡­ç©ºè€Œç”Ÿï¼Œæ¥ç€ Objectã€Function å­¦ç€ null çš„æ¨¡æ ·å¡‘é€ äº†è‡ªå·±ï¼Œå¹¶ä¸”å®ƒä»¬å½¼æ­¤ä¹‹é—´å–œç»“è¿ç†ï¼Œæä¾›äº† prototype å’Œ constructorï¼Œä¸€ä¸ªç»™å­å­™æä¾›äº†åŸºå› ï¼Œä¸€ä¸ªåˆ™åˆ¶é€ ä¸‡åƒå­å­å­™å­™ã€‚<br>åœ¨ JavaScript ä¸­ï¼Œnull ä¹Ÿæ˜¯ä½œä¸ºä¸€ä¸ªå¯¹è±¡å­˜åœ¨ï¼ŒåŸºäºå®ƒç»§æ‰¿çš„å­å­å­™å­™ï¼Œå½“å±å¯¹è±¡ã€‚<br>ä¹ä¸€çœ‹ï¼Œnull åƒæ˜¯ä¸Šå¸,è€Œ Object å’Œ Function çŠ¹å¦‚ JavaScript ä¸–ç•Œä¸­çš„<strong>äºšå½“</strong>ä¸<strong>å¤å¨ƒ</strong>ã€‚</p><h3 id="åŸå‹æŒ‡é’ˆ-proto"><a href="#åŸå‹æŒ‡é’ˆ-proto" class="headerlink" title="åŸå‹æŒ‡é’ˆ proto"></a>åŸå‹æŒ‡é’ˆ <strong>proto</strong></h3><p>åœ¨ JavaScript ä¸­ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½æ‹¥æœ‰ä¸€ä¸ªåŸå‹å¯¹è±¡ï¼Œè€ŒæŒ‡å‘è¯¥åŸå‹å¯¹è±¡çš„å†…éƒ¨æŒ‡é’ˆåˆ™æ˜¯__proto__,é€šè¿‡å®ƒå¯ä»¥ä»ä¸­ç»§æ‰¿åŸå‹å¯¹è±¡çš„å±æ€§ï¼ŒåŸå‹æ˜¯ JavaScript ä¸­çš„åŸºå› é“¾æ¥ï¼Œæœ‰äº†è¿™ä¸ªï¼Œæ‰èƒ½çŸ¥é“è¿™ä¸ªå¯¹è±¡çš„ç¥–ç¥–è¾ˆè¾ˆã€‚ä»å¯¹è±¡ä¸­çš„__proto__å¯ä»¥è®¿é—®åˆ°ä»–æ‰€ç»§æ‰¿çš„åŸå‹å¯¹è±¡ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plain">var a = new Array();<br>a.__proto__ === Array.prototype // true<br></code></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç ä¸­ï¼Œåˆ›å»ºäº†ä¸€ä¸ª Array çš„å®ä¾‹ aï¼Œè¯¥å®ä¾‹çš„åŸå‹æŒ‡å‘äº† Array.prototypeã€‚<br>Array.prototype æœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä¹Ÿæœ‰ç»§æ‰¿çš„åŸå‹:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plain">a.__proto__.__proto__ === Object.prototype  // true<br></code></pre></td></tr></table></figure><p>&#x2F;&#x2F; ç­‰åŒäº Array.prototype.<strong>proto</strong> &#x3D;&#x3D;&#x3D; Object.prototype<br>è¿™å°±è¯´äº†æ˜äº†ï¼ŒArrayæœ¬èº«ä¹Ÿæ˜¯ç»§æ‰¿è‡ªObjectçš„ï¼Œé‚£ä¹ˆObjectçš„åŸå‹æŒ‡å‘çš„æ˜¯è°å‘¢ï¼Ÿ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plain">a.__proto__.__proto__.__proto__ === null  // true<br>// ç­‰åŒäº Object.prototype.__proto__ === null<br></code></pre></td></tr></table></figure><p><img src="https://huang-jerryc.com/image/blog/philosophy-though-of-javascript-proto/F155FDADCE01F99F7E10F5323F7CADEE.png" alt="åŸå‹é“¾æŒ‡å‘ç¤ºæ„å›¾1"></p><p>æ‰€ä»¥è¯´ï¼ŒJavaScript ä¸­çš„å¯¹è±¡ï¼Œè¿½æ ¹æº¯æºéƒ½æ˜¯æ¥è‡ªä¸€ä¸ª<strong>null</strong>å¯¹è±¡ã€‚<strong>ä½›æ›°ï¼šä¸‡ç‰©çš†ç©ºï¼Œå–„å“‰å–„å“‰</strong>ã€‚</p><p>é™¤äº†ä½¿ç”¨.__proto__æ–¹å¼è®¿é—®å¯¹è±¡çš„åŸå‹ï¼Œè¿˜å¯ä»¥é€šè¿‡ <strong>Object.getPrototypeOf</strong> æ–¹æ³•æ¥è·å–å¯¹è±¡çš„åŸå‹ï¼Œä»¥åŠé€šè¿‡ <strong>Object.setPrototypeOf</strong> æ–¹æ³•æ¥é‡å†™å¯¹è±¡çš„åŸå‹<br>ã€‚<br>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒæŒ‰ç…§è¯­è¨€æ ‡å‡†ï¼Œ__proto__å±æ€§åªæœ‰æµè§ˆå™¨æ‰éœ€è¦éƒ¨ç½²ï¼Œå…¶ä»–ç¯å¢ƒå¯ä»¥æ²¡æœ‰è¿™ä¸ªå±æ€§ï¼Œè€Œä¸”å‰åçš„ä¸¤æ ¹ä¸‹åˆ’çº¿ï¼Œè¡¨ç¤ºå®ƒæœ¬è´¨æ˜¯ä¸€ä¸ªå†…éƒ¨å±æ€§ï¼Œä¸åº”è¯¥å¯¹ä½¿ç”¨è€…æš´éœ²ã€‚å› æ­¤ï¼Œåº”è¯¥å°½é‡å°‘ç”¨è¿™ä¸ªå±æ€§ï¼Œè€Œæ˜¯ç”¨ Object.getPrototypeof å’Œ Object.setPrototypeOf ï¼Œè¿›è¡ŒåŸå‹å¯¹è±¡çš„è¯»å†™æ“ä½œã€‚<br>è¿™é‡Œç”¨__proto__å±æ€§æ¥æè¿°å¯¹è±¡ä¸­çš„åŸå‹ï¼Œæ˜¯å› ä¸ºè¿™æ ·æ¥å¾—æ›´åŠ å½¢è±¡ï¼Œä¸”å®¹æ˜“ç†è§£ã€‚</p><h3 id="åŸå‹å¯¹è±¡-prototype"><a href="#åŸå‹å¯¹è±¡-prototype" class="headerlink" title="åŸå‹å¯¹è±¡ prototype"></a>åŸå‹å¯¹è±¡ prototype</h3><p>å‡½æ•°ä½œä¸º JavaScript ä¸­çš„ä¸€ç­‰å…¬æ°‘ï¼Œå®ƒæ—¢æ˜¯å‡½æ•°åˆæ˜¯å¯¹è±¡ï¼Œå‡½æ•°çš„åŸå‹æŒ‡å‘çš„æ˜¯Function.prototype</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plain">var Foo = function() &#123;&#125;<br>Foo.__proto__ === Function.prototype // true<br></code></pre></td></tr></table></figure><p>å‡½æ•°å®ä¾‹é™¤äº†æ‹¥æœ‰__proto__å±æ€§ä¹‹å¤–ï¼Œè¿˜æ‹¥æœ‰ prototype å±æ€§ã€‚<br>é€šè¿‡è¯¥å‡½æ•°æ„é€ çš„æ–°çš„å®ä¾‹å¯¹è±¡ï¼Œå…¶åŸå‹æŒ‡é’ˆ <strong>proto</strong> ä¼šæŒ‡å‘è¯¥å‡½æ•°çš„ prototype å±æ€§ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plain">var a = new Foo();<br>a.__proto__ === Foo.prototype; // true<br></code></pre></td></tr></table></figure><p>è€Œå‡½æ•°çš„ prototype å±æ€§ï¼Œæœ¬èº«æ˜¯ä¸€ä¸ªç”± Object æ„é€ çš„å®ä¾‹å¯¹è±¡ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plain">Foo.prototype.__proto__ === Object.prototype; // true<br></code></pre></td></tr></table></figure><p>prototypeå±æ€§å¾ˆç‰¹æ®Šï¼Œå®ƒè¿˜æœ‰ä¸€ä¸ªéšå¼çš„ constructor ï¼ŒæŒ‡å‘äº†æ„é€ å‡½æ•°æœ¬èº«ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plain">Foo.prototype.constructor === Foo; // true<br>a.constructor === Foo; // true<br>a.constructor === Foo.prototype.constructor; // true<br></code></pre></td></tr></table></figure><p><img src="https://huang-jerryc.com/image/blog/philosophy-though-of-javascript-proto/56AF39C33A5154A2178E9A82E53D2C11.png" alt="åŸå‹é“¾æŒ‡å‘ç¤ºæ„å›¾2"></p><h3 id="åŸå‹é“¾"><a href="#åŸå‹é“¾" class="headerlink" title="åŸå‹é“¾"></a>åŸå‹é“¾</h3><h4 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h4><p>åŸå‹é“¾ä½œä¸ºå®ç°ç»§æ‰¿çš„ä¸»è¦æ–¹æ³•ï¼Œå…¶åŸºæœ¬æ€æƒ³æ˜¯åˆ©ç”¨åŸå‹è®©ä¸€ä¸ªå¼•ç”¨ç±»å‹ç»§æ‰¿å¦ä¸€ä¸ªå¼•ç”¨ç±»å‹çš„å±æ€§å’Œæ–¹æ³•ã€‚<br>æ¯ä¸ªæ„é€ å‡½æ•°éƒ½æœ‰ä¸€ä¸ªåŸå‹å¯¹è±¡(prototype)ï¼ŒåŸå‹å¯¹è±¡éƒ½åŒ…å«ä¸€ä¸ªæŒ‡å‘æ„é€ å‡½æ•°çš„æŒ‡é’ˆ(constructor)ï¼Œè€Œå®ä¾‹éƒ½åŒ…å«ä¸€ä¸ªæŒ‡å‘åŸå‹å¯¹è±¡çš„å†…éƒ¨æŒ‡é’ˆ(<strong>proto</strong>)ã€‚<br>é‚£ä¹ˆï¼Œå‡å¦‚æˆ‘ä»¬è®©åŸå‹å¯¹è±¡ç­‰äºå¦ä¸€ä¸ªç±»å‹çš„å®ä¾‹ï¼Œæ­¤æ—¶çš„åŸå‹å¯¹è±¡å°†åŒ…å«ä¸€ä¸ªæŒ‡å‘å¦ä¸€ä¸ªåŸå‹çš„æŒ‡é’ˆï¼Œç›¸åº”åœ°ï¼Œå¦ä¸€ä¸ªåŸå‹ä¸­ä¹ŸåŒ…å«ç€ä¸€ä¸ªæŒ‡å‘å¦ä¸€ä¸ªæ„é€ å‡½æ•°çš„æŒ‡é’ˆã€‚å‡å¦‚å¦ä¸€ä¸ªåŸå‹åˆæ˜¯å¦ä¸€ä¸ªç±»å‹çš„å®ä¾‹ï¼Œé‚£ä¹ˆä¸Šè¿°å…³ç³»ä¾ç„¶æˆç«‹ã€‚<br>å¦‚æ­¤å±‚å±‚é€’è¿›ï¼Œå°±æ„é€ äº†å®ä¾‹ä¸åŸå‹çš„é“¾æ¡ï¼Œè¿™å°±æ˜¯<strong>åŸå‹é“¾</strong>çš„åŸºæœ¬æ¦‚å¿µã€‚</p><h4 id="æ„ä¹‰"><a href="#æ„ä¹‰" class="headerlink" title="æ„ä¹‰"></a>æ„ä¹‰</h4><p>â€œåŸå‹é“¾â€çš„ä½œç”¨åœ¨äºï¼Œå½“è¯»å–å¯¹è±¡çš„æŸä¸ªå±æ€§æ—¶ï¼ŒJavaScript å¼•æ“å…ˆå¯»æ‰¾å¯¹è±¡æœ¬èº«çš„å±æ€§ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œå°±åˆ°å®ƒçš„åŸå‹å»æ‰¾ï¼Œå¦‚æœè¿˜æ˜¯æ‰¾ä¸åˆ°ï¼Œå°±åˆ°åŸå‹çš„åŸå‹å»æ‰¾ã€‚ä»¥æ­¤ç±»æ¨ï¼Œå¦‚æœç›´åˆ°æœ€é¡¶å±‚çš„ Object.prototype è¿˜æ˜¯æ‰¾ä¸åˆ°ï¼Œåˆ™è¿”å› underfine</p><h3 id="äº²å­é‰´å®š"><a href="#äº²å­é‰´å®š" class="headerlink" title="äº²å­é‰´å®š"></a>äº²å­é‰´å®š</h3><p>åœ¨ JavaScript ä¸­ï¼Œä¹Ÿå­˜åœ¨é‰´å®šäº²å­ä¹‹é—´DNAå…³ç³»çš„æ–¹æ³•ï¼š</p><p><strong>instanceof</strong><br>è¿ç®—ç¬¦è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºä¸€ä¸ªå¯¹è±¡æ˜¯å¦ç”±æŸä¸ªæ„é€ å‡½æ•°åˆ›å»ºã€‚<br><strong>Object.isPrototypeOf()</strong><br>åªè¦æŸä¸ªå¯¹è±¡å¤„åœ¨åŸå‹é“¾ä¸Šï¼ŒisProtypeOf éƒ½è¿”å›true</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plain">var Bar = function() &#123;&#125;<br>var b = new Bar();<br>b instanceof Bar // true<br>Bar.prototype.isPrototypeOf(b) // true<br>Object.prototype.isPrototypeOf(Bar) // true<br></code></pre></td></tr></table></figure><p>è¦æ³¨æ„ï¼Œå®ä¾‹bçš„åŸå‹æ˜¯ Bar.prototype è€Œä¸æ˜¯ Bar</p><h3 id="ä¸€å¼ å†å²æ‚ ä¹…çš„å›¾"><a href="#ä¸€å¼ å†å²æ‚ ä¹…çš„å›¾" class="headerlink" title="ä¸€å¼ å†å²æ‚ ä¹…çš„å›¾"></a>ä¸€å¼ å†å²æ‚ ä¹…çš„å›¾</h3><p><img src="https://huang-jerryc.com/image/blog/philosophy-though-of-javascript-proto/289FC3BDCB0425AA1C9F0DC5EBA1079F.jpg" alt="ä¸€å¼ å†å²æ‚ ä¹…çš„å›¾"></p><p>è¿™æ˜¯ä¸€å¼ æè¿°äº† Objectã€Function ä»¥åŠä¸€ä¸ªå‡½æ•°å®ä¾‹ Foo ä»–ä»¬ä¹‹é—´åŸå‹ä¹‹é—´è”ç³»ã€‚å¦‚æœç†è§£äº†ä¸Šé¢çš„æ¦‚å¿µï¼Œè¿™å¼ å›¾æ˜¯ä¸éš¾è¯»æ‡‚ã€‚</p><p>ä»ä¸Šå›¾ä¸­ï¼Œèƒ½çœ‹åˆ°ä¸€ä¸ªæœ‰è¶£çš„åœ°æ–¹ã€‚<br>Function.prototype.<strong>proto</strong> æŒ‡å‘äº† Object.prototypeï¼Œè¿™è¯´æ˜ Function.prototype æ˜¯ä¸€ä¸ª Objectå®ä¾‹ï¼Œé‚£ä¹ˆåº”å½“æ˜¯å…ˆæœ‰çš„Objectå†æœ‰Functionã€‚<br>ä½†æ˜¯Object.prototype.constructor.<strong>proto</strong> åˆæŒ‡å‘äº† Function.prototypeã€‚è¿™æ ·çœ‹æ¥ï¼Œæ²¡æœ‰Functionï¼ŒObjectä¹Ÿä¸èƒ½åˆ›å»ºå®ä¾‹ã€‚<br>è¿™å°±äº§ç”Ÿäº†ä¸€ç§ç±»ã€Œå…ˆæœ‰é¸¡è¿˜æ˜¯å…ˆæœ‰è›‹ã€çš„ç»å…¸é—®é¢˜ï¼Œåˆ°åº•æ˜¯å…ˆæœ‰çš„Objectè¿˜æ˜¯å…ˆæœ‰çš„Functionå‘¢ï¼Ÿ<br>è¿™ä¹ˆå“²å­¦å‘çš„é—®é¢˜ï¼Œç•™ç»™ä½ æ€è€ƒäº†ã€‚<br>æˆ‘åªæ˜¯æ„Ÿæ…¨ï¼š<br>è¶Šå¾€JavaScriptçš„æ·±å¤„æ¢ç´¢ï¼Œè¶Šå‘è§‰å¾—è¿™ä¸€é—¨è¯­è¨€å¾ˆå“²å­¦ã€‚</p><h3 id="å…ˆæœ‰é¸¡è¿˜æ˜¯å…ˆæœ‰è›‹ï¼Ÿ"><a href="#å…ˆæœ‰é¸¡è¿˜æ˜¯å…ˆæœ‰è›‹ï¼Ÿ" class="headerlink" title="å…ˆæœ‰é¸¡è¿˜æ˜¯å…ˆæœ‰è›‹ï¼Ÿ"></a>å…ˆæœ‰é¸¡è¿˜æ˜¯å…ˆæœ‰è›‹ï¼Ÿ</h3><p>æ—¶éš”åŠå¹´ï¼Œå¶å°”ç¿»å¼€è¿™ç¯‡æ–‡ç« ã€‚<br>å¯¹äºè¿™ä¸ªé—®é¢˜ï¼Œåˆæœ‰äº†æ–°çš„æ€è€ƒã€‚<br>æ„¿æ„è·Ÿèƒ½çœ‹åˆ°è¿™é‡Œçš„ä½ æ¥åˆ†äº«ä¸€ä¸‹ã€‚</p><p>æˆ‘ä»¬å¯ä»¥å…ˆæŠŠ Object.prototype å’Œ Function.prototype è¿™ä¸¤ä¸ªæ‹å‡ºæ¥çœ‹ï¼Œå› ä¸ºä»–ä»¬æœ¬èº«å°±æ˜¯ä¸€ä¸ªå®ä¾‹å¯¹è±¡ã€‚<br>ä¸ºæ–¹ä¾¿ç†è§£ï¼Œæˆ‘ä»¬æ”¹ä¸€ä¸‹åå­—ï¼Œé¿å…å’Œ Object å’Œ Function çš„å¼ºå…³è”ï¼Œåˆ†åˆ«å«ï¼šOp å’Œ Fp</p><p>é‚£ä¹ˆå°±æœ‰è¿™æ ·çš„åŸå‹é“¾å­˜åœ¨äº†</p><p><img src="https://huang-jerryc.com/image/blog/philosophy-though-of-javascript-proto/object-or-function-first.png" alt="é¸¡ä¸è¿‡æ˜¯ä¸€åªè›‹åˆ›é€ å¦ä¸€åªè›‹çš„å·¥å…·"></p><p>æˆ‘å†æè¿°ä¸€ä¸‹ä¸Šé¢çš„åŸå‹é“¾ï¼Œå…ˆæœ‰ null , å†æœ‰äº† Op , ç„¶åå†æœ‰äº† Fp ï¼Œç„¶åä»¥ Fp ä¸ºåŸå‹çš„ä¸¤ä¸ªæ„é€ å‡½æ•° (Object, Function) å‡ºç°äº†ã€‚<br>è€Œä½œä¸ºæ„é€ å‡½æ•°ï¼Œéœ€è¦æœ‰ä¸ª prototype å±æ€§ç”¨æ¥ä½œä¸ºä»¥è¯¥æ„é€ å‡½æ•°åˆ›é€ çš„å®ä¾‹çš„ç»§æ‰¿ã€‚<br>æ‰€ä»¥Object.prototype &#x3D; Op, Function.prototype &#x3D; Fpã€‚</p><p>åŸæ–‡é“¾æ¥:<a href="https://huang-jerryc.com/2016/06/28/JavaScript%E5%8E%9F%E5%9E%8B%E4%B8%AD%E7%9A%84%E5%93%B2%E5%AD%A6%E6%80%9D%E6%83%B3/">JavaScript åŸå‹ä¸­çš„å“²å­¦æ€æƒ³</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç»†è¯´æ•°ç»„å¸¸ç”¨éå†çš„æ–¹æ³•</title>
    <link href="/2022/07/20/%E7%BB%86%E8%AF%B4%E6%95%B0%E7%BB%84%E5%B8%B8%E7%94%A8%E9%81%8D%E5%8E%86%E7%9A%84%E6%96%B9%E6%B3%95/"/>
    <url>/2022/07/20/%E7%BB%86%E8%AF%B4%E6%95%B0%E7%BB%84%E5%B8%B8%E7%94%A8%E9%81%8D%E5%8E%86%E7%9A%84%E6%96%B9%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h2 id="ä½œè€…æŒ‰ï¼š"><a href="#ä½œè€…æŒ‰ï¼š" class="headerlink" title="ä½œè€…æŒ‰ï¼š"></a>ä½œè€…æŒ‰ï¼š</h2><p>å¯ä»¥è¯´ PHP å’Œ JavaScript çš„å­¦ä¹ éƒ½æ˜¯ä»æ•°ç»„æ“ä½œå¼€å§‹çš„ï¼Œä¹‹å‰æ•´ç†è¿‡<a href="https://fionayuliang.github.io/2021/03/16/%E6%95%B0%E7%BB%84%E5%86%85%E7%BD%AE%E6%8E%92%E5%BA%8F%E5%87%BD%E6%95%B0%E5%AF%B9%E6%AF%94/">ã€ŠPHPå†…ç½®æ’åºå‡½æ•°å¯¹æ¯”ã€‹</a>,ç°åœ¨æ ¹æ®Github Blog è½¬è½½ä¸€ç¯‡æ•°ç»„å¸¸ç”¨éå†æ–¹æ³•çš„æ–‡ç« ï¼Œä¹‹åæ•°ç»„çš„ä½¿ç”¨ä¹Ÿè¦æ—¶å¸¸å½’çº³æ€»ç»“ã€‚</p><hr><p>æœ¬æ–‡ä¸»è¦ä»‹ç»æ•°ç»„å¸¸è§éå†æ–¹æ³•ï¼šforEachã€mapã€filterã€findã€everyã€someã€reduceï¼Œå®ƒä»¬æœ‰ä¸ªå…±åŒç‚¹ï¼šä¸ä¼šæ”¹å˜åŸå§‹æ•°ç»„ã€‚</p><h3 id="ä¸€ã€forEachï¼šéå†æ•°ç»„"><a href="#ä¸€ã€forEachï¼šéå†æ•°ç»„" class="headerlink" title="ä¸€ã€forEachï¼šéå†æ•°ç»„"></a>ä¸€ã€forEachï¼šéå†æ•°ç»„</h3><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-keyword">var</span> colors = [<span class="hljs-string">&quot;red&quot;</span>,<span class="hljs-string">&quot;blue&quot;</span>,<span class="hljs-string">&quot;green&quot;</span>];<br><span class="hljs-comment">// ES5éå†æ•°ç»„æ–¹æ³•</span><br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; colors.<span class="hljs-built_in">length</span>; i++)&#123; <br> <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(colors[i]);<span class="hljs-comment">//red blue green</span><br>&#125;<br><span class="hljs-comment">// ES6 forEach</span><br>colors.forEach(<span class="hljs-keyword">function</span>(<span class="hljs-params">color</span>)&#123;<br> <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(color);<span class="hljs-comment">//red blue green</span><br>&#125;);<br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬å†æ¥çœ‹ä¸ªä¾‹å­ï¼šéå†æ•°ç»„ä¸­çš„å€¼,å¹¶è®¡ç®—æ€»å’Œ</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-keyword">var</span> numbers = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>];<br><span class="hljs-keyword">var</span> <span class="hljs-built_in">sum</span> = <span class="hljs-number">0</span>;<br>numbers.forEach(<span class="hljs-function"><span class="hljs-params">number</span>=&gt;</span><span class="hljs-built_in">sum</span>+=<span class="hljs-built_in">number</span>)<br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-built_in">sum</span>)<span class="hljs-comment">//15</span><br></code></pre></td></tr></table></figure><h3 id="äºŒã€mapï¼šå°†æ•°ç»„æ˜ å°„æˆå¦ä¸€ä¸ªæ•°ç»„"><a href="#äºŒã€mapï¼šå°†æ•°ç»„æ˜ å°„æˆå¦ä¸€ä¸ªæ•°ç»„" class="headerlink" title="äºŒã€mapï¼šå°†æ•°ç»„æ˜ å°„æˆå¦ä¸€ä¸ªæ•°ç»„"></a>äºŒã€mapï¼šå°†æ•°ç»„æ˜ å°„æˆå¦ä¸€ä¸ªæ•°ç»„</h3><p><strong>mapé€šè¿‡æŒ‡å®šå‡½æ•°å¤„ç†æ•°ç»„çš„æ¯ä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›å¤„ç†åæ–°çš„æ•°ç»„ï¼Œmap ä¸ä¼šæ”¹å˜åŸå§‹æ•°ç»„ã€‚</strong></p><p><strong>forEachå’Œmapçš„åŒºåˆ«åœ¨äºï¼ŒforEachæ²¡æœ‰è¿”å›å€¼ã€‚</strong><br><strong>mapéœ€è¦è¿”å›å€¼ï¼Œå¦‚æœä¸ç»™returnï¼Œé»˜è®¤è¿”å›undefined</strong></p><p>ä½¿ç”¨åœºæ™¯1<br>å‡å®šæœ‰ä¸€ä¸ªæ•°å€¼æ•°ç»„(A),å°†Aæ•°ç»„ä¸­çš„å€¼ä»¥åŒå€çš„å½¢å¼æ”¾åˆ°Bæ•°ç»„</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-keyword">var</span> numbers = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>];<br><span class="hljs-keyword">var</span> doubledNumbers = [];<br><span class="hljs-comment">// es5å†™æ³•</span><br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; numbers.<span class="hljs-built_in">length</span>; i++)&#123;<br> doubledNumbers.<span class="hljs-built_in">push</span>(numbers[i] * <span class="hljs-number">2</span>);<br>&#125;<br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(doubledNumbers);<span class="hljs-comment">//[2,4,6]</span><br></code></pre></td></tr></table></figure><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-comment">// es6 mapæ–¹æ³•</span><br><span class="hljs-keyword">var</span> doubled = numbers.<span class="hljs-built_in">map</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">number</span>)&#123;<br>   <span class="hljs-keyword">return</span> <span class="hljs-built_in">number</span> * <span class="hljs-number">2</span>;<br>&#125;)<br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(doubled);<span class="hljs-comment">//[2,4,6]</span><br></code></pre></td></tr></table></figure><p>ä½¿ç”¨åœºæ™¯2 å‡å®šæœ‰ä¸€ä¸ªå¯¹è±¡æ•°ç»„(A),å°†Aæ•°ä¸­å¯¹è±¡æŸä¸ªå±æ€§çš„å€¼å­˜å‚¨åˆ°Bæ•°ç»„ä¸­</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-keyword">var</span> cars = [<br>  &#123;<span class="hljs-attr">model</span>:<span class="hljs-string">&quot;Buick&quot;</span>,<span class="hljs-attr">price</span>:<span class="hljs-string">&quot;CHEAP&quot;</span>&#125;,<br>  &#123;<span class="hljs-attr">model</span>:<span class="hljs-string">&quot;BMW&quot;</span>,<span class="hljs-attr">price</span>:<span class="hljs-string">&quot;expensive&quot;</span>&#125;<br>];<br><span class="hljs-keyword">var</span> prices = cars.<span class="hljs-built_in">map</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">car</span>)&#123;<br>    <span class="hljs-keyword">return</span> car.price;<br>&#125;)<br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(prices);<span class="hljs-comment">//[&quot;CHEAP&quot;, &quot;expensive&quot;]</span><br></code></pre></td></tr></table></figure><h3 id="ä¸‰ã€filterï¼šä»æ•°ç»„ä¸­æ‰¾å‡ºæ‰€æœ‰ç¬¦åˆæŒ‡å®šæ¡ä»¶çš„å…ƒç´ "><a href="#ä¸‰ã€filterï¼šä»æ•°ç»„ä¸­æ‰¾å‡ºæ‰€æœ‰ç¬¦åˆæŒ‡å®šæ¡ä»¶çš„å…ƒç´ " class="headerlink" title="ä¸‰ã€filterï¼šä»æ•°ç»„ä¸­æ‰¾å‡ºæ‰€æœ‰ç¬¦åˆæŒ‡å®šæ¡ä»¶çš„å…ƒç´ "></a>ä¸‰ã€filterï¼šä»æ•°ç»„ä¸­æ‰¾å‡ºæ‰€æœ‰ç¬¦åˆæŒ‡å®šæ¡ä»¶çš„å…ƒç´ </h3><p><strong>filter() æ£€æµ‹æ•°å€¼å…ƒç´ ï¼Œå¹¶è¿”å›ç¬¦åˆæ¡ä»¶æ‰€æœ‰å…ƒç´ çš„æ•°ç»„ã€‚ filter() ä¸ä¼šæ”¹å˜åŸå§‹æ•°ç»„ã€‚</strong></p><p><strong>ä½¿ç”¨åœºæ™¯1ï¼šå‡å®šæœ‰ä¸€ä¸ªå¯¹è±¡æ•°ç»„(A),è·å–æ•°ç»„ä¸­æŒ‡å®šç±»å‹çš„å¯¹è±¡æ”¾åˆ°Bæ•°ç»„ä¸­</strong></p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">var porducts = [<br>  &#123;<span class="hljs-type">name</span>:&quot;cucumber&quot;,<span class="hljs-keyword">type</span>:&quot;vegetable&quot;&#125;,<br>  &#123;<span class="hljs-type">name</span>:&quot;banana&quot;,<span class="hljs-keyword">type</span>:&quot;fruit&quot;&#125;,<br>  &#123;<span class="hljs-type">name</span>:&quot;celery&quot;,<span class="hljs-keyword">type</span>:&quot;vegetable&quot;&#125;,<br>  &#123;<span class="hljs-type">name</span>:&quot;orange&quot;,<span class="hljs-keyword">type</span>:&quot;fruit&quot;&#125;<br>];<br>// es5å†™æ³•<br>var filteredProducts = [];<br><span class="hljs-keyword">for</span>(var i = <span class="hljs-number">0</span>; i &lt; porducts.length; i++)&#123;<br>    <span class="hljs-keyword">if</span>(porducts[i].<span class="hljs-keyword">type</span> === &quot;vegetable&quot;)&#123;<br>      filteredProducts.push(porducts[i]);<br>    &#125;<br>&#125;<br>console.log(filteredProducts);//[&#123;<span class="hljs-type">name</span>: &quot;cucumber&quot;, <span class="hljs-keyword">type</span>: &quot;vegetable&quot;&#125;,<br>                                 &#123;<span class="hljs-type">name</span>: &quot;celery&quot;, <span class="hljs-keyword">type</span>: &quot;vegetable&quot;&#125;]<br>// es6 <span class="hljs-keyword">filter</span><br>var filtered2 = porducts.<span class="hljs-keyword">filter</span>(<span class="hljs-keyword">function</span>(product)&#123;<br>  <span class="hljs-keyword">return</span> product.<span class="hljs-keyword">type</span> === &quot;vegetable&quot;;<br>&#125;)<br>console.log(filtered2);<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨åœºæ™¯2ï¼šå‡å®šæœ‰ä¸€ä¸ªå¯¹è±¡æ•°ç»„(A),è¿‡æ»¤æ‰ä¸æ»¡è¶³ä»¥ä¸‹æ¡ä»¶çš„å¯¹è±¡<br>æ¡ä»¶: è”¬èœ æ•°é‡å¤§äº0,ä»·æ ¼å°äº10</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">var products = [<br>  &#123;<span class="hljs-type">name</span>:&quot;cucumber&quot;,<span class="hljs-keyword">type</span>:&quot;vegetable&quot;,quantity:<span class="hljs-number">0</span>,price:<span class="hljs-number">1</span>&#125;,<br>  &#123;<span class="hljs-type">name</span>:&quot;banana&quot;,<span class="hljs-keyword">type</span>:&quot;fruit&quot;,quantity:<span class="hljs-number">10</span>,price:<span class="hljs-number">16</span>&#125;,<br>  &#123;<span class="hljs-type">name</span>:&quot;celery&quot;,<span class="hljs-keyword">type</span>:&quot;vegetable&quot;,quantity:<span class="hljs-number">30</span>,price:<span class="hljs-number">8</span>&#125;,<br>  &#123;<span class="hljs-type">name</span>:&quot;orange&quot;,<span class="hljs-keyword">type</span>:&quot;fruit&quot;,quantity:<span class="hljs-number">3</span>,price:<span class="hljs-number">6</span>&#125;<br>];<br>products = products.<span class="hljs-keyword">filter</span>(<span class="hljs-keyword">function</span>(product)&#123;<br>    <span class="hljs-keyword">return</span> product.<span class="hljs-keyword">type</span> === &quot;vegetable&quot; <br>    &amp;&amp; product.quantity &gt; <span class="hljs-number">0</span> <br>    &amp;&amp; product.price &lt; <span class="hljs-number">10</span><br>&#125;)<br>console.log(products);//[&#123;<span class="hljs-type">name</span>:&quot;celery&quot;,<span class="hljs-keyword">type</span>:&quot;vegetable&quot;,quantity:<span class="hljs-number">30</span>,price:<span class="hljs-number">8</span>&#125;]<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨åœºæ™¯3ï¼šå‡å®šæœ‰ä¸¤ä¸ªæ•°ç»„(A,B),æ ¹æ®Aä¸­idå€¼,è¿‡æ»¤æ‰Bæ•°ç»„ä¸ç¬¦åˆçš„æ•°æ®</p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs maxima"><span class="hljs-built_in">var</span> post = &#123;id:<span class="hljs-number">4</span>,<span class="hljs-built_in">title</span>:<span class="hljs-string">&quot;Javascript&quot;</span>&#125;;<br><span class="hljs-built_in">var</span> comments = [<br>   &#123;postId:<span class="hljs-number">4</span>,<span class="hljs-built_in">content</span>:<span class="hljs-string">&quot;Angular4&quot;</span>&#125;,<br>   &#123;postId:<span class="hljs-number">2</span>,<span class="hljs-built_in">content</span>:<span class="hljs-string">&quot;Vue.js&quot;</span>&#125;,<br>   &#123;postId:<span class="hljs-number">3</span>,<span class="hljs-built_in">content</span>:<span class="hljs-string">&quot;Node.js&quot;</span>&#125;,<br>   &#123;postId:<span class="hljs-number">4</span>,<span class="hljs-built_in">content</span>:<span class="hljs-string">&quot;React.js&quot;</span>&#125;,<br>];<br>function commentsForPost(post,comments)&#123;<br>   <span class="hljs-built_in">return</span> comments.filter(function(comment)&#123;<br>     <span class="hljs-built_in">return</span> comment.postId === post.id;<br>   &#125;)<br>&#125;<br>console.<span class="hljs-built_in">log</span>(commentsForPost(post,comments));//[&#123;postId:<span class="hljs-number">4</span>,<span class="hljs-built_in">content</span>:<span class="hljs-string">&quot;Angular4&quot;</span>&#125;,&#123;postId:<span class="hljs-number">4</span>,<span class="hljs-built_in">content</span>:<span class="hljs-string">&quot;React.js&quot;</span>&#125;]<br></code></pre></td></tr></table></figure><h3 id="å››ã€findï¼šè¿”å›é€šè¿‡æµ‹è¯•ï¼ˆå‡½æ•°å†…åˆ¤æ–­ï¼‰çš„æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„å€¼"><a href="#å››ã€findï¼šè¿”å›é€šè¿‡æµ‹è¯•ï¼ˆå‡½æ•°å†…åˆ¤æ–­ï¼‰çš„æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„å€¼" class="headerlink" title="å››ã€findï¼šè¿”å›é€šè¿‡æµ‹è¯•ï¼ˆå‡½æ•°å†…åˆ¤æ–­ï¼‰çš„æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„å€¼"></a>å››ã€findï¼šè¿”å›é€šè¿‡æµ‹è¯•ï¼ˆå‡½æ•°å†…åˆ¤æ–­ï¼‰çš„æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„å€¼</h3><p><strong>å®ƒçš„å‚æ•°æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œæ‰€æœ‰æ•°ç»„æˆå‘˜ä¾æ¬¡æ‰§è¡Œè¯¥å›è°ƒå‡½æ•°ï¼Œç›´åˆ°æ‰¾å‡ºç¬¬ä¸€ä¸ªè¿”å›å€¼ä¸ºtrueçš„æˆå‘˜ï¼Œç„¶åè¿”å›è¯¥æˆå‘˜ã€‚å¦‚æœæ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„æˆå‘˜ï¼Œåˆ™è¿”å›undefinedã€‚</strong><br>ä½¿ç”¨åœºæ™¯1<br>å‡å®šæœ‰ä¸€ä¸ªå¯¹è±¡æ•°ç»„(A),æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„å¯¹è±¡</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"> var users = [<br>  &#123;<span class="hljs-type">name</span>:&quot;Jill&quot;&#125;,<br>  &#123;<span class="hljs-type">name</span>:&quot;Alex&quot;,id:<span class="hljs-number">2</span>&#125;,<br>  &#123;<span class="hljs-type">name</span>:&quot;Bill&quot;&#125;,<br>  &#123;<span class="hljs-type">name</span>:&quot;Alex&quot;&#125;<br> ];<br>// es5æ–¹æ³•<br> var <span class="hljs-keyword">user</span>;<br> <span class="hljs-keyword">for</span>(var i = <span class="hljs-number">0</span>; i &lt; users.length; i++)&#123;<br>  <span class="hljs-keyword">if</span>(users[i].name === &quot;Alex&quot;)&#123;<br>    <span class="hljs-keyword">user</span> = users[i];<br>    break;//æ‰¾åˆ°åå°±ç»ˆæ­¢å¾ªç¯<br>  &#125;<br> &#125;<br> console.log(<span class="hljs-keyword">user</span>);// &#123;<span class="hljs-type">name</span>:&quot;Alex&quot;,id:<span class="hljs-number">2</span>&#125;<br>// es6 find<br><span class="hljs-keyword">user</span> = users.find(<span class="hljs-keyword">function</span>(<span class="hljs-keyword">user</span>)&#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">user</span>.name === &quot;Alex&quot;;<br>&#125;)<br>console.log(<span class="hljs-keyword">user</span>);// &#123;<span class="hljs-type">name</span>:&quot;Alex&quot;,id:<span class="hljs-number">2</span>&#125;æ‰¾åˆ°åå°±ç»ˆæ­¢å¾ªç¯<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨åœºæ™¯2ï¼šå‡å®šæœ‰ä¸€ä¸ªå¯¹è±¡æ•°ç»„(A),æ ¹æ®æŒ‡å®šå¯¹è±¡çš„æ¡ä»¶æ‰¾åˆ°æ•°ç»„ä¸­ç¬¦åˆæ¡ä»¶çš„å¯¹è±¡</p><figure class="highlight qml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs qml"><span class="hljs-keyword">var</span> posts = [<br> &#123;<span class="hljs-attribute">id:</span><span class="hljs-string">3,title</span>:<span class="hljs-string">&quot;Node.js&quot;</span>&#125;,<br> &#123;<span class="hljs-attribute">id:</span><span class="hljs-string">1,title</span>:<span class="hljs-string">&quot;React.js&quot;</span>&#125;<br>];<br><span class="hljs-keyword">var</span> comment = &#123;<span class="hljs-attribute">postId</span>:<span class="hljs-number">1</span>,<span class="hljs-attribute">content</span>:<span class="hljs-string">&quot;Hello World!&quot;</span>&#125;;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">postForComment</span>(<span class="hljs-params">posts,comment</span>)</span>&#123;<br> <span class="hljs-keyword">return</span> posts.find(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">post</span>)</span>&#123;<br>   <span class="hljs-keyword">return</span> post.id === comment.postId;<br> &#125;)<br>&#125;<br><span class="hljs-built_in">console</span>.log(postForComment(posts,comment));<span class="hljs-comment">//&#123;id: 1, title: &quot;React.js&quot;&#125;</span><br></code></pre></td></tr></table></figure><h3 id="äº”ã€every-amp-some"><a href="#äº”ã€every-amp-some" class="headerlink" title="äº”ã€every&amp;some"></a>äº”ã€every&amp;some</h3><p><strong>everyï¼šæ•°ç»„ä¸­æ˜¯å¦æ¯ä¸ªå…ƒç´ éƒ½æ»¡è¶³æŒ‡å®šçš„æ¡ä»¶</strong><br><strong>some:æ•°ç»„ä¸­æ˜¯å¦æœ‰å…ƒç´ æ»¡è¶³æŒ‡å®šçš„æ¡ä»¶</strong></p><p>ä½¿ç”¨åœºæ™¯1ï¼šè®¡ç®—å¯¹è±¡æ•°ç»„ä¸­æ¯ä¸ªç”µè„‘æ“ä½œç³»ç»Ÿæ˜¯å¦å¯ç”¨ï¼Œå¤§äº16ä½æ“ä½œç³»ç»Ÿè¡¨ç¤ºå¯ç”¨,å¦åˆ™ä¸å¯ç”¨</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-comment">//ES5æ–¹æ³•</span><br><span class="hljs-keyword">var</span> computers = [<br> &#123;<span class="hljs-attr">name</span>:<span class="hljs-string">&quot;Apple&quot;</span>,<span class="hljs-attr">ram</span>:<span class="hljs-number">16</span>&#125;,<br> &#123;<span class="hljs-attr">name</span>:<span class="hljs-string">&quot;IBM&quot;</span>,<span class="hljs-attr">ram</span>:<span class="hljs-number">4</span>&#125;,<br> &#123;<span class="hljs-attr">name</span>:<span class="hljs-string">&quot;Acer&quot;</span>,<span class="hljs-attr">ram</span>:<span class="hljs-number">32</span>&#125;<br>];<br><span class="hljs-keyword">var</span> everyComputersCanRunProgram = <span class="hljs-literal">true</span>;<br><span class="hljs-keyword">var</span> someComputersCanRunProgram = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; computers.<span class="hljs-built_in">length</span>; i++)&#123;<br> <span class="hljs-keyword">var</span> computer = computers[i];<br> <span class="hljs-keyword">if</span>(computer.ram &lt; <span class="hljs-number">16</span>)&#123;<br>   everyComputersCanRunProgram = <span class="hljs-literal">false</span>;<br> &#125;<span class="hljs-keyword">else</span>&#123;<br>   someComputersCanRunProgram = <span class="hljs-literal">true</span>;<br> &#125;<br>&#125;<br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(everyComputersCanRunProgram);<span class="hljs-comment">//false</span><br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(someComputersCanRunProgram);<span class="hljs-comment">//true</span><br></code></pre></td></tr></table></figure><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs maxima">//ES6 <span class="hljs-built_in">some</span> <span class="hljs-built_in">every</span> <br><span class="hljs-built_in">var</span> <span class="hljs-built_in">every</span> = computers.<span class="hljs-built_in">every</span>(function(computer)&#123;<br>  <span class="hljs-built_in">return</span> computer.ram &gt; <span class="hljs-number">16</span>;<br>&#125;)<br>console.<span class="hljs-built_in">log</span>(<span class="hljs-built_in">every</span>);//<span class="hljs-literal">false</span><br><span class="hljs-built_in">var</span> <span class="hljs-built_in">some</span> = computers.<span class="hljs-built_in">some</span>(function(computer)&#123;<br> <span class="hljs-built_in">return</span> computer.ram &gt; <span class="hljs-number">16</span>;<br>&#125;)<br>console.<span class="hljs-built_in">log</span>(<span class="hljs-built_in">some</span>);//<span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure><p><strong>ä¸€è¨€ä»¥è”½ä¹‹ï¼šSome: ä¸€çœŸå³çœŸï¼›Every: ä¸€å‡å³å‡</strong></p><p>ä½¿ç”¨åœºæ™¯2ï¼šå‡å®šæœ‰ä¸€ä¸ªæ³¨å†Œé¡µé¢,åˆ¤æ–­æ‰€æœ‰inputå†…å®¹çš„é•¿åº¦æ˜¯å¦å¤§äº0</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Field</span>(<span class="hljs-params">value</span>)&#123;<br>  this.value = value;<br>&#125;<br>Field.prototype.validate = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>  <span class="hljs-keyword">return</span> this.value.<span class="hljs-built_in">length</span> &gt; <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">//ES5æ–¹æ³•</span><br><span class="hljs-keyword">var</span> username = <span class="hljs-keyword">new</span> Field(<span class="hljs-string">&quot;henrywu&quot;</span>);<br><span class="hljs-keyword">var</span> telephone = <span class="hljs-keyword">new</span> Field(<span class="hljs-string">&quot;18888888888&quot;</span>);<br><span class="hljs-keyword">var</span> password = <span class="hljs-keyword">new</span> Field(<span class="hljs-string">&quot;my_password&quot;</span>);<br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(username.validate());<span class="hljs-comment">//true</span><br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(telephone.validate());<span class="hljs-comment">//true</span><br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(password.validate());<span class="hljs-comment">//true</span><br></code></pre></td></tr></table></figure><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-comment">//ES6 some every</span><br><span class="hljs-keyword">var</span> fields = [username,telephone,password];<br><span class="hljs-keyword">var</span> formIsValid = fields.every(<span class="hljs-keyword">function</span>(<span class="hljs-params">field</span>)&#123;<br> <span class="hljs-keyword">return</span> field.validate();<br>&#125;)<br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(formIsValid);<span class="hljs-comment">//true</span><br><span class="hljs-keyword">if</span>(formIsValid)&#123;<br> <span class="hljs-comment">// æ³¨å†ŒæˆåŠŸ</span><br>&#125;<span class="hljs-keyword">else</span>&#123;<br>  <span class="hljs-comment">// ç»™ç”¨æˆ·ä¸€ä¸ªå‹å–„çš„é”™è¯¯æé†’</span><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="å…­ã€reduceï¼šå°†æ•°ç»„åˆæˆä¸€ä¸ªå€¼"><a href="#å…­ã€reduceï¼šå°†æ•°ç»„åˆæˆä¸€ä¸ªå€¼" class="headerlink" title="å…­ã€reduceï¼šå°†æ•°ç»„åˆæˆä¸€ä¸ªå€¼"></a>å…­ã€reduceï¼šå°†æ•°ç»„åˆæˆä¸€ä¸ªå€¼</h3><p><strong>reduce() æ–¹æ³•æ¥æ”¶ä¸€ä¸ªæ–¹æ³•ä½œä¸ºç´¯åŠ å™¨ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªå€¼(ä»å·¦è‡³å³) å¼€å§‹åˆå¹¶ï¼Œæœ€ç»ˆä¸ºä¸€ä¸ªå€¼ã€‚</strong></p><p>ä½¿ç”¨åœºæ™¯1ï¼š è®¡ç®—æ•°ç»„ä¸­æ‰€æœ‰å€¼çš„æ€»å’Œ</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs arcade"> <span class="hljs-keyword">var</span> numbers = [<span class="hljs-number">10</span>,<span class="hljs-number">20</span>,<span class="hljs-number">30</span>];<br> <span class="hljs-keyword">var</span> <span class="hljs-built_in">sum</span> = <span class="hljs-number">0</span>;<br><span class="hljs-comment">//es5 æ–¹æ³•</span><br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; numbers.<span class="hljs-built_in">length</span>; i++)&#123;<br>  <span class="hljs-built_in">sum</span> += numbers[i];<br>&#125;<br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-built_in">sum</span>);<br><span class="hljs-comment">// es6 reduce</span><br><span class="hljs-keyword">var</span> sumValue = numbers.<span class="hljs-built_in">reduce</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">sum2,number2</span>)&#123;<br>  <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(sum2);<span class="hljs-comment">//0 10 30 60</span><br>  <span class="hljs-keyword">return</span> sum2 + number2;<br>&#125;,<span class="hljs-number">0</span>);<span class="hljs-comment">//sum2åˆå§‹å€¼ä¸º0</span><br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(sumValue);<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨åœºæ™¯2ï¼š</p><p>å°†æ•°ç»„ä¸­å¯¹è±¡çš„æŸä¸ªå±æ€§æŠ½ç¦»åˆ°å¦å¤–ä¸€ä¸ªæ•°ç»„ä¸­</p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs maxima"><span class="hljs-built_in">var</span> primaryColors = [<br>  &#123;<span class="hljs-built_in">color</span>:<span class="hljs-string">&quot;red&quot;</span>&#125;,<br>  &#123;<span class="hljs-built_in">color</span>:<span class="hljs-string">&quot;yellow&quot;</span>&#125;,<br>  &#123;<span class="hljs-built_in">color</span>:<span class="hljs-string">&quot;blue&quot;</span>&#125;<br>];<br><span class="hljs-built_in">var</span> colors = primaryColors.reduce(function(previous,primaryColor)&#123;<br>   previous.<span class="hljs-built_in">push</span>(primaryColor.<span class="hljs-built_in">color</span>);<br>   <span class="hljs-built_in">return</span> previous;<br>&#125;,[]);<br>console.<span class="hljs-built_in">log</span>(colors);//[<span class="hljs-string">&quot;red&quot;</span>, <span class="hljs-string">&quot;yellow&quot;</span>, <span class="hljs-string">&quot;blue&quot;</span>]<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨åœºæ™¯3ï¼šåˆ¤æ–­å­—ç¬¦ä¸²ä¸­æ‹¬å·æ˜¯å¦å¯¹ç§°</p><figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs xquery"><span class="hljs-keyword">function</span> balancedParens<span class="hljs-built_in">(string</span>)&#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-built_in">!string</span>.split(<span class="hljs-string">&quot;&quot;</span>).reduce(<span class="hljs-keyword">function</span>(<span class="hljs-keyword">previous</span>,char)&#123;<br>    <span class="hljs-keyword">if</span>(<span class="hljs-keyword">previous</span> &lt; <span class="hljs-number">0</span>) &#123; <span class="hljs-keyword">return</span> <span class="hljs-keyword">previous</span>;&#125;<br>    <span class="hljs-keyword">if</span>(char == <span class="hljs-string">&quot;(&quot;</span>)&#123; <span class="hljs-keyword">return</span> ++<span class="hljs-keyword">previous</span>;&#125;<br>    <span class="hljs-keyword">if</span>(char == <span class="hljs-string">&quot;)&quot;</span>)&#123; <span class="hljs-keyword">return</span> --<span class="hljs-keyword">previous</span>;&#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">previous</span>;<br>  &#125;,<span class="hljs-number">0</span>);<br>&#125;<br>console.log(balancedParens(<span class="hljs-string">&quot;((())))&quot;</span>));<br></code></pre></td></tr></table></figure><p>åŸæ–‡é“¾æ¥:<a href="https://github.com/ljianshu/Blog/issues/31">ç»†è¯´æ•°ç»„å¸¸ç”¨éå†çš„æ–¹æ³•</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2021å¹´è‹±æ–‡é˜…è¯»å¹´ç»ˆæ€»ç»“</title>
    <link href="/2022/02/01/2021%E5%B9%B4%E8%8B%B1%E6%96%87%E9%98%85%E8%AF%BB%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93/"/>
    <url>/2022/02/01/2021%E5%B9%B4%E8%8B%B1%E6%96%87%E9%98%85%E8%AF%BB%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93/</url>
    
    <content type="html"><![CDATA[<p>è¿™æ˜¯å› ä¸ºç–«æƒ…æ— æ³•å›è€å®¶è¿‡å¹´çš„ç¬¬äºŒä¸ªæ˜¥èŠ‚ã€‚å€Ÿæ­¤è¾æ—§è¿æ–°ä¹‹é™…ï¼Œç›˜ç‚¹ä¸€ä¸‹2021å¹´è‹±æ–‡é˜…è¯»çš„çªç ´å’Œæ”¶è·ã€‚</p><p>7æœˆ-10æœˆä»½ï¼Œè¯»å®Œäº†2éƒ¨çŸ­ç¯‡å°è¯´ã€Šäº†ä¸èµ·çš„ç›–èŒ¨æ¯”ã€‹ã€Šæœˆäº®ä¸å…­ä¾¿å£«ã€‹ï¼Œä»¥åŠ2éƒ¨é•¿ç¯‡å°è¯´ï¼Œã€Šå‚²æ…¢ä¸åè§ã€‹ã€Šç®€çˆ±ã€‹ã€‚</p><h3 id="The-Great-Gatsby"><a href="#The-Great-Gatsby" class="headerlink" title="The Great Gatsby"></a>The Great Gatsby</h3><p>ã€Šäº†ä¸èµ·çš„ç›–èŒ¨æ¯”ã€‹ï¼Œç”±äºå®ƒçš„åæ°”å’Œä¸»é¢˜ï¼Œä¸€ç›´ä»¥ä¸ºæ˜¯ä¸ªä¿—å¥—åä¸½çš„çˆ±æƒ…æ•…äº‹ï¼Œé˜…è¯»ä¹‹å‰å¥½å¥‡ï¼Œæ˜¯å¦åŸä½œå’Œç”µå½±ä¸€æ ·åè€Œä¸å®ï¼Œä½†å½“æˆ‘å¼€å§‹ä¸ºä¸€æ®µåˆä¸€æ®µå¥å­æš—æš—æ¿€åŠ¨æ—¶ï¼Œå¿ƒæƒ³ï¼Œåº”è¯¥æ˜¯ä»æ­¤ä»¥åå–œæ¬¢è¯»è‹±æ–‡å°è¯´äº†ï¼Œç»ˆäºgetåˆ°äº†è‹±æ–‡å°è¯´çš„ç¾å¦™ä¹‹å¤„ã€‚åœ¨è²èŒ¨æ°æ‹‰å¾·ç¬”ä¸‹ï¼Œå“ªæ€•å¾®é£è½»è½»å¹åŠ¨é»›è¥¿è¡£é¢†ä¸Šçš„ç»’æ¯›ï¼Œéƒ½æå†™å¾—é‚£ä¹ˆè®©äººå¿ƒåŠ¨ã€‚</p><blockquote><p>It was James Gatz who had been loafing along the beach that afternoon in a torn green jersey and a pair of canvas pants, but it was already Jay Gatsby who borrowed a row-boat, pulled out to the Tuolomee and informed Cody that a wind might catch him and break him up in half an hour.</p></blockquote><blockquote><p>But his heart was in a constant, turbulent riot.The most grotesque and fantastic conceits haunted him in his bed at night. A universe of ineffable gaudiness spun itself out in his brain while the clock ticked on the wash-stand and the moon soaked with wet light his tangled clothes upon the floor. Each night he added to the pattern of his fancies until drowsiness closed down upon some vivid scene with an oblivious embrace. For a while these reveries provided an outlet  for his imagination; they were a satisfactory hint of the unreality of reality, a promise that the rock of the world was founded securely on a fairyâ€™s wing.</p></blockquote><p>é˜…è¯»å»ºè®®ï¼šå…¨ä¹¦5ä¸‡å­—ï¼Œè‹¥ä¸åœ¨æ„å‰§é€ï¼Œå¯ä»¥å…ˆé€šè¿‡ç”µå½±ç†Ÿæ‚‰åŸºæœ¬æƒ…èŠ‚ï¼Œå†è¯»å°è¯´ï¼Œè¿™æ ·å¯ä»¥å¯¹æ•´ä½“å‰§æƒ…æœ‰ä¸ªç®€å•åœ°æŠŠæ¡ï¼Œå†å»ç»†ç»†ä½“ä¼šå…¶ä¸­æå†™ã€‚</p><h3 id="The-Moon-and-Sixpence"><a href="#The-Moon-and-Sixpence" class="headerlink" title="The Moon and Sixpence"></a>The Moon and Sixpence</h3><p>ã€Šæœˆäº®ä¸å…­ä¾¿å£«ã€‹ï¼Œè¿½é€æ¢¦æƒ³å°±æ˜¯è¿½é€å„è¿ã€‚<br>è¿™æ®µè¯åˆæ¬¡è¯»åˆ°ä¾¿è¢«å‡»ä¸­ï¼Œç°åœ¨ç»ˆäºäº†è§£å®ƒçš„æ¥æºã€‚</p><p><img src="http://tva1.sinaimg.cn/large/006hVAtMly1h7yv4dwubxj30pn2bqn7j.jpg" alt="æœˆäº®ä¸å…­ä¾¿å£«é€‰æ®µ"></p><p>é˜…è¯»å»ºè®®ï¼šChapter1 å’Œ Chapter2 å¸¦æœ‰å¼ºçƒˆçš„è‰ºæœ¯è¯„è®ºæ€§è´¨ï¼Œæ˜¯å…¨ä¹¦æœ€éš¾è¯»çš„åœ°æ–¹ï¼Œå…¶ä½™éƒ¨åˆ†æ˜¯å™äº‹å°è¯´æ–‡ä½“ï¼Œå…±5ä¸‡å­—ã€‚å¦‚æœè§‰å¾—å‰ä¸¤ç« è¯»ä¸ä¸‹å»ï¼Œå¯ä»¥å…ˆçœ‹å™äº‹éƒ¨åˆ†ï¼Œå†çœ‹æ¯›å§†æœ¬äººæ˜¯å¦‚ä½•è¯„è®ºè¿™ä¸ªæ•…äº‹çš„ã€‚</p><h3 id="Pride-and-Prejudice"><a href="#Pride-and-Prejudice" class="headerlink" title="Pride and Prejudice"></a>Pride and Prejudice</h3><p>ã€Šå‚²æ…¢ä¸åè§ã€‹ï¼Œå·¥ä½œä¸å¿™çš„æ—¶å€™ï¼Œæ¯æ™šå¤§æ¦‚æœ‰ä¸€ä¸ªå°æ—¶çš„é˜…è¯»ï¼Œå‘¨æœ«çš„æ—¶å€™æ¯å¤©è¯»ä¸¤ä¸‰ä¸ªå°æ—¶ã€‚æ²‰æµ¸å…¶ä¸­è¿«ä¸åŠå¾…æƒ³è¦çŸ¥æ™“æ¥ä¸‹æ¥çš„æƒ…èŠ‚ï¼Œå…¨éƒ¨è¯»å®ŒèŠ±äº†18å¤©ã€‚æ–‡å­¦ä½œå“æä¾›äº†å¤§é‡ä¸°å¯Œçš„ç»†èŠ‚ï¼Œä¼Šä¸½èç™½å¯¹è¾¾è¥¿çš„å°å¿ƒæ€ï¼Œå§‘å¦ˆå®¶å¯¹ç®€å’Œä¼Šä¸½èç™½ä¸¤äººå‘½è¿çš„å½±å“ï¼Œç­å†…ç‰¹å…ˆç”Ÿè¾›è¾£çš„å¹½é»˜ï¼Œè¿˜æœ‰å§å¦¹ä¸¤äººä¹‹é—´äº’ç›¸æ‰“è¶£çš„ä¿çš®è¯ï¼Œéƒ½æ˜¯åªæœ‰åŸè‘—æ‰èƒ½æä¾›çš„ã€‚</p><p><img src="http://tva1.sinaimg.cn/large/006hVAtMly1h7yv50oatbj30u013znc5.jpg" alt="å‚²æ…¢ä¸åè§é€‰æ®µ"></p><h3 id="Jane-Eyre"><a href="#Jane-Eyre" class="headerlink" title="Jane Eyre"></a>Jane Eyre</h3><p>ã€Šå‚²æ…¢ä¸åè§ã€‹12ä¸‡å¤šå­—ï¼Œã€Šç®€çˆ±ã€‹18ä¸‡å¤šå­—ï¼Œæ— è®ºå­—æ•°è¿˜æ˜¯æ•…äº‹é£æ ¼ï¼Œéƒ½å¾ˆé€‚åˆä½œä¸ºè¡”æ¥ã€‚æ‰€ä»¥è¶çƒ­æ‰“é“å¼€å¯äº†ã€Šç®€çˆ±ã€‹çš„é˜…è¯»ã€‚ä¸åŒäºå‰è€…è‹±å¼ä¹¡æ‘ç”°å›­é£æƒ…ï¼Œç®€çˆ±å¸¦æœ‰æ˜æ˜¾é˜´éƒçš„å“¥ç‰¹çš„è‰²å½©ï¼Œå’ŒåŸºç£æ•™æ–‡åŒ–è‰²å½©ä¹Ÿæ›´æµ“ä¸€äº›ã€‚</p><p>æ„Ÿåˆ°å¹¸è¿ï¼ˆæˆ–è€…ä¸å¹¸ï¼‰çš„ä¸€ç‚¹æ˜¯ï¼Œè¿™ä¸¤æœ¬ä¹¦çš„ä¸­æ–‡ç‰ˆæˆ‘æ²¡æœ‰çœ‹è¿‡ï¼Œæ‰€ä»¥å°è¯´æƒ…èŠ‚å¯¹æˆ‘æ¥è¯´æ˜¯å®Œå…¨å´­æ–°çš„ï¼Œå°æ—¶å€™åœ¨ä¹¦åº—ç¿»è¿‡å‡ é¡µã€Šç®€çˆ±ã€‹ï¼Œå­¤å„¿é™¢äº’ç›¸å–æš–çš„ä¼™ä¼´ä¸å¹¸å»ä¸–ï¼Œç®€çˆ±é­å—çš„ç§ç§è®©å¹¼å°çš„æˆ‘å–˜ä¸è¿‡æ°”æ¥ã€‚å†æ‹¿èµ·è¿™æœ¬ä¹¦ï¼Œå·²ç»æ˜¯åå‡ å¹´åäº†ã€‚</p><p><img src="http://tva1.sinaimg.cn/large/006hVAtMly1h7yv58u34ej30u013zduu.jpg" alt="ç®€çˆ±é€‰æ®µ"></p><p>å°‘å¥³æ—¶æœŸçš„æˆ‘å¯¹å¤–å›½åè‘—å®Œå…¨ä¸æ„Ÿå†’ï¼Œä½¶å±ˆè±ç‰™çš„ç¿»è¯‘ï¼Œå†—é•¿æ¯ç‡¥çš„äººåï¼ŒåŠ¨è¾„å¤§æ®µæ¯«æ— å…±é¸£çš„ç¯å¢ƒæå†™ï¼Œéƒ½æŠŠæˆ‘æ‹¦åœ¨äº†å¤§é—¨å¤–ã€‚è€Œä»Šæˆ‘å¦‚é¥¥ä¼¼æ¸´è¯»å®Œä¸¤æœ¬åŸç‰ˆåè‘—ï¼Œé™¶é†‰å…¶ä¸­çš„åŒæ—¶ä¹Ÿæ·±æ„Ÿå¹¼å¹´å¯è’™çš„é‡è¦æ€§ï¼Œè‹±ç¾æ–‡å­¦è¿™æ‰‡é—¨ï¼Œç»ˆäºæ¨å¼€äº†ä¸€æ¡å°ç¼ã€‚</p><p><img src="http://tva1.sinaimg.cn/large/006hVAtMly1h7yv78emhyj30pt0h54ce.jpg" alt="ç”µå½±é€‰æ‹©çš„æ˜¯2011å¹´ç‰ˆæœ¬"></p><h3 id="TOFEL-Reading"><a href="#TOFEL-Reading" class="headerlink" title="TOFEL Reading"></a>TOFEL Reading</h3><p>å¤å¤©ä¸šåŠ¡å¿™ç¢Œçš„ç¢ç‰‡äº‹ä»¶åšç‚¹æ‰˜ç¦é˜…è¯»ï¼Œæ‰“å°ç½‘ä¸Šæ•´ç†å¥½çš„åˆ†ç±»æ–‡ç« ï¼Œç”Ÿç‰©ã€è‰ºæœ¯ã€ç”Ÿæ€ã€å¿ƒç†ç­‰ï¼Œå…¶ä¸­ç”Ÿç‰©ç¯‡åšçš„æœ€å¤šã€‚15åˆ†é’Ÿä¸€ç¯‡çš„ç»ƒæ‰‹ï¼Œå¦‚åŒç‚çƒ­å¤©æ°”ä¸­ä¸€å£æ°”åƒä¸‹åŠä¸ªå†°é•‡è¥¿ç“œã€‚</p><p>å–œæ¬¢éè™šæ„é˜…è¯»ï¼Œè®°å½•ä¸‹æ–‡ç« æåŠå­¦ç§‘ä¸“æœ‰åè¯ï¼Œè¯æ ¹è¡ç”Ÿçš„å¸¸è§å…¶ä»–åè¯ï¼Œç¬”å°–åœ¨çº¸å¼ ä¸Šè¡Œèµ°ï¼Œåƒä¸€åªå‹¤å¥‹çš„å°èš‚èšã€‚å¾ˆå¤šå­¦ç§‘åè¯å¤§æ¦‚åœ¨æ‰˜ç¦é˜…è¯»ä»¥å¤–çš„åœ°æ–¹ä¸ä¼šå†ç”¨ï¼Œä½†å¤©ç„¶å–œæ¬¢å®ƒä»¬ï¼Œä»¿ä½›å¸¦ç€æŸç§æ—¢å®šçš„å®‰å®å’Œç§©åºã€‚</p><p><img src="http://tva1.sinaimg.cn/large/006hVAtMly1h7yv7de461j30u0140ap5.jpg" alt="éšä¾¿è¯»è¯»"></p>]]></content>
    
    
    
    <tags>
      
      <tag>è‹±è¯­</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ•°ç»„å†…ç½®æ’åºå‡½æ•°å¯¹æ¯”</title>
    <link href="/2021/03/16/%E6%95%B0%E7%BB%84%E5%86%85%E7%BD%AE%E6%8E%92%E5%BA%8F%E5%87%BD%E6%95%B0%E5%AF%B9%E6%AF%94/"/>
    <url>/2021/03/16/%E6%95%B0%E7%BB%84%E5%86%85%E7%BD%AE%E6%8E%92%E5%BA%8F%E5%87%BD%E6%95%B0%E5%AF%B9%E6%AF%94/</url>
    
    <content type="html"><![CDATA[<p>PHP æ‰‹å†Œä¸“é—¨åˆ—å‡ºäº†æ•°ç»„å†…ç½®æ’åºå‡½æ•°çš„å±æ€§ä¸€è§ˆè¡¨, ä¸è¿‡ä»”ç»†çœ‹å°±ä¼šå‘ç°, è¿™ä¸ªè¡¨æ ¼æ¯”è¾ƒä¹±, ç¼ºä¹æ¡ç†æ€§</p><p><img src="http://tva1.sinaimg.cn/large/006hVAtMly1h7sc3ccty4j310s0hg10u.jpg" alt="å›¾ç‰‡"></p><p>å› æ­¤æˆ‘å¯¹è¿™äº›æ’åºå‡½æ•°åšäº†ç®€å•çš„å½’ç±»å’Œå¯¹æ¯”, è¿™æ ·çœ‹èµ·æ¥ä¸€ç›®äº†ç„¶, ä¹Ÿä»å®¹æ˜“è®°å¿†ä½¿ç”¨äº†.</p><p><img src="http://tva1.sinaimg.cn/large/006hVAtMly1h86324fmjhj31hc0sg1k2.jpg" alt="å›¾ç‰‡"></p><p>é¦–å…ˆå¸¦æœ‰ sort çš„åˆ†ä¸º 3 ç»„ 6 å¯¹, æ¯å¯¹ä¹‹é—´æ˜¯æ­£åº&#x2F;å€’åºçš„ç›¸åå…³ç³»,å…¶ä»–å±æ€§ç›¸åŒ.</p><p>sort å’Œ asort çš„åŒºåˆ«æ˜¯:æ˜¯å¦åœ¨æ’åºæ—¶ä¿æŒé”®å€¼å…³è”</p><p>åªæœ‰ sort&#x2F;rsort&#x2F;shuffle æ’åºä¸éœ€è¦è€ƒè™‘é”®çš„é—®é¢˜,å¯éšæ„ä½¿ç”¨</p><p>ç”¨æˆ·å¯è‡ªå®šä¹‰æ’åºå‡½æ•° :usort&#x2F;uasort&#x2F;uksort</p><p>natsort&#x2F;natcasesort åè€…çš„ case æŒ‡çš„æ˜¯å¿½ç•¥å¤§å°å†™</p><p>array_multisort çš„åŸºæœ¬æ’åºæ–¹å¼æ˜¯: arrayA æŒ‰ç…§é”®å€¼å¤§å°æ’åº,ç„¶åå…¶ä»– array éƒ½æŒ‰ç…§ arrayA çš„è°ƒæ•´ç­–ç•¥è·Ÿç€è°ƒæ•´</p><p>å‚è€ƒ:<a href="https://www.php.net/manual/zh/array.sorting.php">https://www.php.net/manual/zh/array.sorting.php</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>PHP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>github-hexo ä¸¤å°æ—¶å¿«é€Ÿæ­å»ºä¸ªäººåšå®¢ç½‘ç«™</title>
    <link href="/2021/03/15/github-hexo%20%E4%B8%A4%E5%B0%8F%E6%97%B6%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E7%BD%91%E7%AB%99/"/>
    <url>/2021/03/15/github-hexo%20%E4%B8%A4%E5%B0%8F%E6%97%B6%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E7%BD%91%E7%AB%99/</url>
    
    <content type="html"><![CDATA[<p>ä»Šå¤©ç”¨ 2 ä¸ªå°æ—¶çš„æ—¶é—´å®Œæˆäº† Hexo ä¸ªäººåšå®¢çš„æœ€åŸºæœ¬æ­å»ºï¼Œå› æ­¤åšå®¢çš„ç¬¬ä¸€ç¯‡æ–‡ç« å°±æ˜¯ä¸æ­¤æœ‰å…³ã€‚</p><p>æ­¤åšå®¢çš„æ­å»ºä½¿ç”¨çš„æ˜¯ CSDN ä¸Šçœ‹åˆ°çš„ä¸€ç¯‡æ•™ç¨‹ï¼š</p><p><a href="https://blog.csdn.net/sinat_37781304/article/details/82729029">https://blog.csdn.net/sinat_37781304&#x2F;article&#x2F;details&#x2F;82729029</a></p><p>è¯¥æ•™ç¨‹åå‰¯å…¶å®ï¼Œæˆ–è®¸å¯ä»¥ç§°å¾—ä¸Šâ€œå²ä¸Šæœ€å…¨â€ï¼Œåˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼š</p><p>ç¬¬ä¸€éƒ¨åˆ†ï¼šhexo çš„åˆçº§æ­å»ºè¿˜æœ‰éƒ¨ç½²åˆ° github page ä¸Šï¼Œä»¥åŠä¸ªäººåŸŸåçš„ç»‘å®šã€‚</p><p>ç¬¬äºŒéƒ¨åˆ†ï¼šhexo çš„åŸºæœ¬é…ç½®ï¼Œæ›´æ¢ä¸»é¢˜ï¼Œå®ç°å¤šç»ˆç«¯å·¥ä½œï¼Œä»¥åŠåœ¨ coding page éƒ¨ç½²å®ç°å›½å†…å¤–åˆ†æµ</p><p>ç¬¬ä¸‰éƒ¨åˆ†ï¼šhexo æ·»åŠ å„ç§åŠŸèƒ½ï¼ŒåŒ…æ‹¬æœç´¢çš„ SEOï¼Œé˜…è¯»é‡ç»Ÿè®¡ï¼Œè®¿é—®é‡ç»Ÿè®¡å’Œè¯„è®ºç³»ç»Ÿç­‰ã€‚</p><p>æ­¤åšå®¢éƒ¨ç½²å®Œæˆåï¼Œå¦‚ä½ æ‰€è§ï¼Œä½¿ç”¨çš„ github ç»™å®šåŸŸåï¼Œæš‚æœªè®¾ç½®ä¸ªäººåŸŸåã€‚ç„¶åå¯¹ç½‘ç«™çš„è¯­è¨€ã€æ ‡é¢˜ã€é£æ ¼ä¸»é¢˜ç­‰è¿›è¡Œäº†è®¾ç½®ã€‚å…¶ä»–æ‰©å±•åŠŸèƒ½æš‚æœªä¸Šçº¿ï¼Œå¯ä»¥æ»¡è¶³æœ€åŸºæœ¬çš„éœ€è¦ã€‚</p><p>ä»¥ä¸‹æ˜¯ Hexo æ­å»ºæ­¥éª¤ï¼Œç‚¹å‡»æ•™ç¨‹åšèµ·æ¥å§ï¼Œä½ ä¹Ÿå¯ä»¥è½»æ¾æ‹¥æœ‰è‡ªå·±çš„ç½‘ç«™ã€‚</p><ol><li>å®‰è£… Git</li><li>å®‰è£… Node.js</li><li>å®‰è£… Hexo</li><li>GitHub åˆ›å»ºä¸ªäººä»“åº“</li><li>ç”Ÿæˆ SSH æ·»åŠ åˆ° GitHub</li><li>å°† hexo éƒ¨ç½²åˆ° GitHub</li><li>è®¾ç½®ä¸ªäººåŸŸå</li><li>å‘å¸ƒæ–‡ç« </li></ol>]]></content>
    
    
    
    <tags>
      
      <tag>github, Hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€Šå¿ƒæµï¼šæœ€ä¼˜ä½“éªŒå¿ƒç†å­¦ã€‹ï¼šä¸€æœ¬æé«˜å¹¸ç¦æ„Ÿå’Œæ•ˆç‡çš„è¡ŒåŠ¨æŒ‡å—</title>
    <link href="/2021/02/15/%E5%BF%83%E6%B5%81%EF%BC%9A%E6%9C%80%E4%BC%98%E4%BD%93%E9%AA%8C%E5%BF%83%E7%90%86%E5%AD%A6/"/>
    <url>/2021/02/15/%E5%BF%83%E6%B5%81%EF%BC%9A%E6%9C%80%E4%BC%98%E4%BD%93%E9%AA%8C%E5%BF%83%E7%90%86%E5%AD%A6/</url>
    
    <content type="html"><![CDATA[<p><img src="http://tva1.sinaimg.cn/large/006hVAtMly1h7ywlj8d8lj30u00mfjuy.jpg" alt="ã€Šå¿ƒæµã€‹ä¸­è‹±æ–‡ç‰ˆæœ¬"></p><p>â€œå¿ƒæµâ€æ˜¯æŒ‡æˆ‘ä»¬åœ¨åšæŸä»¶äº‹æ—¶ï¼Œé‚£ç§å…¨ç¥è´¯æ³¨ã€æŠ•å…¥å¿˜æˆ‘çš„çŠ¶æ€â€”â€”è¿™ç§çŠ¶æ€ä¸‹ï¼Œä½ ç”šè‡³æ„Ÿå—ä¸åˆ°æ—¶é—´çš„å­˜åœ¨ï¼Œåœ¨è¿™ä»¶äº‹æƒ…å®Œæˆä¹‹åæˆ‘ä»¬ä¼šæœ‰ä¸€ç§å……æ»¡èƒ½é‡å¹¶ä¸”éå¸¸æ»¡è¶³çš„é¢æ„Ÿå—ï¼Œå…¶å®å¾ˆå¤šæ—¶å€™æˆ‘ä»¬åœ¨åšè‡ªå·±éå¸¸å–œæ¬¢ï¼Œæœ‰æŒ‘æˆ˜å¹¶ä¸”æ“…é•¿çš„äº‹æƒ…çš„æ—¶å€™ï¼Œå°±å¾ˆå®¹æ˜“ä½“éªŒåˆ°å¿ƒæµï¼Œæ¯”å¦‚é˜…è¯»ã€æ¼”å¥ä¹å™¨ã€ç‘œä¼½ã€è·‘æ­¥ã€æ¸¸æ³³ï¼Œè¿˜æœ‰å·¥ä½œçš„æ—¶å€™ã€‚</p><p>å…³äºâ€œå¿ƒæµâ€æ¦‚å¿µçš„æµè¡Œï¼Œè®°å¾—2015å¹´çŸ¥ä¹ä¸Šå·²å­˜åœ¨å¤§æ‰¹ç›¸å…³å¼•ç”¨ã€‚å‰é¢è¿™æ®µè¯åŸºæœ¬ä¸Šå°±æ˜¯å¾ˆå¤šäººå¯¹å¿ƒæµçš„ç†è§£ï¼Œä½†å¿ƒæµä¸åªåŒ…æ‹¬è¿™äº›ã€‚</p><p>ä¸¤åƒä¸‰ç™¾å¤šå¹´å‰ï¼Œäºšé‡Œå£«å¤šå¾·å°±æå‡ºï¼Œäººä»¬æ— ä¸€ä¾‹å¤–åœ°åœ¨è¿½æ±‚å¹¸ç¦ï¼Œç„¶è€Œï¼Œå‡ ä¸ªä¸–çºªè¿‡å»äº†ï¼Œå·¥ä¸šå’Œç§‘æŠ€çš„å‘è¾¾ï¼Œé‡‘é’±ã€ç‰©è´¨ã€æƒåˆ©â€¦â€¦ç§ç§ï¼ŒçœŸçš„è®©äººä»¬å¹¸ç¦äº†å—ï¼Ÿäººç±»ä¸æ»¡çš„æ ¹æºåœ¨å“ªé‡Œï¼Œç±³å“ˆåˆ©è®¤ä¸ºæœ€é‡è¦çš„åŸå› æ˜¯è‡ªæˆ‘å†…åœ¨çš„å¤±åºï¼ˆdisorderï¼‰ã€‚<strong>è‘—åå¿ƒç†å­¦å®¶ã€ç§¯æå¿ƒç†å­¦å¥ åŸºäººç±³å“ˆé‡ŒÂ·å¥‘å…‹æ£®ç±³å“ˆèµ–ï¼ˆMihaly Csikszentmihalyiï¼‰</strong> ç”¨è¿™æœ¬ä¹¦ç³»ç»Ÿé˜è¿°äº†å¿ƒæµçš„ç†è®ºï¼Œè¿›å…¥å¿ƒæµçš„æ¡ä»¶ï¼Œä»æ—¥å¸¸ç”Ÿæ´»ã€ä¼‘é—²å¨±ä¹ã€å·¥ä½œã€äººé™…å…³ç³»ç­‰å„æ–¹é¢ï¼Œåˆ†æå¦‚ä½•è·å¾—æœ€ä¼˜ä½“éªŒã€‚</p><p>è‹±æ–‡ç‰ˆåˆè¯»äº2017å¹´ï¼Œæ˜¯æˆ‘è¯»çš„ä¸€æœ¬è‹±æ–‡ä¹¦ï¼Œå½“æ—¶å—é™çŸ¥è¯†ç»éªŒã€æœ‰è®¸å¤šæ²¡æœ‰è¯»æ‡‚çš„åœ°æ–¹ã€‚è¿™æ¬¡èŠ±ä¸€ä¸‹åˆè¯»å®Œé‡ç‚¹ç¯‡ç« ï¼Œå…´ä¹‹æ‰€è‡³åŒè¯­å¯¹ç…§ï¼Œé¥¶æœ‰è¶£å‘³ã€‚</p><p><img src="http://tva1.sinaimg.cn/large/006hVAtMly1h7ywuc3ka8j30u00mi7aa.jpg" alt="å¯¹ç…§é˜…è¯»"></p><p>ä¸‹é¢ä»‹ç»è¿™æœ¬ä¹¦ç»™æˆ‘æœ€æœ‰å¯å‘çš„ä¸‰ä¸ªéƒ¨åˆ†ï¼š</p><h3 id="ä¸€ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼šæ„æˆå¿ƒæµä½“éªŒçš„8è¦ç´ "><a href="#ä¸€ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼šæ„æˆå¿ƒæµä½“éªŒçš„8è¦ç´ " class="headerlink" title="ä¸€ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼šæ„æˆå¿ƒæµä½“éªŒçš„8è¦ç´ "></a>ä¸€ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼šæ„æˆå¿ƒæµä½“éªŒçš„8è¦ç´ </h3><p>ï¼ˆç¬¬3ç« ç¬¬2èŠ‚ï¼‰</p><p><span style="border-bottom:2px dash red;">The Elements of Enjoyment <span>æ˜¯å¿ƒæµç†è®ºçš„æ ¸å¿ƒä¹‹ä¸€ï¼Œåˆ†ä¸ºä¸‹é¢8ä¸ªæ–¹é¢ï¼š</p><h4 id="a-challenging-activity-that-requires-skills-å…·å¤‡æŒ‘æˆ˜æ€§çš„æ´»åŠ¨"><a href="#a-challenging-activity-that-requires-skills-å…·å¤‡æŒ‘æˆ˜æ€§çš„æ´»åŠ¨" class="headerlink" title="a challenging activity that requires skills å…·å¤‡æŒ‘æˆ˜æ€§çš„æ´»åŠ¨"></a>a challenging activity that requires skills å…·å¤‡æŒ‘æˆ˜æ€§çš„æ´»åŠ¨</h4><p>æ¯ä¸ªäººéƒ½æœ‰ä¸€å¥—å¡«è¡¥ç”Ÿæ´»ä¸­çš„æ— èŠç©ºéš™ï¼Œæˆ–åœ¨ç„¦è™‘æ¥è¢­æ—¶ä¿æŒå¹³è¡¡çš„ç‰¹å®šæ–¹æ³•ï¼Œç›®çš„æ— éæ˜¯é€šè¿‡æœ‰è§„å¾‹çš„æ´»è¡ŒåŠ¨ï¼ŒæŠŠæ„è¯†è§„èŒƒåœ°æ›´åŠ æœ‰ç§©åºã€‚è¿™äº›æ´»åŠ¨æ˜¯ä¸€ç§â€œå°å‹å¿ƒæµâ€ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬åº¦è¿‡æ—¥å¸¸ç”Ÿæ´»ä¸­çš„ä½æ½®ã€‚</p><h4 id="the-merging-of-action-and-awareness-çŸ¥è¡Œåˆä¸€"><a href="#the-merging-of-action-and-awareness-çŸ¥è¡Œåˆä¸€" class="headerlink" title="the merging of action and awareness çŸ¥è¡Œåˆä¸€"></a>the merging of action and awareness çŸ¥è¡Œåˆä¸€</h4><h4 id="clear-goals-and-feedback-æ˜ç¡®ç›®æ ‡ä¸å³æ—¶åé¦ˆ"><a href="#clear-goals-and-feedback-æ˜ç¡®ç›®æ ‡ä¸å³æ—¶åé¦ˆ" class="headerlink" title="clear goals and feedback æ˜ç¡®ç›®æ ‡ä¸å³æ—¶åé¦ˆ"></a>clear goals and feedback æ˜ç¡®ç›®æ ‡ä¸å³æ—¶åé¦ˆ</h4><h4 id="concentration-on-the-task-at-hand-å…¨ç¥è´¯æ³¨äºæ‰‹å¤´çš„ä»»åŠ¡"><a href="#concentration-on-the-task-at-hand-å…¨ç¥è´¯æ³¨äºæ‰‹å¤´çš„ä»»åŠ¡" class="headerlink" title="concentration on the task at hand å…¨ç¥è´¯æ³¨äºæ‰‹å¤´çš„ä»»åŠ¡"></a>concentration on the task at hand å…¨ç¥è´¯æ³¨äºæ‰‹å¤´çš„ä»»åŠ¡</h4><h4 id="the-paradox-of-control-æŒæ§è‡ªå¦‚"><a href="#the-paradox-of-control-æŒæ§è‡ªå¦‚" class="headerlink" title="the paradox of control æŒæ§è‡ªå¦‚"></a>the paradox of control æŒæ§è‡ªå¦‚</h4><p>å†’é™©ä¸“å®¶çš„ä¹è¶£å¹¶éæ¥è‡ªå±é™©æœ¬èº«ï¼Œè€Œæ˜¯æ¥è‡ªä»–ä»¬ä½¿å±é™©é™è‡³æœ€ä½çš„èƒ½åŠ›ã€‚çœŸæ­£ä»¤ä»–ä»¬ä¹æ­¤ä¸ç–²çš„ï¼Œä¸æ˜¯è¿½é€å±é™©çš„ç—…æ€æ‚šæ —ï¼Œè€Œæ˜¯ä¸€ç§æœ‰åŠæ³•æ§åˆ¶æ½œåœ¨å±é™©çš„æ„Ÿè§‰ã€‚</p><h4 id="the-loss-of-self-consciousness-æµ‘ç„¶å¿˜æˆ‘"><a href="#the-loss-of-self-consciousness-æµ‘ç„¶å¿˜æˆ‘" class="headerlink" title="the loss of self-consciousness æµ‘ç„¶å¿˜æˆ‘"></a>the loss of self-consciousness æµ‘ç„¶å¿˜æˆ‘</h4><p>becoming one flesh ï¼Œç¿»è¯‘æˆäº†â€œåˆä¸€â€<br>è‡ªæˆ‘æ„è¯†æ¶ˆå¤±ï¼Œå¹¶ä¸ä»£è¡¨è‡ªæˆ‘éšä¹‹æ¶ˆå¤±ï¼Œç”šè‡³æ„è¯†ä¾ç„¶å­˜åœ¨ï¼Œåªä¸è¿‡å®ƒä¸å†æ„Ÿè§‰åˆ°è‡ªæˆ‘è€Œå·²ã€‚å®é™…çš„æƒ…å†µæ˜¯ï¼šæˆ‘ä»¬ç”¨ä»¥ä»£è¡¨è‡ªå·±çš„èµ„è®¯ï¼Œä¹Ÿå°±æ˜¯è‡ªæˆ‘çš„è§‚å¿µï¼Œéšéåˆ°çŸ¥è§‰ä¹‹å¤–ã€‚æš‚æ—¶å¿˜æˆ‘ï¼Œä¼¼ä¹æ˜¯ä»¶å¾ˆæ„‰å¿«çš„äº‹æƒ…ï¼Œä¸åœ¨ä¸€å¿ƒä¸€æ„åœ°æƒ³ç€è‡ªå·±ï¼Œæ‰æœ‰æœºä¼šæ‰©å……å¯¹è‡ªæˆ‘çš„æ¦‚å¿µã€‚æ¶ˆé™¤è‡ªæˆ‘æ„è¯†å¯ä»¥å¸¦æ¥è‡ªæˆ‘è¶…è¶Šï¼Œäº§ç”Ÿä¸€ç§è‡ªæˆ‘ç–†ç•Œå‘å¤–æ‰©å±•çš„æ„Ÿè§‰ã€‚</p><h4 id="the-transformantion-of-time-æ—¶é—´æ„Ÿçš„å¼‚å¸¸"><a href="#the-transformantion-of-time-æ—¶é—´æ„Ÿçš„å¼‚å¸¸" class="headerlink" title="the transformantion of time æ—¶é—´æ„Ÿçš„å¼‚å¸¸"></a>the transformantion of time æ—¶é—´æ„Ÿçš„å¼‚å¸¸</h4><h3 id="ä¸€ä¸ªé«˜é¢‘è¯è¯­ï¼šautotelic"><a href="#ä¸€ä¸ªé«˜é¢‘è¯è¯­ï¼šautotelic" class="headerlink" title="ä¸€ä¸ªé«˜é¢‘è¯è¯­ï¼šautotelic"></a>ä¸€ä¸ªé«˜é¢‘è¯è¯­ï¼šautotelic</h3><p>è¿™ä¸ªå•è¯æ¥æºäºå¸Œè…Šï¼Œauto æ„æ€æ˜¯ selfï¼Œtelos æ„æ€æ˜¯ goalsï¼Œç½‘ç»œè¯å…¸è§£é‡Šä¸º<br><span style="border-bottom:2px dash red;">autotelic ï¼š(of an activity or a creative work) having an end or purpose in itself.</span></p><p>ä¹Ÿå°±æ˜¯é‚£ç§åšä¸€ä»¶äº‹ä¸è¿½æ±‚æœªæ¥çš„æŠ¥é…¬ï¼Œåšè¿™ä»¶äº‹æœ¬èº«å°±æ˜¯æœ€å¤§çš„å›é¦ˆ<span style="border-bottom:2px dash red;">It refers to a self-contain activity, one that is done not with the expectation of some future benefit, but simply because the doing itself is the reward.</span></p><p>åŸä¹¦ä¸­æ¶‰åŠåˆ° autotelic çš„æœ‰ä¸‰ç§æƒ…å†µï¼š</p><ul><li>the autotelic experience</li><li>the autotelic personality</li><li>the autotelic family context</li></ul><h4 id="the-autotelic-experience-ç›®æ ‡ä¸å‡å¤–æ±‚ï¼ˆç¬¬3ç« ç¬¬3èŠ‚ï¼‰"><a href="#the-autotelic-experience-ç›®æ ‡ä¸å‡å¤–æ±‚ï¼ˆç¬¬3ç« ç¬¬3èŠ‚ï¼‰" class="headerlink" title="the autotelic experience ç›®æ ‡ä¸å‡å¤–æ±‚ï¼ˆç¬¬3ç« ç¬¬3èŠ‚ï¼‰"></a>the autotelic experience ç›®æ ‡ä¸å‡å¤–æ±‚ï¼ˆç¬¬3ç« ç¬¬3èŠ‚ï¼‰</h4><p><img src="http://tva1.sinaimg.cn/large/006hVAtMly1h7ywm96w58j30u0146qb5.jpg" alt="ç›®æ ‡ä¸å‡å¤–æ±‚"></p><p>è‡ªæˆç›®æ ‡æ˜¯æœ€ä¼˜ä½“éªŒçš„ä¸€å¤§ç‰¹è‰²ï¼Œå¦‚æœä¸€ä¸ªæ´»åŠ¨å«æœ‰ä¸€å®šæ¯”ä¾‹çš„è‡ªæˆç›®æ ‡ï¼Œå°±æ›´æœ‰å¯èƒ½è¿›å…¥å¿ƒæµçŠ¶æ€ã€‚</p><p>â€œè¿™ä¸¤ç§æƒ…å½¢ä¸åˆ†è½©è½¾â€çš„ç”¨è‹±è¯­æ€ä¹ˆè¯´å‘¢ï¼šwhat transpires in the two situations is ostensibly identical</p><h4 id="autotelic-personality-è‡ªå¾—å…¶ä¹çš„æ€§æ ¼ï¼ˆç¬¬4ç« ç¬¬3èŠ‚ï¼‰"><a href="#autotelic-personality-è‡ªå¾—å…¶ä¹çš„æ€§æ ¼ï¼ˆç¬¬4ç« ç¬¬3èŠ‚ï¼‰" class="headerlink" title="autotelic personality è‡ªå¾—å…¶ä¹çš„æ€§æ ¼ï¼ˆç¬¬4ç« ç¬¬3èŠ‚ï¼‰"></a>autotelic personality è‡ªå¾—å…¶ä¹çš„æ€§æ ¼ï¼ˆç¬¬4ç« ç¬¬3èŠ‚ï¼‰</h4><p>è‡ªå¾—å…¶ä¹çš„æ€§æ ¼æŒ‡çš„æ˜¯èƒ½è½»æ˜“æ§åˆ¶æ„è¯†ï¼Œæ¯”è¾ƒå®¹æ˜“ä½“éªŒå¿ƒæµã€‚ç±³å“ˆåˆ©ç”±æ­¤åˆ†æäº†é˜»ç¢äº«å—è¿™ç§å¿«ä¹çš„ä¸¤ç§å¿ƒç†éšœç¢ï¼š</p><p><strong>æ³¨æ„åŠ›å¤±è°ƒï¼ˆattentional disorderï¼‰ä¸è¿‡åº¦åŒ…æ‘„åˆºæ¿€ï¼ˆstimulus overinclusionï¼‰ï¼šç²¾ç¥èƒ½é‡é£˜å¿½ä¸å®šï¼Œé˜»ç¢å¿ƒæµäº§ç”Ÿ</strong></p><p><strong>VS</strong></p><p><strong>è¿‡åˆ†çš„è‡ªæˆ‘æ„è¯†ï¼ˆexcessive self-consciousï¼‰ä¸ä»¥è‡ªæˆ‘ä¸ºä¸­å¿ƒï¼šæ³¨æ„åŠ›ç‹­éš˜ï¼Œç¼ºä¹å¼¹æ€§</strong></p><p><img src="http://tva1.sinaimg.cn/large/006hVAtMly1h7ywnp56xcj30u00mfdli.jpg" alt="è‡ªå¾—å…¶ä¹çš„æ€§æ ¼1"></p><p><strong>æ¥ä¸‹æ¥å¼•å…¥äº†ç¤¾ä¼šç—…ç†å­¦ï¼ˆsocial pathologyï¼‰ä¸­çš„â€œå¤±èŒƒâ€ï¼ˆanomieï¼‰ä¸â€œç–ç¦»â€ï¼ˆalienationï¼‰</strong>ã€‚å¤±èŒƒæŒ‡çš„æ˜¯ç¤¾ä¼šçš„è¡Œä¸ºè§„èŒƒè¢«æ‰°ä¹±ï¼Œå½“ä»€ä¹ˆå¯ä»¥åšä»€ä¹ˆã€ä»€ä¹ˆä¸å¯ä»¥åšäº’ç›¸æ··æ·†æ—¶ï¼Œé ç¤¾ä¼šè§„åˆ™å»ºç«‹æ„è¯†ç§©åºçš„äººå°±ä¼šæ„Ÿåˆ°ç„¦è™‘ï¼Œè¡Œä¸ºåå¤æ— å¸¸æ²¡æœ‰æ„ä¹‰ã€‚ç–ç¦»ï¼Œä¸ªäººè§‰å¾—å°±æ˜¯å“²å­¦ä¸Šçš„â€œå¼‚åŒ–â€ï¼Œäººä»¬è¢«ç¤¾ä¼šä½“åˆ¶é€¼è¿«è€Œä¸å¾—ä¸åšä¸€äº›è·Ÿè‡ªå·±ç›®æ ‡ç›¸æ‚–çš„äº‹æƒ…ã€‚</p><p><img src="http://tva1.sinaimg.cn/large/006hVAtMly1h7ywnyhgicj30u00mf43r.jpg" alt="è‡ªå¾—å…¶ä¹çš„æ€§æ ¼2"></p><p>ç¤¾ä¼šå¤„äºå¤±èŒƒçŠ¶æ€æ—¶ï¼Œä¸€ä»¶äº‹æ˜¯å¦å€¼å¾—æŠ•æ³¨ç²¾ç¥èƒ½é‡å°±å˜å¾—ä¸æ¸…æ¥šï¼Œå¾ˆéš¾äº§ç”Ÿå¿ƒæµï¼›ä¸ºç–ç¦»ã€å¼‚åŒ–æ‰€è‹¦æ—¶ï¼Œä¸ªäººæ²¡åŠæ³•æŠŠç²¾ç¥èƒ½é‡æŠ•æ³¨äºè‡ªå·±çœŸæ­£æƒ³è¦è¿½æ±‚çš„ç›®æ ‡ä¸Šã€‚</p><p>ä»”ç»†æƒ³æƒ³ï¼Œè¿™ä¸¤ç§é˜»ç¢å¿ƒæµäº§ç”Ÿçš„ç¤¾ä¼šå› ç´ ï¼Œä¸ä¸Šé¢è¯´çš„ä¸¤ç§ä¸ªäººå¿ƒç†éšœç¢äº’ç›¸å‘¼åº”ã€‚å¤±èŒƒå¯¹åº”ç€ç²¾ç¥èƒ½é‡æ— æ³•èšç„¦ï¼Œæ³¨æ„åŠ›æ¶£æ•£ï¼›ç–ç¦»æˆ–å¼‚åŒ–ï¼Œåˆ™æ˜¯ä¸§å¤±ç›®çš„æ„Ÿä¸è‡ªæˆ‘ä»·å€¼æ„Ÿã€‚</p><p><img src="http://tva1.sinaimg.cn/large/006hVAtMly1h7ywo3to3aj30u00mf79y.jpg" alt="è‡ªå¾—å…¶ä¹çš„æ€§æ ¼3"></p><h4 id="autotelic-family-context-è‡ªæˆç›®æ ‡çš„å®¶åº­ç¯å¢ƒï¼ˆç¬¬4ç« ç¬¬3èŠ‚ï¼‰"><a href="#autotelic-family-context-è‡ªæˆç›®æ ‡çš„å®¶åº­ç¯å¢ƒï¼ˆç¬¬4ç« ç¬¬3èŠ‚ï¼‰" class="headerlink" title="autotelic family context è‡ªæˆç›®æ ‡çš„å®¶åº­ç¯å¢ƒï¼ˆç¬¬4ç« ç¬¬3èŠ‚ï¼‰"></a>autotelic family context è‡ªæˆç›®æ ‡çš„å®¶åº­ç¯å¢ƒï¼ˆç¬¬4ç« ç¬¬3èŠ‚ï¼‰</h4><p>the effects of the family on the autotelic personalityè¿™ä¸€å°èŠ‚æ¢è®¨äº† å‰é¢æ‰€è¯´ è‡ªå¾—å…¶ä¹çš„æ€§æ ¼æ˜¯å¦‚ä½•åœ¨å®¶åº­ç¯å¢ƒä¸­åŸ¹å…»èµ·æ¥çš„ã€‚</p><p>èŠåŠ å“¥å¤§å­¦çš„å®éªŒå‘ç°ï¼Œå…·å¤‡ä»¥ä¸‹5ä¸ªç‰¹ç‚¹çš„å®¶åº­ç¯å¢ƒéå¸¸æœ‰åŠ©äºäº§ç”Ÿæœ€ä¼˜ä½“éªŒï¼š</p><ul><li>æ¸…æ™°ï¼šé’å°‘å¹´çŸ¥é“çˆ¶æ¯å¯¹è‡ªå·±çš„æœŸæœ›ï¼Œåœ¨å®¶äººäº’åŠ¨ä¸­ï¼Œç›®æ ‡å’Œåé¦ˆéƒ½å¾ˆæ¸…æ™°</li><li>é‡è§†ï¼šå­©å­è§‰å¾—çˆ¶æ¯è¯»ä»–ä»¬ç›®å‰æ‰€åšçš„äº‹æƒ…ã€ä»–ä»¬å…·ä½“çš„æ„Ÿå—ä¸ä½“éªŒéƒ½å¾ˆæœ‰å…´è¶£</li><li>é€‰æ‹©ï¼šå­©å­è§‰å¾—è‡ªå·±æœ‰å¾ˆå¤šé€‰æ‹©ï¼ŒåŒ…æ‹¬ä¸å¬çˆ¶æ¯çš„è¯ï¼Œåªæ˜¯ä»–ä»¬å¾—å‡†å¤‡å¥½è‡ªå·±æ‰¿æ‹…åæœ</li><li>æŠ•å…¥ï¼šå­©å­æœ‰è¶³å¤Ÿçš„ä¿¡å¿ƒï¼Œå…¨å¿ƒå…¨æ„å»åšä»–æ„Ÿå…´è¶£çš„äº‹æƒ…</li><li>æŒ‘æˆ˜ï¼šçˆ¶æ¯ä¸ºå­©å­å®‰æ’å¤æ‚æ¸è¿›çš„è¡ŒåŠ¨æœºä¼š</li></ul><p><img src="http://tva1.sinaimg.cn/large/006hVAtMly1h7ywq4wtipj30u00mftdy.jpg" alt="è‡ªæˆç›®æ ‡çš„å®¶åº­ç¯å¢ƒ1"></p><p>å¯ä»¥çœ‹å‡ºï¼Œè¿™5å¤§ç‰¹ç‚¹ä¸æ„æˆå¿ƒæµçš„8ä¸ªè¦ç´ æœ‰è¯¸å¤šå…±é€šä¹‹å¤„ã€‚ç”¨ä¸€å¥è¯æ¦‚æ‹¬å°±æ˜¯â€”â€”å®¶åº­ç”Ÿæ´»å……æ»¡äº†ç§©åºã€‚å¦‚æœå­©å­åœ¨ç§©åºä¸ä½³çš„ç¯å¢ƒé‡Œï¼Œå¤§éƒ¨åˆ†èƒ½é‡æµªè´¹åœ¨äº†äº‰åµã€å‹æŠ‘å’Œå¯¹å³™ä¸­ï¼ŒåŠªåŠ›ä¿æŠ¤è„†å¼±çš„è‡ªæˆ‘ä¸è¢«åå™¬ï¼Œç²¾ç¥èƒ½é‡è¢«æå¤§çš„è€—å°½ï¼Œå“ªé‡Œåˆ†çš„å‡ºæ¥ç…§é¡¾è‡ªå·±å†…å¿ƒçš„æˆé•¿å‘¢ã€‚</p><p>å¦‚ä½•åŸ¹å…»è‡ªå·±è‡ªå¾—å…¶ä¹çš„æ€§æ ¼å‘¢ï¼Ÿå“²å­¦å®¶ç½—ç´ è¿™ä¹ˆè¯´ï¼š</p><p><img src="http://tva1.sinaimg.cn/large/006hVAtMly1h7ywqp6uzyj30u00t879c.jpg" alt="è‡ªæˆç›®æ ‡çš„å®¶åº­ç¯å¢ƒ2"></p><p>ä¸€èˆ¬åˆ†æè¿›å…¥å¿ƒæµçš„æ¡ä»¶æ—¶ï¼Œä¼šæåˆ°æŒæ¡çš„æŠ€èƒ½å’Œå®Œæˆä»»åŠ¡çš„å¤æ‚åº¦ï¼Œè¿™å›ºç„¶æ˜¯ä¸€ä¸ªæ–¹é¢ã€‚ä¸è¿‡ the autotelic experience å’Œ the autotelic personality ä¸ºé—®é¢˜æä¾›äº†ä¸€ä¸ªå…¨æ–°çš„è§’åº¦ï¼Œé‚£å°±æ˜¯å†…åœ¨åŠ¨æœºä¸è‡ªèº«å¯èƒ½å­˜åœ¨çš„å¿ƒç†éšœç¢ã€‚</p><p>å¿ƒæµä½“éªŒ8è¦ç´ å±äºç†è®ºå±‚é¢ï¼Œautotelic ä¸‰è§‚ç‚¹æ›´å…·å®è·µå’ŒæŒ‡å¯¼æ„ä¹‰ã€‚æœ¬ä¹¦æˆ‘ç²¾è¯»å‰4ç« ï¼Œæ³›è¯»å‰©ä½™ç« èŠ‚ï¼Œå…¨ä¹¦æœ‰ä¸å°‘é—ªè€€ç€æ™ºæ…§å…‰èŠ’çš„å¥å­ï¼Œæ‘˜å½•å¦‚ä¸‹ã€‚</p><h3 id="æœ‰å¯å‘æ€§çš„å…¨ä¹¦é‡‘å¥è®°å½•ï¼š"><a href="#æœ‰å¯å‘æ€§çš„å…¨ä¹¦é‡‘å¥è®°å½•ï¼š" class="headerlink" title="æœ‰å¯å‘æ€§çš„å…¨ä¹¦é‡‘å¥è®°å½•ï¼š"></a>æœ‰å¯å‘æ€§çš„å…¨ä¹¦é‡‘å¥è®°å½•ï¼š</h3><ul><li><p>æœ‰äº›äººå­¦ä¼šäº†æœ‰æ•ˆè¿ç”¨æ³¨æ„åŠ›è¿™ç¬”æ— ä»·çš„èµ„æºï¼Œä¹Ÿæœ‰äººå¼ƒç½®ä¸ç”¨ã€‚æ§åˆ¶æ„è¯†æœ€æ˜æ˜¾çš„æŒ‡æ ‡å°±æ˜¯èƒ½éšå¿ƒæ‰€æ¬²çš„é›†ä¸­æ³¨æ„åŠ›ï¼Œä¸å› ä»»ä½•äº‹æƒ…è€Œåˆ†å¿ƒã€‚è‹¥èƒ½åšåˆ°è¿™ä¸€ç‚¹ï¼Œå°±èƒ½åœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­æ‰¾åˆ°ä¹è¶£ã€‚</p></li><li><p>æˆ‘ä»¬ç”¨ä»¥æè¿°äººæ ¼ç‰¹å¾çš„å­—çœ¼â€”â€”è¯¸å¦‚å†…å¤–å‘ã€æˆå°±ä¸å‡¡ã€åæ‰§ç‹‚ï¼Œå…¶å®æŒ‡çš„éƒ½æ˜¯ä¸€ä¸ªäººå»ºæ„æ³¨æ„åŠ›çš„æ¨¡å¼ã€‚æ³¨æ„åŠ›æ˜¯ç§â€œç²¾ç¥èƒ½é‡â€ï¼Œå—æˆ‘ä»¬æ§åˆ¶ã€éšæˆ‘ä»¬ä½¿ç”¨ï¼Œä¹Ÿæ˜¯æ”¹å–„ä½“éªŒå“è´¨çš„æœ€é‡è¦çš„å·¥å…·ã€‚</p></li><li><p>è‡ªæˆ‘çš„å†…åœ¨ç§©åºæ”¶åˆ°æ‰“æ‰°æ—¶ï¼Œä¸ä¸ªäººç›®æ ‡ç›¸å†²çªçš„èµ„è®¯ä¾µå…¥æ„è¯†åï¼Œè§†ç›®æ ‡çš„é‡è¦æ€§å’Œå¨èƒçš„è€Œå¤§å°è€Œå®šï¼ŒæŸäº›ç¨‹åº¦çš„æ³¨æ„åŠ›å¿…é¡»è…¾å‡ºæ¥æ¶ˆé™¤å±æœºï¼Œç”¨äºå¤„ç†å…¶ä»–äº‹åŠ¡çš„æ³¨æ„åŠ›å°±ç›¸å¯¹å‡å°‘äº†ã€‚</p></li></ul><p><img src="http://tva1.sinaimg.cn/large/006hVAtMly1h7ywqvipbmj30u018xk5g.jpg" alt="åŸç‰ˆ"></p><ul><li><p>å…¶å®æˆ˜æ–—ä¸­å¯¹æŠ—çš„ä¸æ˜¯è‡ªå·±ï¼Œè€Œæ˜¯ä½¿æ„è¯†å¤±åºçš„ç²¾ç¥ç†µã€‚</p></li><li><p>äº«ä¹ä¸ä¹è¶£çš„åŒºåˆ«ï¼šäº«ä¹æ˜¯é«˜æ°´å‡†ç”Ÿæ´»çš„ä¸€ç¯ï¼Œå±äºæ¢å¤â€œå‡è¡¡â€çš„ä½“éªŒï¼Œåœ¨è‚‰ä½“éœ€æ±‚å¼•èµ·ç²¾ç¥ç†µä»¥åï¼Œé‡æ•´æ„è¯†çš„ç§©åºã€‚ä½†æ˜¯ä¸èƒ½å¸¦åŠ¨å¿ƒçµçš„æˆé•¿ï¼Œä¹Ÿæ— æ³•å¢åŠ è‡ªæˆ‘çš„å¤æ‚æ€§ï¼Œäº«ä¹æœ‰åŠ©äºç»´æŒæ„è¯†çš„ç§©åºï¼Œå´æ— æ³•åœ¨æ„è¯†ä¸­åˆ›é€ æ–°ç§©åºã€‚</p></li><li><p>å¼€å§‹æ—¶é ç›®æ ‡è¯æ˜åŠªåŠ›çš„å¿…è¦ï¼Œåˆ°åæ¥å´å˜æˆé åŠªåŠ›è¯æ˜ç›®æ ‡çš„é‡è¦ã€‚</p></li><li><p>â€œæˆ‘åœ¨äººç”Ÿæ—…ç¨‹çš„ä¸­é€”ï¼Œå‘ç°è‡ªå·±ç½®èº«äºå¹½æš—çš„æ£®æ—ï¼Œå®Œå…¨ä¸è®¤è¯†è·¯ã€‚â€ä½†ä¸ã€Šç¥æ›²ã€‹</p></li></ul><h3 id="å†™åœ¨æœ€å"><a href="#å†™åœ¨æœ€å" class="headerlink" title="å†™åœ¨æœ€å"></a>å†™åœ¨æœ€å</h3><p>å¦‚æœä½ æ˜¯å¿ƒç†å­¦çˆ±å¥½è€…ï¼Œè¿™æœ¬ä¹¦æ˜¯ç†è§£ç§¯æå¿ƒç†å­¦é¢†åŸŸä¸å¯æˆ–ç¼ºçš„ç´ æï¼Œå¦‚æœä½ æ˜¯å¤§ä¼—è¯»è€…ï¼Œå®ƒæ›´æ˜¯ä¸€æœ¬æå‡å¹¸ç¦æ„Ÿå’Œæ•ˆç‡çš„è¡ŒåŠ¨æŒ‡å—ã€‚</p><p>æœ€åé™„ä¸Šæœ¬ä¹¦ç›®å½•ï¼Œä¾›å›ä¸€è§ˆã€‚æœ‰äººåæ§½360é¡µçš„ä¹¦ï¼Œåºè¨€å æ®äº†60é¡µï¼Œä¸è¿‡éƒ‘ä¹Ÿå¤«çš„åºè¨€ã€Šè‡ªé€ å†…å¿ƒç§©åºä¹‹é€”ã€‹ï¼Œéå¸¸å€¼å¾—ä¸€çœ‹å™¢ã€‚</p><p><img src="http://tva1.sinaimg.cn/large/006hVAtMly1h7ywwce3cnj30rb0rvtb1.jpg" alt="ç›®å½•1"><br><img src="http://tva1.sinaimg.cn/large/006hVAtMly1h7ywr7itrmj30u00mfad4.jpg" alt="ç›®å½•2"><br><img src="http://tva1.sinaimg.cn/large/006hVAtMly1h7ywrdkusnj30u00mfju2.jpg" alt="ç›®å½•3"></p>]]></content>
    
    
    
    <tags>
      
      <tag>å¿ƒç†å­¦</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>pythonçˆ¬è™«ä¹‹ï¼šæŠ“å–Bç«™é«˜åˆ†ç•ªå‰§ã€è§†é¢‘å¼¹å¹•å›¾äº‘</title>
    <link href="/2020/08/02/python%E7%88%AC%E8%99%AB%E4%B9%8B%EF%BC%9A%E6%8A%93%E5%8F%96B%E7%AB%99%E9%AB%98%E5%88%86%E7%95%AA%E5%89%A7%E3%80%81%E8%A7%86%E9%A2%91%E5%BC%B9%E5%B9%95%E5%9B%BE%E4%BA%91/"/>
    <url>/2020/08/02/python%E7%88%AC%E8%99%AB%E4%B9%8B%EF%BC%9A%E6%8A%93%E5%8F%96B%E7%AB%99%E9%AB%98%E5%88%86%E7%95%AA%E5%89%A7%E3%80%81%E8%A7%86%E9%A2%91%E5%BC%B9%E5%B9%95%E5%9B%BE%E4%BA%91/</url>
    
    <content type="html"><![CDATA[<h1 id="1-æŠ“å–é«˜åˆ†ç•ªå‰§"><a href="#1-æŠ“å–é«˜åˆ†ç•ªå‰§" class="headerlink" title="1.æŠ“å–é«˜åˆ†ç•ªå‰§"></a>1.æŠ“å–é«˜åˆ†ç•ªå‰§</h1><h2 id="åŸå§‹ç½‘é¡µ"><a href="#åŸå§‹ç½‘é¡µ" class="headerlink" title="åŸå§‹ç½‘é¡µ"></a>åŸå§‹ç½‘é¡µ</h2><p><img src="http://tva1.sinaimg.cn/large/006hVAtMly1h862sninsaj31650ibk9b.jpg" alt="ç•ªå‰§åˆ—è¡¨é¡µ"></p><p><a href="https://www.bilibili.com/anime/index/#season_version=-1&area=-1&is_finish=-1&copyright=-1&season_status=-1&season_month=-1&year=-1&style_id=-1&order=4&st=1&sort=0&page=1">https://www.bilibili.com/anime/index/#season_version&#x3D;-1&amp;area&#x3D;-1&amp;is_finish&#x3D;-1&amp;copyright&#x3D;-1&amp;season_status&#x3D;-1&amp;season_month&#x3D;-1&amp;year&#x3D;-1&amp;style_id&#x3D;-1&amp;order&#x3D;4&amp;st&#x3D;1&amp;sort&#x3D;0&amp;page&#x3D;1</a></p><h2 id="python-çˆ¬è™«ä»£ç ï¼ˆå‚¨å­˜åˆ°æ•°æ®åº“ï¼‰"><a href="#python-çˆ¬è™«ä»£ç ï¼ˆå‚¨å­˜åˆ°æ•°æ®åº“ï¼‰" class="headerlink" title="python çˆ¬è™«ä»£ç ï¼ˆå‚¨å­˜åˆ°æ•°æ®åº“ï¼‰"></a>python çˆ¬è™«ä»£ç ï¼ˆå‚¨å­˜åˆ°æ•°æ®åº“ï¼‰</h2><h3 id="ä¸»æ–‡ä»¶-lt-niche-gems-py-gt"><a href="#ä¸»æ–‡ä»¶-lt-niche-gems-py-gt" class="headerlink" title="ä¸»æ–‡ä»¶ &lt;niche_gems.py&gt;"></a>ä¸»æ–‡ä»¶ &lt;niche_gems.py&gt;</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs plain">importÂ requests<br>fromÂ bs4Â importÂ BeautifulSoup<br>importÂ json<br>importÂ time<br>defÂ getReviewTimes(media_link):<br>Â Â Â Â resÂ =Â requests.get(media_link)<br>Â Â Â Â soupÂ =Â BeautifulSoup(res.text,Â &#x27;html.parser&#x27;)<br>Â Â Â Â review_timesÂ =Â soup.find_all(&#x27;div&#x27;,Â class_=&#x27;media-info-review-times&#x27;)<br>Â Â Â Â forÂ iÂ inÂ review_times:<br>Â Â Â Â Â Â Â Â review_timeÂ =Â i.text<br>Â Â Â Â returnÂ review_time<br>defÂ getAnime(url):<br>Â Â Â Â resÂ =Â requests.get(url)<br>Â Â Â Â graded_dataÂ =Â json.loads(res.text)<br>Â Â Â Â animes_listÂ =Â graded_data[&#x27;data&#x27;][&#x27;list&#x27;]<br>Â Â Â Â media_idsÂ =Â []<br>Â Â Â Â media_linksÂ =Â []<br>Â Â Â Â m_ordersÂ =Â []<br>Â Â Â Â titlesÂ =Â []<br>Â Â Â Â review_timesÂ =Â []<br>Â Â Â Â forÂ eachÂ inÂ animes_list:<br>Â Â Â Â Â Â Â Â media_idÂ =Â each[&#x27;media_id&#x27;]<br>Â Â Â Â Â Â Â Â media_ids.append(media_id)<br>Â Â Â Â Â Â Â Â media_linkÂ =Â f&#x27;https://www.bilibili.com/bangumi/media/md&#123;media_id&#125;&#x27;<br>Â Â Â Â Â Â Â Â review_timeÂ =Â getReviewTimes(media_link)<br>Â Â Â Â Â Â Â Â review_times.append(review_time)<br>Â Â Â Â Â Â Â Â media_links.append(media_link)<br>Â Â Â Â Â Â Â Â m_orderÂ =Â each[&#x27;order&#x27;].strip()<br>Â Â Â Â Â Â Â Â m_orders.append(m_order)<br>Â Â Â Â Â Â Â Â titles.append(each[&#x27;title&#x27;])<br>Â Â Â Â animes_matrixÂ =Â [media_ids,Â m_orders,Â titles,Â review_times,Â media_links]<br>Â Â Â Â animes_resultÂ =Â list(zip(*animes_matrix))<br>Â Â Â Â returnÂ animes_result<br></code></pre></td></tr></table></figure><h3 id="æŒ‰ç…§è¯„åˆ†-by-score"><a href="#æŒ‰ç…§è¯„åˆ†-by-score" class="headerlink" title="æŒ‰ç…§è¯„åˆ† by score"></a>æŒ‰ç…§è¯„åˆ† by score</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs plain"><br>importÂ niche_gems<br>importÂ sqlite3<br>importÂ csv<br>importÂ time<br>connÂ =Â sqlite3.connect(&#x27;anime.db&#x27;)<br>cÂ =Â conn.cursor()<br>defÂ createTable():<br>Â Â Â Â c.execute(&quot;&quot;&quot;CREATEÂ TABLEÂ IFÂ NOTÂ EXISTSÂ animeByScore(<br>Â Â Â Â Â Â Â Â media_idÂ INTEGERÂ PRIMARYÂ KEY,<br>Â Â Â Â Â Â Â Â m_orderÂ REAL,<br>Â Â Â Â Â Â Â Â titleÂ TEXT,<br>Â Â Â Â Â Â Â Â review_timeÂ INTEGER,<br>Â Â Â Â Â Â Â Â media_linkÂ TEXT)&quot;&quot;&quot;)<br>defÂ main():<br>Â Â Â Â createTable()<br>Â Â Â Â forÂ iÂ inÂ range(1,Â 90):<br>Â Â Â Â Â Â Â Â print(f&#x27;pageÂ &#123;i&#125;Â scraping...&#x27;)<br>Â Â Â Â Â Â Â Â url_scoreÂ =Â f&#x27;https://api.bilibili.com/pgc/season/index/result?season_version=-1&amp;area=-1&amp;is_finish=-1&amp;copyright=-1&amp;season_status=-1&amp;season_month=-1&amp;year=-1&amp;style_id=-1&amp;order=4&amp;st=1&amp;sort=0&amp;page=&#123;i&#125;&amp;season_type=1&amp;pagesize=20&amp;type=1&#x27;<br>Â Â Â Â Â Â Â Â time.sleep(1)<br>Â Â Â Â Â Â Â Â animes_results_by_scoreÂ =Â []<br>Â Â Â Â Â Â Â Â animes_result_by_scoreÂ =Â niche_gems.getAnime(url_score)<br>Â Â Â Â Â Â Â Â animes_results_by_score.extend(animes_result_by_score)<br>Â Â Â Â Â Â Â Â c.executemany(&#x27;INSERTÂ ORÂ IGNOREÂ INTOÂ animeByScoreÂ VALUES(?,?,?,?,?)&#x27;,<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â animes_results_by_score)<br>Â Â Â Â Â Â Â Â conn.commit()<br>Â Â Â Â Â Â Â Â print(f&#x27;pageÂ &#123;i&#125;Â animeByScoreÂ insertÂ successfully...&#x27;)<br>Â Â Â Â Â Â Â Â print(f&#x27;pageÂ &#123;i&#125;Â done...&#x27;)<br>Â Â Â Â c.close()<br>Â Â Â Â conn.close()<br>Â Â Â Â print(&#x27;æ‰§è¡Œå®Œæ¯•ï¼Œæ•°æ®åº“å·²å…³é—­ï¼&#x27;)<br>ifÂ __name__Â ==Â &quot;__main__&quot;:<br>Â Â Â Â main()<br></code></pre></td></tr></table></figure><h3 id="æŒ‰ç…§æ’­æ”¾é‡-by-play-count"><a href="#æŒ‰ç…§æ’­æ”¾é‡-by-play-count" class="headerlink" title="æŒ‰ç…§æ’­æ”¾é‡ by play count"></a>æŒ‰ç…§æ’­æ”¾é‡ by play count</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs plain">importÂ niche_gems<br>importÂ sqlite3<br>connÂ =Â sqlite3.connect(&#x27;anime.db&#x27;)<br>cÂ =Â conn.cursor()<br>defÂ createTable():<br>Â Â Â Â c.execute(&quot;&quot;&quot;CREATEÂ TABLEÂ IFÂ NOTÂ EXISTSÂ animeByPlaycount(<br>Â Â Â Â Â Â Â Â media_idÂ intÂ primaryÂ keyï¼Œ<br>Â Â Â Â Â Â Â Â orderÂ int,<br>Â Â Â Â Â Â Â Â titleÂ text,<br>Â Â Â Â Â Â Â Â review_timeÂ int,<br>Â Â Â Â Â Â Â Â media_linkÂ text<br>Â Â Â Â )&quot;&quot;&quot;)<br>defÂ query_and_output():<br>Â Â Â Â c.execute(&#x27;SELECTÂ *Â fromÂ animeByPlaycountÂ SORTÂ BYÂ order&#x27;)<br>Â Â Â Â dataÂ =Â c.fetchall()<br>Â Â Â Â c.close()<br>Â Â Â Â conn.close()<br>Â Â Â Â withÂ open(&#x27;/Users/yao/www/python//bilibili/anime/animeByPlaycount.txt&#x27;,Â &#x27;w&#x27;,Â encoding=&#x27;utf-8&#x27;)Â asÂ file:<br>Â Â Â Â Â Â Â Â forÂ rowÂ inÂ data:<br>Â Â Â Â Â Â Â Â Â Â Â Â file.write()<br>defÂ main():<br>Â Â Â Â url_play_countÂ =Â &#x27;https://api.bilibili.com/pgc/season/index/result?season_version=-1&amp;area=-1&amp;is_finish=-1&amp;copyright=-1&amp;season_status=-1&amp;season_month=-1&amp;year=-1&amp;style_id=-1&amp;order=2&amp;st=1&amp;sort=0&amp;page=1&amp;season_type=1&amp;pagesize=20&amp;type=1&#x27;<br>Â Â Â Â animes_result_by_playcountÂ =Â niche_gems.getAnime(url_play_count)<br>Â Â Â Â createTable()<br>Â Â Â Â c.executemany(&#x27;INSERTÂ ORÂ IGNOREÂ INTOÂ animeByPlaycount&#x27;)<br>Â Â Â Â conn.commit()<br>Â Â Â Â print(&#x27;animeByPlaycountÂ insertÂ successfully...&#x27;)<br>Â Â Â Â query_and_output()<br>Â Â Â Â print(&#x27;animeByPlaycountÂ fileÂ savedÂ successfully...&#x27;)<br>ifÂ __name__Â ==Â &quot;__main__&quot;:<br>Â Â Â Â main()<br></code></pre></td></tr></table></figure><h2 id="æ•°æ®åº“å†…å®¹"><a href="#æ•°æ®åº“å†…å®¹" class="headerlink" title="æ•°æ®åº“å†…å®¹"></a>æ•°æ®åº“å†…å®¹</h2><p><img src="http://tva1.sinaimg.cn/large/006hVAtMly1h862ua26ylj315b0gstrp.jpg" alt="animate.db/animateByScore"></p><h2 id="ä»æ•°æ®åº“ä¸­å–å‡ºå¹¶å±•ç¤ºåœ¨-html-ä¸­"><a href="#ä»æ•°æ®åº“ä¸­å–å‡ºå¹¶å±•ç¤ºåœ¨-html-ä¸­" class="headerlink" title="ä»æ•°æ®åº“ä¸­å–å‡ºå¹¶å±•ç¤ºåœ¨ html ä¸­"></a>ä»æ•°æ®åº“ä¸­å–å‡ºå¹¶å±•ç¤ºåœ¨ html ä¸­</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><code class="hljs plain">importÂ sqlite3<br>importÂ csv<br>importÂ pandasÂ asÂ pd<br>fromÂ prettytableÂ importÂ PrettyTable<br>connÂ =Â sqlite3.connect(&#x27;anime.db&#x27;)<br>cÂ =Â conn.cursor()<br>c.execute(&#x27;SELECTÂ *Â fromÂ animeByScoreÂ WHEREÂ m_orderÂ &gt;Â 9.7&#x27;)<br>dataÂ =Â c.fetchall()<br>c.close()<br>conn.close()<br>#Â file_pathÂ =Â &#x27;/Users/yao/www/python/bilibili/anime/animeByScore.csv&#x27;<br>#Â withÂ open(file_path,Â &#x27;w&#x27;,Â newline=&#x27;&#x27;,Â encoding=&#x27;utf-8&#x27;)Â asÂ f:<br>#Â Â Â Â Â fieldnamesÂ =Â [&#x27;anime_id&#x27;,Â &#x27;m_order&#x27;,Â &#x27;title&#x27;,Â &#x27;review_time&#x27;,Â &#x27;anime_link&#x27;]<br>#Â Â Â Â Â f_csvÂ =Â csv.DictWriter(f,Â fieldnames=fieldnames)<br>#Â Â Â Â Â f_csv.writeheader()<br>#Â Â Â Â Â forÂ rowÂ inÂ data:<br>#Â Â Â Â Â Â Â Â Â f_csv.writerow(<br>#Â Â Â Â Â Â Â Â Â Â Â Â Â &#123;<br>#Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#x27;anime_id&#x27;:Â row[0],<br>#Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#x27;m_order&#x27;:Â row[1],<br>#Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#x27;title&#x27;:Â row[2],<br>#Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#x27;review_time&#x27;:Â row[3],<br>#Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#x27;anime_link&#x27;:Â row[4]<br>#Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;<br>#Â Â Â Â Â Â Â Â Â )<br>html_uriÂ =Â &#x27;/Users/yao/www/python/bilibili/anime/animeByScore.html&#x27;<br>record_listÂ =Â data<br>titleÂ =Â &quot;è¯„åˆ†åˆ—è¡¨&quot;<br>tbody_contentÂ =Â &quot;&quot;<br>forÂ recordÂ inÂ record_list:<br>Â Â Â Â tbody_contentÂ =Â tbody_contentÂ +Â f&quot;&quot;&quot;<br>Â Â Â Â Â &lt;tr&gt;<br>Â Â Â Â Â Â Â Â &lt;td&gt;&#123;record[0]&#125;&lt;/td&gt;<br>Â Â Â Â Â Â Â Â &lt;td&gt;&#123;record[1]&#125;&lt;/td&gt;<br>Â Â Â Â Â Â Â Â &lt;td&gt;&#123;record[2]&#125;&lt;/td&gt;<br>Â Â Â Â Â Â Â Â &lt;td&gt;&#123;record[3]&#125;&lt;/td&gt;<br>Â Â Â Â Â Â Â Â &lt;td&gt;&#123;record[4]&#125;&lt;/td&gt;<br>Â Â Â Â &lt;/tr&gt;<br>Â Â Â Â &quot;&quot;&quot;<br>contentÂ =Â f&quot;&quot;&quot;<br>&lt;table&gt;<br>&lt;thead&gt;<br>Â Â Â Â &lt;th&gt;anime_id&lt;/th&gt;<br>Â Â Â Â &lt;th&gt;m_order&lt;/th&gt;<br>Â Â Â Â &lt;th&gt;title&lt;/th&gt;<br>Â Â Â Â &lt;th&gt;review_time&lt;/th&gt;<br>Â Â Â Â &lt;th&gt;anime_link&lt;/th&gt;<br>&lt;/thead&gt;<br>&lt;tbody&gt;<br>Â Â Â Â &#123;tbody_content&#125;<br>&lt;/tbody&gt;<br>&lt;/table&gt;<br>&quot;&quot;&quot;<br>htmlÂ =Â f&quot;&quot;&quot;<br>&lt;!DOCTYPEÂ html&gt;<br>&lt;htmlÂ lang=&quot;zh-CN&quot;&gt;<br>&lt;head&gt;<br>&lt;metaÂ charset=&quot;utf-8&quot;&gt;<br>&lt;title&gt;&#123;title&#125;&lt;/title&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>&#123;content&#125;<br>&lt;/body&gt;<br>&lt;/html&gt;<br>&quot;&quot;&quot;<br>withÂ open(html_uri,Â &#x27;w&#x27;,Â newline=&#x27;&#x27;,Â encoding=&#x27;utf-8&#x27;)Â asÂ f:<br>Â Â Â Â f.write(html)<br>print(&#x27;csvÂ fileÂ savedÂ (ï¼¾ï¼ï¼¾)V&#x27;)<br></code></pre></td></tr></table></figure><h2 id="html-å±•ç¤ºæ•ˆæœ"><a href="#html-å±•ç¤ºæ•ˆæœ" class="headerlink" title="html å±•ç¤ºæ•ˆæœ"></a>html å±•ç¤ºæ•ˆæœ</h2><p><img src="http://tva1.sinaimg.cn/large/006hVAtMly1h862up9tlyj31260mz7wh.jpg" alt="ç”Ÿæˆçš„html"></p><h2 id=""><a href="#" class="headerlink" title=""></a></h2><h2 id="å°æŠ€å·§ï¼šå¦‚ä½•æŠŠ-CSV-è½¬æ¢æˆ-HTML"><a href="#å°æŠ€å·§ï¼šå¦‚ä½•æŠŠ-CSV-è½¬æ¢æˆ-HTML" class="headerlink" title="å°æŠ€å·§ï¼šå¦‚ä½•æŠŠ CSV è½¬æ¢æˆ HTML"></a>å°æŠ€å·§ï¼šå¦‚ä½•æŠŠ CSV è½¬æ¢æˆ HTML</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs plain">fromÂ prettytableÂ importÂ PrettyTable<br>file_pathÂ =Â &#x27;/Users/yao/www/python/bilibili/anime/animeByScore.csv&#x27;<br>csv_fileÂ =Â open(file_path,Â &#x27;r&#x27;)<br>csv_fileÂ =Â csv_file.readlines()<br>tbÂ =Â PrettyTable(csv_file[0].split(&#x27;,&#x27;))<br>#Â è¿™ä¸€å¥ä¹Ÿå¯ä»¥è¿™ä¹ˆå†™<br>#Â tableÂ =Â PrettyTable()<br>#Â table.field_names=csv_file[0].split(&#x27;,&#x27;)<br>forÂ rowÂ inÂ range(1,Â 100):<br>Â Â Â Â csv_file[row]Â =Â csv_file[row].split(&#x27;,&#x27;)<br>Â Â Â Â tb.add_row(csv_file[row])<br>html_pathÂ =Â &#x27;/Users/yao/www/python/bilibili/anime/html_file.html&#x27;<br>html_fileÂ =Â open(html_path,Â &#x27;w&#x27;)<br>html_codeÂ =Â tb.get_html_string()<br>html_fileÂ =Â html_file.write(html_code)<br></code></pre></td></tr></table></figure><h1 id="2-æŠ“å–è§†é¢‘å¼¹å¹•å¹¶åˆ¶ä½œå›¾äº‘"><a href="#2-æŠ“å–è§†é¢‘å¼¹å¹•å¹¶åˆ¶ä½œå›¾äº‘" class="headerlink" title="2.æŠ“å–è§†é¢‘å¼¹å¹•å¹¶åˆ¶ä½œå›¾äº‘"></a>2.æŠ“å–è§†é¢‘å¼¹å¹•å¹¶åˆ¶ä½œå›¾äº‘</h1><h2 id="python-çˆ¬è™«å¼¹å¹•"><a href="#python-çˆ¬è™«å¼¹å¹•" class="headerlink" title="python çˆ¬è™«å¼¹å¹•"></a>python çˆ¬è™«å¼¹å¹•</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs plain">importÂ requests<br>importÂ json<br>importÂ re<br><br>defÂ get_cid(url):<br>Â Â Â Â bvidÂ =Â url.split(&#x27;/&#x27;)[4].split(&#x27;?&#x27;)[0]<br>Â Â Â Â danmu_page_linkÂ =Â f&#x27;https://api.bilibili.com/x/player/pagelist?bvid=&#123;bvid&#125;&amp;jsonp=jsonp&#x27;<br>Â Â Â Â resÂ =Â requests.get(danmu_page_link)<br>Â Â Â Â cid_pageÂ =Â json.loads(res.text)<br>Â Â Â Â cidÂ =Â cid_page[&#x27;data&#x27;][0][&#x27;cid&#x27;]<br>Â Â Â Â #Â è·å–cidæ—¶è¦æ³¨æ„è§†é¢‘æ˜¯ä¸æ˜¯å¤šp,è‡ªå·±åšå°å·¥å…·æ—¶ç”¨å…¶ä¸­1på°±å¯ä»¥<br>Â Â Â Â #Â cidsÂ =Â res_dict[&#x27;data&#x27;][&#x27;cid&#x27;]<br>Â Â Â Â #Â part_namesÂ =Â res_dict[&#x27;data&#x27;][&#x27;part&#x27;]<br>Â Â Â Â returnÂ cid<br>defÂ get_danmu(cid):<br>Â Â Â Â danmu_urlÂ =Â f&#x27;https://api.bilibili.com/x/v1/dm/list.so?oid=&#123;cid&#125;&#x27;<br>Â Â Â Â resÂ =Â requests.get(danmu_url)<br>Â Â Â Â res_xmlÂ =Â res.content.decode(&#x27;utf-8&#x27;)<br>Â Â Â Â patternÂ =Â re.compile(&#x27;&lt;d.*?&gt;(.*?)&lt;/d&gt;&#x27;)<br>Â Â Â Â danmu_listÂ =Â pattern.findall(res_xml)<br>Â Â Â Â returnÂ danmu_list<br>defÂ save_file(danmu_list):<br>Â Â Â Â file_pathÂ =Â &#x27;/Users/yao/www/python/bilibili/video/danmu_file.txt&#x27;<br>Â Â Â Â withÂ open(file_path,Â &#x27;w&#x27;,Â encoding=&#x27;utf-8&#x27;)Â asÂ file:<br>Â Â Â Â Â Â Â Â forÂ itemÂ inÂ danmu_list:<br>Â Â Â Â Â Â Â Â Â Â Â Â file.write(item)<br>Â Â Â Â Â Â Â Â Â Â Â Â file.write(&#x27;\n&#x27;)<br>defÂ main():<br>Â Â Â Â sourceÂ =Â &#x27;https://www.bilibili.com/video/BV1xs411Q799?p=1&#x27;<br>Â Â Â Â cidÂ =Â get_cid(source)<br>Â Â Â Â danmu_listÂ =Â get_danmu(cid)<br>Â Â Â Â save_file(danmu_list)<br>Â Â Â Â print(&#x27;fileÂ savedÂ successfully...&#x27;)<br>ifÂ __name__Â ==Â &#x27;__main__&#x27;:<br>Â Â Â Â main()<br></code></pre></td></tr></table></figure><h3 id="-1"><a href="#-1" class="headerlink" title=""></a></h3><h2 id="å¾—åˆ°çš„å¼¹å¹•æ–‡æœ¬"><a href="#å¾—åˆ°çš„å¼¹å¹•æ–‡æœ¬" class="headerlink" title="å¾—åˆ°çš„å¼¹å¹•æ–‡æœ¬"></a>å¾—åˆ°çš„å¼¹å¹•æ–‡æœ¬</h2><p><img src="http://tva1.sinaimg.cn/large/006hVAtMly1h862v5w4uwj30x30n2tfb.jpg" alt="å¼¹å¹•æ–‡æœ¬"></p><h3 id="å¼¹å¹•æ–‡æœ¬å›¾äº‘åˆ†æ"><a href="#å¼¹å¹•æ–‡æœ¬å›¾äº‘åˆ†æ" class="headerlink" title="å¼¹å¹•æ–‡æœ¬å›¾äº‘åˆ†æ"></a>å¼¹å¹•æ–‡æœ¬å›¾äº‘åˆ†æ</h3><h3 id="åˆ†è¯ä»£ç "><a href="#åˆ†è¯ä»£ç " class="headerlink" title="åˆ†è¯ä»£ç "></a>åˆ†è¯ä»£ç </h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs plain">importÂ jieba<br>fromÂ wordcloudÂ importÂ WordCloud<br>file_pathÂ =Â &#x27;/Users/yao/www/python/bilibili/video/danmu_file.txt&#x27;<br>withÂ open(file_path,Â &#x27;r&#x27;,Â encoding=&#x27;utf-8&#x27;)Â asÂ file:<br>Â Â Â Â text_strÂ =Â file.read()<br>seg_listÂ =Â jieba.cut(text_str)<br>word_strÂ =Â &quot;Â &quot;.join(seg_list)<br>font_pathÂ =Â &quot;/System/Library/Fonts/PingFang.ttc&quot;<br>wc_settintgÂ =Â &#123;<br>Â Â Â Â &#x27;font_path&#x27;:Â &#x27;/System/Library/Fonts/PingFang.ttc&#x27;,<br>Â Â Â Â &#x27;background_color&#x27;:Â &#x27;white&#x27;,<br>Â Â Â Â &#x27;width&#x27;:Â 1000,<br>Â Â Â Â &#x27;height&#x27;:Â 860,<br>Â Â Â Â &#x27;margin&#x27;:Â 2,<br>&#125;<br>wcÂ =Â WordCloud(**wc_settintg).generate(word_str)<br>wc.to_file(&#x27;/Users/yao/www/python/bilibili/video/xiaojiayu_python_p1.png&#x27;)<br>print(&#x27;wordcloudÂ done&#x27;)<br></code></pre></td></tr></table></figure><p>å‚è€ƒè§†é¢‘ï¼š<a href="https://www.bilibili.com/video/BV1g7411e7m4">https://www.bilibili.com/video/BV1g7411e7m4</a></p><h3 id="å¾—åˆ°çš„å›¾äº‘"><a href="#å¾—åˆ°çš„å›¾äº‘" class="headerlink" title="å¾—åˆ°çš„å›¾äº‘"></a>å¾—åˆ°çš„å›¾äº‘</h3><p>ï¼ˆB ç«™çš„å¥½å¤šå¼¹å¹•çœŸæ˜¯è¶Šæ¥è¶Šä¸èƒ½çœ‹äº†â€¦â€¦ï¼‰</p><p><img src="http://tva1.sinaimg.cn/large/006hVAtMly1h862vlyb7zj30rs0nwhb0.jpg" alt="å›¾ç‰‡"></p><h3 id="é‡åˆ°çš„é—®é¢˜ï¼šç”Ÿæˆçš„å›¾ç‰‡-ä¸­æ–‡ä¹±ç "><a href="#é‡åˆ°çš„é—®é¢˜ï¼šç”Ÿæˆçš„å›¾ç‰‡-ä¸­æ–‡ä¹±ç " class="headerlink" title="é‡åˆ°çš„é—®é¢˜ï¼šç”Ÿæˆçš„å›¾ç‰‡ ä¸­æ–‡ä¹±ç "></a>é‡åˆ°çš„é—®é¢˜ï¼šç”Ÿæˆçš„å›¾ç‰‡ ä¸­æ–‡ä¹±ç </h3><p>æŸ¥äº†ä¸€ä¸‹è¿™æ˜¯å› ä¸ºä¸­æ–‡å­—ä½“åŒ…ä¸é€‚é…ï¼Œç„¶åå‘ç°æˆ‘ä»¬ç”¨ mac è‡ªå¸¦çš„è‹¹æ–¹å­—ä½“å°±èƒ½éå¸¸ç®€å•çš„æå®šã€‚åšè¯äº‘çš„æ—¶å€™ç”¨çš„ Macï¼Œæ‰€ä»¥ Windows çš„è§£å†³æ–¹æ³•æ²¡æœ‰å°è¯•ã€‚</p><p>æœ¬åœ°è·¯å¾„æ˜¯ï¼š</p><p>font_path &#x3D; â€œ&#x2F;System&#x2F;Library&#x2F;Fonts&#x2F;PingFang.ttcâ€</p><p><img src="http://tva1.sinaimg.cn/large/006hVAtMly1h8633ekz39j310n0m4wob.jpg" alt="æœ¬åœ°è·¯å¾„"></p><p>åœ¨ç”µè„‘ä¸­æŸ¥çœ‹ï¼š</p><ol><li>å¯åŠ¨å°â€”â€”å…¶ä»–â€”â€”æ‰“å¼€å­—ä½“å†Œ</li></ol><p><img src="http://tva1.sinaimg.cn/large/006hVAtMly1h862w3tpsqj310n0l4qai.jpg" alt="Macçš„å­—ä½“å†Œ"></p><ol start="2"><li>å¦‚æœä½ ä¹‹å‰æ²¡æœ‰æ”¹è¿‡ç³»ç»Ÿå­—ä½“çš„è¯ï¼Œé»˜è®¤é€‰ä¸­è‹¹æ–¹ç®€ä½“ï¼Œå³é”®é€‰æ‹©åœ¨ Finder ä¸­æ˜¾ç¤º</li></ol><p><img src="http://tva1.sinaimg.cn/large/006hVAtMly1h862wi06aqj310o0pjdpz.jpg" alt="é€‰æ‹©å­—ä½“"></p><p><img src="http://tva1.sinaimg.cn/large/006hVAtMly1h862wyj4x2j310o0fpk0a.jpg" alt="éœ€è¦çš„å­—ä½“åŒ…"></p><p>è¿™å°±æ˜¯æˆ‘ä»¬éœ€è¦çš„å­—ä½“åŒ…ã€‚</p><p>å¦‚æœä¸éœ€è¦å…¶ä»–å‚æ•°çš„è¯ï¼Œå­—ä½“è·¯å¾„ç›´æ¥ä¼ å…¥ WordCloud()å‚æ•°å°±å¯ä»¥äº†ã€‚</p><p>wc &#x3D; WordCloud(font_path).generate(word_str)</p><p>è¯äº‘å®˜æ–¹æ–‡æ¡£åœ°å€ï¼š<a href="https://github.com/amueller/word_cloud">https://github.com/amueller/word_cloud</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>pythonçˆ¬è™«ä¹‹ï¼šæŸç”¨æˆ·æ‰€æœ‰å¾®åšçš„ç®€å•å¤‡ä»½</title>
    <link href="/2020/07/20/python%E7%88%AC%E8%99%AB%E4%B9%8B%EF%BC%9A%E6%9F%90%E7%94%A8%E6%88%B7%E6%89%80%E6%9C%89%E5%BE%AE%E5%8D%9A%E7%9A%84%E7%AE%80%E5%8D%95%E5%A4%87%E4%BB%BD/"/>
    <url>/2020/07/20/python%E7%88%AC%E8%99%AB%E4%B9%8B%EF%BC%9A%E6%9F%90%E7%94%A8%E6%88%B7%E6%89%80%E6%9C%89%E5%BE%AE%E5%8D%9A%E7%9A%84%E7%AE%80%E5%8D%95%E5%A4%87%E4%BB%BD/</url>
    
    <content type="html"><![CDATA[<h3 id="python-çˆ¬è™«ä»£ç "><a href="#python-çˆ¬è™«ä»£ç " class="headerlink" title="python çˆ¬è™«ä»£ç "></a>python çˆ¬è™«ä»£ç </h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><code class="hljs plain"><br>#Â ç›®çš„ï¼šç¼–å†™ç®€æ˜“å¾®åšå¤‡ä»½å·¥å…·,Â å°†æŒ‡å®šå¾®åšå¤‡ä»½ä¸ºtxtæ–‡æœ¬<br>#Â 1.Â Â å­¦ä¹ pythonä½¿ç”¨<br>#Â 2.Â Â å­¦ä¹ ä½¿ç”¨pythonè·å–webé¡µé¢(å­¦ä¹ httpè°ƒç”¨/äº†è§£ç®€å•ç½‘ç»œè¯·æ±‚æ–¹å¼/ä½¿ç”¨å¤–éƒ¨åº“)<br>#Â 3.Â Â ä½¿ç”¨pythonæŠ“å–å¾®åšæ¥å£(äº†è§£æµè§ˆå™¨æŠ“åŒ…æ–¹æ³•,Â httpåŸºç¡€è§„èŒƒ)<br>#Â 4.Â Â å°†æŠ“å–æ¥å£å­˜å…¥æ•°æ®åº“ä¸­(æŒæ¡æœ¬åœ°æ•°æ®åº“æ„å»ºå­˜å–/sqlçš„å¢åˆ æ”¹æŸ¥å†™æ³•)<br>#Â 5.Â Â ä»æ•°æ®åº“ä¸­è¯»å–æ¥å£,Â è¾“å‡ºtxtæ–‡æœ¬<br>importÂ requests<br>importÂ json<br>importÂ time<br>importÂ sqlite3<br>fromÂ bs4Â importÂ BeautifulSoup<br>defÂ get_page(url):<br>Â Â Â Â headersÂ =Â &#123;<br>Â Â Â Â Â Â Â Â &#x27;User-Agent&#x27;:Â &#x27;Mozilla/5.0Â (MacintoshÂ IntelÂ MacÂ OSÂ XÂ 10_14_6)Â AppleWebKit/537.36Â (KHTML,Â likeÂ Gecko)Â Chrome/83.0.4103.61Â Safari/537.36&#x27;,<br>Â Â Â Â Â Â Â Â &#x27;referer&#x27;:Â &#x27;https://m.weibo.cn/u/6587600437&#x27;<br>Â Â Â Â &#125;<br>Â Â Â Â #Â target_urlÂ =Â &#x27;https://m.weibo.cn/u/1768825052?uid=1768825052&amp;luicode=10000011&amp;lfid=1076031768825052&#x27;<br>Â Â Â Â resÂ =Â requests.get(url,Â headers=headers)<br>Â Â Â Â returnÂ res<br>defÂ get_since_id(res):<br>Â Â Â Â weibo_jsonÂ =Â json.loads(res.text)<br>Â Â Â Â since_idÂ =Â int(weibo_json[&#x27;data&#x27;][&#x27;cardlistInfo&#x27;][&#x27;since_id&#x27;])<br>Â Â Â Â returnÂ since_id<br>defÂ get_weibo(res):<br>Â Â Â Â weibo_jsonÂ =Â json.loads(res.text)<br>Â Â Â Â weibo_cardsÂ =Â weibo_json[&quot;data&quot;][&quot;cards&quot;]<br>Â Â Â Â weibo_idÂ =Â []<br>Â Â Â Â weibo_timeÂ =Â []<br>Â Â Â Â weibo_textÂ =Â []<br>Â Â Â Â reposts_countÂ =Â []<br>Â Â Â Â comments_countÂ =Â []<br>Â Â Â Â attitudes_countÂ =Â []<br>Â Â Â Â forÂ eachÂ inÂ weibo_cards:<br>Â Â Â Â Â Â Â Â weibo_id.append(each[&quot;mblog&quot;][&quot;id&quot;])<br>Â Â Â Â Â Â Â Â weibo_text.append(each[&quot;mblog&quot;][&quot;text&quot;])<br>Â Â Â Â Â Â Â Â weibo_time.append(each[&#x27;mblog&#x27;][&#x27;created_at&#x27;])<br>Â Â Â Â Â Â Â Â reposts_count.append(each[&#x27;mblog&#x27;][&#x27;reposts_count&#x27;])<br>Â Â Â Â Â Â Â Â comments_count.append(each[&#x27;mblog&#x27;][&#x27;comments_count&#x27;])<br>Â Â Â Â Â Â Â Â attitudes_count.append(each[&#x27;mblog&#x27;][&#x27;attitudes_count&#x27;])<br>Â Â Â Â weibo_matrixÂ =Â [weibo_id,Â weibo_time,Â weibo_text,<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â reposts_count,Â comments_count,Â attitudes_count]<br>Â Â Â Â resultÂ =Â list(zip(*weibo_matrix))<br>Â Â Â Â returnÂ result<br>connÂ =Â sqlite3.connect(&#x27;weibo.db&#x27;)<br>cÂ =Â conn.cursor()<br>defÂ create_table():<br>Â Â Â Â c.execute(&quot;&quot;&quot;CREATEÂ TABLEÂ IFÂ NOTÂ EXISTSÂ weibo_person(<br>Â Â Â Â Â Â Â Â weibo_idÂ int,<br>Â Â Â Â Â Â Â Â created_atÂ text,<br>Â Â Â Â Â Â Â Â weibo_textÂ text,<br>Â Â Â Â Â Â Â Â reposts_countÂ int,<br>Â Â Â Â Â Â Â Â comments_countÂ int,<br>Â Â Â Â Â Â Â Â attitudes_countÂ int<br>Â Â Â Â Â Â Â Â )&quot;&quot;&quot;)<br>defÂ query_and_output():<br>Â Â Â Â c.execute(&#x27;SELECTÂ *Â FROMÂ weibo_person&#x27;)<br>Â Â Â Â dataÂ =Â c.fetchall()<br>Â Â Â Â c.close()<br>Â Â Â Â conn.close()<br>Â Â Â Â withÂ open(&#x27;/Users/yao/www/python/å¾®åš/leftchenn.txt&#x27;,Â &#x27;w&#x27;,Â encoding=&#x27;utf-8&#x27;)Â asÂ file:<br>Â Â Â Â Â Â Â Â forÂ itemÂ inÂ data:<br>Â Â Â Â Â Â Â Â Â Â Â Â stringÂ =Â f&#x27;å‘å¸ƒæ—¶é—´ï¼š&#123;item[1]&#125;Â \nÂ å¾®åšå†…å®¹ï¼š&#123;item[2]&#125;Â \nÂ è½¬å‘æ•°ï¼š&#123;item[3]&#125;Â è¯„è®ºæ•°ï¼š&#123;item[4]&#125;Â è½¬å‘æ•°ï¼š&#123;item[5]&#125;Â \n\n\nÂ &#x27;<br>Â Â Â Â Â Â Â Â Â Â Â Â file.write(string)<br>defÂ main():<br>Â Â Â Â hostÂ =Â &quot;https://m.weibo.cn/u/1768825052&quot;<br>Â Â Â Â target_urlÂ =Â &#x27;https://m.weibo.cn/api/container/getIndex?uid=1768825052&amp;luicode=10000011&amp;lfid=1076031768825052&amp;type=uid&amp;value=1768825052&amp;containerid=1076031768825052&#x27;<br>Â Â Â Â resÂ =Â get_page(target_url)<br>Â Â Â Â resultÂ =Â get_weibo(res)<br>Â Â Â Â since_idÂ =Â get_since_id(res)<br>Â Â Â Â forÂ iÂ inÂ range(10):<br>Â Â Â Â Â Â Â Â print(&#x27;pageÂ &#123;&#125;Â scraping...&#x27;.format(i))<br>Â Â Â Â Â Â Â Â new_urlÂ =Â f&#x27;https://m.weibo.cn/api/container/getIndex?uid=1768825052&amp;luicode=10000011&amp;lfid=1076031768825052&amp;type=uid&amp;value=1768825052&amp;containerid=1076031768825052&amp;since_id=&#123;since_id&#125;&#x27;<br>Â Â Â Â Â Â Â Â time.sleep(1)<br>Â Â Â Â Â Â Â Â resÂ =Â get_page(new_url)<br>Â Â Â Â Â Â Â Â result.extend(get_weibo(res))<br>Â Â Â Â Â Â Â Â since_idÂ =Â get_since_id(res)<br>Â Â Â Â Â Â Â Â print(&#x27;pageÂ &#123;&#125;Â scrapÂ done...&#x27;.format(i))<br>Â Â Â Â create_table()<br>Â Â Â Â c.executemany(&#x27;INSERTÂ INTOÂ weibo_personÂ VALUES(?,?,?,?,?,?)&#x27;,Â result)<br>Â Â Â Â conn.commit()<br>Â Â Â Â print(&#x27;insertÂ successfully...&#x27;)<br>Â Â Â Â query_and_output()<br>Â Â Â Â print(&#x27;outputÂ successfully...&#x27;)<br>ifÂ __name__Â ==Â &quot;__main__&quot;:<br>Â Â Â Â main()<br></code></pre></td></tr></table></figure><h3 id="æ•°æ®åº“å†…å®¹"><a href="#æ•°æ®åº“å†…å®¹" class="headerlink" title="æ•°æ®åº“å†…å®¹"></a>æ•°æ®åº“å†…å®¹</h3><p><img src="http://tva1.sinaimg.cn/large/006hVAtMly1h8630dmegyj315n0lf4pb.jpg" alt="weibo.db/weibo_person"></p><h3 id="å¾—åˆ°çš„æ–‡æœ¬"><a href="#å¾—åˆ°çš„æ–‡æœ¬" class="headerlink" title="å¾—åˆ°çš„æ–‡æœ¬"></a>å¾—åˆ°çš„æ–‡æœ¬</h3><p><img src="http://tva1.sinaimg.cn/large/006hVAtMly1h8630t7jrgj30x30n27hd.jpg" alt="å¾®åšæ–‡æœ¬"></p>]]></content>
    
    
    
    <tags>
      
      <tag>python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>pythonçˆ¬è™«ä¹‹ï¼šæŠ“å–ç½‘æ˜“äº‘éŸ³ä¹æŸé¦–æ­Œæ›²çš„çƒ­é—¨è¯„è®º</title>
    <link href="/2020/07/16/python%E7%88%AC%E8%99%AB%E4%B9%8B%EF%BC%9A%E6%8A%93%E5%8F%96%E7%BD%91%E6%98%93%E4%BA%91%E9%9F%B3%E4%B9%90%E6%9F%90%E9%A6%96%E6%AD%8C%E6%9B%B2%E7%9A%84%E7%83%AD%E9%97%A8%E8%AF%84%E8%AE%BA/"/>
    <url>/2020/07/16/python%E7%88%AC%E8%99%AB%E4%B9%8B%EF%BC%9A%E6%8A%93%E5%8F%96%E7%BD%91%E6%98%93%E4%BA%91%E9%9F%B3%E4%B9%90%E6%9F%90%E9%A6%96%E6%AD%8C%E6%9B%B2%E7%9A%84%E7%83%AD%E9%97%A8%E8%AF%84%E8%AE%BA/</url>
    
    <content type="html"><![CDATA[<h3 id="é¦–å…ˆï¼Œä»¥è¿™é¦–æ­Œä¸ºä¾‹ï¼š"><a href="#é¦–å…ˆï¼Œä»¥è¿™é¦–æ­Œä¸ºä¾‹ï¼š" class="headerlink" title="é¦–å…ˆï¼Œä»¥è¿™é¦–æ­Œä¸ºä¾‹ï¼š"></a>é¦–å…ˆï¼Œä»¥è¿™é¦–æ­Œä¸ºä¾‹ï¼š</h3><p><img src="http://tva1.sinaimg.cn/large/006hVAtMly1h862y28j2jj30ui0mxn5v.jpg" alt="å›¾ç‰‡"></p><h3 id="python-ä»£ç å¦‚ä¸‹ï¼š"><a href="#python-ä»£ç å¦‚ä¸‹ï¼š" class="headerlink" title="python ä»£ç å¦‚ä¸‹ï¼š"></a>python ä»£ç å¦‚ä¸‹ï¼š</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs plain">importÂ requests<br>importÂ json<br>#Â importÂ BeautifulSoupÂ fromÂ bs4<br>defÂ get_hotComments(res):<br>Â Â Â Â comments_jsonÂ =Â json.loads(res.text)<br>Â Â Â Â hot_commentsÂ =Â comments_json[&#x27;hotComments&#x27;]<br>Â Â Â Â withÂ open(&#x27;/Users/yao/www/python/evol-love.txt&#x27;,Â &#x27;w&#x27;,Â encoding=&#x27;utf-8&#x27;)Â asÂ file:<br>Â Â Â Â Â Â Â Â forÂ eachÂ inÂ hot_comments:<br>Â Â Â Â Â Â Â Â Â Â Â Â file.write(each[&#x27;user&#x27;][&#x27;nickname&#x27;]Â +Â &#x27;:Â \n\n&#x27;)<br>Â Â Â Â Â Â Â Â Â Â Â Â file.write(each[&#x27;content&#x27;]Â +Â &#x27;\n&#x27;)<br>Â Â Â Â Â Â Â Â Â Â Â Â #Â file.write(each[&#x27;likedCount&#x27;]Â +Â &#x27;\n&#x27;)<br>Â Â Â Â Â Â Â Â Â Â Â Â #Â file.write(each[&#x27;time&#x27;]Â +Â &#x27;\n&#x27;)<br>Â Â Â Â Â Â Â Â Â Â Â Â file.write(&#x27;--â¤-----------â¤--\n&#x27;)<br>defÂ get_comments(url):<br>Â Â Â Â song_idÂ =Â url.split(&#x27;=&#x27;)[1]<br>Â Â Â Â headersÂ =Â &#123;<br>Â Â Â Â Â Â Â Â &#x27;user-agent&#x27;:Â &#x27;curlÂ https://bootstrap.pypa.io/get-pip.pyÂ |Â python3&#x27;,<br>Â Â Â Â Â Â Â Â &#x27;referer&#x27;:Â &#x27;https://music.163.com/song?id=1381290746&#x27;&#125;<br>Â Â Â Â paramsÂ =Â &#x27;15S1vG2hDWPcsAeXpjYIcwuRpK7nwElk3Cdy6c/3aJdbH5aBub7nWrYPxZQaMzKrhFSUo1n4nGHkCbaZAl77WSFPMYjjv6sU5Qipnqnn4QjXRH6eN1w/PcauCCUo4NDgaw/Uudad5J/zpgDY2005gC3UF+s2s/ND5tjXTU0SeDkiBg47A6b6VqhK/7E/hS9++nlvAC7QkkzCbsXZMp/jyBl5+KroeMcGAfFumxZ5pME=&#x27;<br>Â Â Â Â encSecKeyÂ =Â &#x27;3f5dbdd0ec1f0a1501b88f6e04ce30ecf88192b4e3a92bd2dc1216f2ccc90898211e6347a2ab36d07f93793352ff6559fb927b7cbd337f5887d2af7b442e2dfb0b4abd83e85c6c3bb20fe2beef050db4c169531411f4e23caaa201f62609fcda4de694c8e9e759443fea2f7febf044bd9c4bcb2697519ca96dca676730059156&#x27;<br>Â Â Â Â dataÂ =Â &#123;<br>Â Â Â Â Â Â Â Â &#x27;params&#x27;:Â params,<br>Â Â Â Â Â Â Â Â &#x27;encSecKey&#x27;:Â encSecKey<br>Â Â Â Â &#125;<br>Â Â Â Â target_urlÂ =Â &#x27;https://music.163.com/weapi/v1/resource/comments/R_SO_4_&#123;&#125;?csrf_token=55a6b8514346a9f676c8485978093b9f&#x27;.format(song_id)<br>Â Â Â Â resÂ =Â requests.post(target_url,Â headers=headers,Â data=data)<br>Â Â Â Â #Â rawHTMLÂ =Â Â &#x27;&#x27;<br>Â Â Â Â #Â soupÂ =Â BeautifulSoup(rawHTML)<br>Â Â Â Â #Â file_name_objÂ =Â soup.select_one(&#x27;.f-ff2&#x27;)<br>Â Â Â Â #Â file_nameÂ =Â file_name_obj.text<br>Â Â Â Â returnÂ res<br>defÂ main():<br>Â Â Â Â urlÂ =Â input(&#x27;pleaseÂ inputÂ songÂ url:&#x27;)<br>Â Â Â Â resÂ =Â get_comments(url)<br>Â Â Â Â #Â titleÂ =Â get_title(url)<br>Â Â Â Â get_hotComments(res)<br>ifÂ __name__Â ==Â &quot;__main__&quot;:<br>Â Â Â Â main()<br></code></pre></td></tr></table></figure><p>å¾—åˆ°çš„txtæ–‡ä»¶å¦‚ä¸‹ï¼ˆå¦‚æœ‰éœ€è¦å¯è¿›ä¸€æ­¥åˆ†æï¼‰ï¼š</p><p><img src="http://tva1.sinaimg.cn/large/006hVAtMly1h862yhqxhzj30x30n2wq5.jpg" alt="å›¾ç‰‡"></p>]]></content>
    
    
    
    <tags>
      
      <tag>python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>pythonçˆ¬è™«ä¹‹ï¼šæŠ“å–è±†ç“£ç”µå½±TOP250</title>
    <link href="/2020/07/13/python%E7%88%AC%E8%99%AB%E4%B9%8B%EF%BC%9A%E6%8A%93%E5%8F%96%E8%B1%86%E7%93%A3%E7%94%B5%E5%BD%B1TOP250/"/>
    <url>/2020/07/13/python%E7%88%AC%E8%99%AB%E4%B9%8B%EF%BC%9A%E6%8A%93%E5%8F%96%E8%B1%86%E7%93%A3%E7%94%B5%E5%BD%B1TOP250/</url>
    
    <content type="html"><![CDATA[<p>è±†ç“£ç”¨æˆ·æ¯å¤©éƒ½åœ¨å¯¹â€œçœ‹è¿‡â€çš„ç”µå½±è¿›è¡Œâ€œå¾ˆå·®â€åˆ°â€œåŠ›èâ€çš„è¯„ä»·ï¼Œè±†ç“£æ ¹æ®æ¯éƒ¨å½±ç‰‡çœ‹è¿‡çš„äººæ•°ä»¥åŠè¯¥å½±ç‰‡æ‰€å¾—çš„è¯„ä»·ç­‰ç»¼åˆæ•°æ®ï¼Œé€šè¿‡ç®—æ³•åˆ†æäº§ç”Ÿè±†ç“£ç”µå½± Top 250ã€‚</p><h3 id="åŸå§‹ç½‘é¡µï¼š"><a href="#åŸå§‹ç½‘é¡µï¼š" class="headerlink" title="åŸå§‹ç½‘é¡µï¼š"></a>åŸå§‹ç½‘é¡µï¼š</h3><p><a href="https://movie.douban.com/top250">https://movie.douban.com/top250</a></p><p><img src="http://tva1.sinaimg.cn/large/006hVAtMly1h862z87o1hj31hc0p3nex.jpg" alt="å›¾ç‰‡"></p><h3 id="python-çˆ¬è™«ä»£ç "><a href="#python-çˆ¬è™«ä»£ç " class="headerlink" title="python çˆ¬è™«ä»£ç "></a>python çˆ¬è™«ä»£ç </h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><code class="hljs plain">importÂ requests<br>fromÂ bs4Â importÂ BeautifulSoup<br>importÂ sqlite3<br>importÂ time<br>defÂ open_url(url):<br>Â Â Â Â headersÂ =Â &#123;<br>Â Â Â Â Â Â Â Â &#x27;User-Agent&#x27;:Â &#x27;Mozilla/5.0Â (Macintosh;Â IntelÂ MacÂ OSÂ XÂ 10_14_6)Â AppleWebKit/537.36Â (KHTML,Â likeÂ Gecko)Â Chrome/83.0.4103.61Â Safari/537.36&#x27;,<br>Â Â Â Â Â Â Â Â &quot;Cookie&quot;:Â &#x27;bid=U5nCZ8p0dQU;Â gr_user_id=cb5f0143-dc7b-4558-8ca8-645601af3a4c;Â _vwo_uuid_v2=D8FFB9019ECC277DA812225E3B2109D06|9ff6373ff5de826c9b373e0499c2fd95;Â __gads=ID=fca53c413c37e6b3:T=1583725810:S=ALNI_Ma0O2oj2sLthssNt4FqeaZYp7EL_Q;Â ll=&quot;108288&quot;;Â douban-fav-remind=1;Â __yadk_uid=UtObTTkrwA7qukDAgdd2INMv9LH52PEA;Â viewed=&quot;26829016_26264642_26277694_4315606_1955110_1400498_4065258_1094802_26939853_12411215&quot;;Â __utmc=30149280;Â __utmc=223695111;Â dbcl2=&quot;33304907:UiHXJr1eiGI&quot;;Â ck=PYWO;Â _pk_ref.100001.4cf6=%5B%22%22%2C%22%22%2C1591627160%2C%22https%3A%2F%2Faccounts.douban.com%2Fpassport%2Flogin%3Fredir%3Dhttps%253A%252F%252Fmovie.douban.com%252Ftop250%22%5D;Â _pk_ses.100001.4cf6=*;Â __utma=30149280.542734861.1583725808.1591614666.1591627161.51;Â __utmb=30149280.0.10.1591627161;Â __utmz=30149280.1591627161.51.46.utmcsr=accounts.douban.com|utmccn=(referral)|utmcmd=referral|utmcct=/passport/login;Â __utma=223695111.1397865339.1583730183.1591614666.1591627161.10;Â __utmb=223695111.0.10.1591627161;Â __utmz=223695111.1591627161.10.8.utmcsr=accounts.douban.com|utmccn=(referral)|utmcmd=referral|utmcct=/passport/login;Â push_noty_num=0;Â push_doumail_num=0;Â _pk_id.100001.4cf6=6441328ab4c5f495.1583730182.10.1591627294.1591614962.&#x27;,<br>Â Â Â Â Â Â Â Â &#x27;Accept&#x27;:Â &#x27;text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9&#x27;<br>Â Â Â Â &#125;<br>Â Â Â Â resÂ =Â requests.get(url,Â headers=headers)<br>Â Â Â Â returnÂ res<br>defÂ find_moives(res):<br>Â Â Â Â soupÂ =Â BeautifulSoup(res.text,Â &#x27;html.parser&#x27;)<br>Â Â Â Â #Â ç”µå½±å<br>Â Â Â Â moviesÂ =Â []<br>Â Â Â Â targetsÂ =Â soup.find_all(&#x27;div&#x27;,Â class_=&#x27;hd&#x27;)<br>Â Â Â Â forÂ eachÂ inÂ targets:<br>Â Â Â Â Â Â Â Â movies.append(each.a.span.text)<br>Â Â Â Â #Â è¯„åˆ†<br>Â Â Â Â ranksÂ =Â []<br>Â Â Â Â targetsÂ =Â soup.find_all(&#x27;em&#x27;)<br>Â Â Â Â forÂ eachÂ inÂ targets:<br>Â Â Â Â Â Â Â Â indexÂ =Â int(each.text)<br>Â Â Â Â Â Â Â Â ranks.append(index)<br>Â Â Â Â #Â èµ„æ–™<br>Â Â Â Â profilesÂ =Â []<br>Â Â Â Â targetsÂ =Â soup.find_all(&#x27;div&#x27;,Â class_=&#x27;bd&#x27;)<br>Â Â Â Â forÂ eachÂ inÂ targets:<br>Â Â Â Â Â Â Â Â try:<br>Â Â Â Â Â Â Â Â Â Â Â Â profiles.append(each.p.text.split(&#x27;\n&#x27;)[<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â 1].strip()Â +Â each.p.text.split(&#x27;\n&#x27;)[2].strip())<br>Â Â Â Â Â Â Â Â except:<br>Â Â Â Â Â Â Â Â Â Â Â Â continue<br>Â Â Â Â data_matrixÂ =Â [ranks,Â movies,Â profiles]<br>Â Â Â Â resultÂ =Â list(zip(*data_matrix))<br>Â Â Â Â returnÂ result<br>defÂ find_depth(res):<br>Â Â Â Â soupÂ =Â BeautifulSoup(res.text,Â &#x27;html.parser&#x27;)<br>Â Â Â Â depthÂ =Â soup.find(<br>Â Â Â Â Â Â Â Â &#x27;span&#x27;,Â class_=&#x27;next&#x27;).previous_sibling.previous_sibling.text<br>Â Â Â Â returnÂ int(depth)<br>connÂ =Â sqlite3.connect(&quot;douban_movies.db&quot;)<br>cÂ =Â conn.cursor()<br>defÂ create_table():<br>Â Â Â Â c.execute(<br>Â Â Â Â Â Â Â Â &quot;CREATEÂ TABLEÂ IFÂ NOTÂ EXISTSÂ douban_movies250(item_idÂ INT,rankÂ INT,Â movieÂ TEXT,Â profileÂ TEXT)&quot;)<br>defÂ query_and_output():<br>Â Â Â Â c.execute(&#x27;SELECTÂ *Â FROMÂ douban_movies250&#x27;)<br>Â Â Â Â dataÂ =Â c.fetchall()<br>Â Â Â Â c.close()<br>Â Â Â Â conn.close()<br>Â Â Â Â withÂ open(&#x27;/Users/yao/www/python/douban_movies250.txt&#x27;,Â &#x27;w&#x27;,Â encoding=&#x27;utf-8&#x27;)Â asÂ file:<br>Â Â Â Â Â Â Â Â forÂ rowÂ inÂ data:<br>Â Â Â Â Â Â Â Â Â Â Â Â stringÂ =Â f&#x27;TopÂ &#123;row[1]&#125;Â :Â ã€Š&#123;row[2]&#125;ã€‹ï¼Œ\nÂ ç®€ä»‹ï¼šÂ &#123;row[3]&#125;\n&#x27;<br>Â Â Â Â Â Â Â Â Â Â Â Â file.write(string)<br>defÂ main():<br>Â Â Â Â hostÂ =Â &#x27;https://movie.douban.com/top250&#x27;<br>Â Â Â Â resÂ =Â open_url(host)<br>Â Â Â Â depthÂ =Â find_depth(res)<br>Â Â Â Â resultÂ =Â []<br>Â Â Â Â forÂ iÂ inÂ range(depth):<br>Â Â Â Â Â Â Â Â urlÂ =Â hostÂ +Â &#x27;/?start=&#x27;Â +Â str(25Â *Â i)<br>Â Â Â Â Â Â Â Â time.sleep(1)<br>Â Â Â Â Â Â Â Â resÂ =Â open_url(url)<br>Â Â Â Â Â Â Â Â result.extend(find_moives(res))<br>Â Â Â Â #Â item_idÂ =Â [iÂ forÂ iÂ inÂ range(250)]<br>Â Â Â Â #Â result_matrixÂ =Â [item_id,Â result]<br>Â Â Â Â #Â resultÂ =Â list(zip(*result_matrix))<br>Â Â Â Â create_table()<br>Â Â Â Â c.executemany(&#x27;INSERTÂ INTOÂ douban_movies250Â VALUES(?,?,?,?)&#x27;,Â result)<br>Â Â Â Â conn.commit()<br>Â Â Â Â print(&#x27;insertÂ databaseÂ successfully&#x27;)<br>Â Â Â Â query_and_output()<br>Â Â Â Â print(&#x27;outputÂ successfullyÂ &#x27;)<br>ifÂ __name__Â ==Â &quot;__main__&quot;:<br>Â Â Â Â main()<br></code></pre></td></tr></table></figure><h3 id="å¾—åˆ°çš„æ–‡æœ¬"><a href="#å¾—åˆ°çš„æ–‡æœ¬" class="headerlink" title="å¾—åˆ°çš„æ–‡æœ¬"></a>å¾—åˆ°çš„æ–‡æœ¬</h3><p><img src="http://tva1.sinaimg.cn/large/006hVAtMly1h862znrp9tj30x30n24kv.jpg" alt="å›¾ç‰‡"></p>]]></content>
    
    
    
    <tags>
      
      <tag>python</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
